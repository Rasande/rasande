!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";i.r(e);i(2),i(4),i(5),i(6),i(7)},function(t,e,i){var n,s,o,r,a,h,l,u,c,d,m,f,p,g,v,y,_,b,x,z,E;function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * Isotope PACKAGED v3.0.6
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * https://isotope.metafizzy.co
 * Copyright 2010-2018 Metafizzy
 */!function(n,s){z=[i(3)],void 0===(E=function(t){return function(t,e){"use strict";var i=Array.prototype.slice,n=t.console,s=void 0===n?function(){}:function(t){n.error(t)};function o(n,o,a){function h(t,e,i){var o,r="$()."+n+'("'+e+'")';return t.each((function(t,h){var l=a.data(h,n);if(l){var u=l[e];if(u&&"_"!=e.charAt(0)){var c=u.apply(l,i);o=void 0===o?c:o}else s(r+" is not a valid method")}else s(n+" not initialized. Cannot call methods, i.e. "+r)})),void 0!==o?o:t}function l(t,e){t.each((function(t,i){var s=a.data(i,n);s?(s.option(e),s._init()):(s=new o(i,e),a.data(i,n,s))}))}(a=a||e||t.jQuery)&&(o.prototype.option||(o.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[n]=function(t){if("string"==typeof t){var e=i.call(arguments,1);return h(this,t,e)}return l(this,t),this},r(a))}function r(t){!t||t&&t.bridget||(t.bridget=o)}return r(e||t.jQuery),o}(n,t)}.apply(e,z))||(t.exports=E)}(window),"undefined"!=typeof window&&window,o={id:"ev-emitter/ev-emitter",exports:{},loaded:!1},n="function"==typeof(s=function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var o=i[s];n&&n[o]&&(this.off(t,o),delete n[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?s.call(o.exports,i,o.exports,o):s,o.loaded=!0,void 0!==n||(n=o.exports),window,h={id:"get-size/get-size",exports:{},loaded:!1},r="function"==typeof(a=function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],n=i.length;function s(t){var i=getComputedStyle(t);return i||e("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),i}var o,r=!1;function a(e){if(function(){if(!r){r=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=s(e);o=200==Math.round(t(n.width)),a.isBoxSizeOuter=o,i.removeChild(e)}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==I(e)&&e.nodeType){var h=s(e);if("none"==h.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<n;e++)t[i[e]]=0;return t}();var l={};l.width=e.offsetWidth,l.height=e.offsetHeight;for(var u=l.isBorderBox="border-box"==h.boxSizing,c=0;c<n;c++){var d=i[c],m=h[d],f=parseFloat(m);l[d]=isNaN(f)?0:f}var p=l.paddingLeft+l.paddingRight,g=l.paddingTop+l.paddingBottom,v=l.marginLeft+l.marginRight,y=l.marginTop+l.marginBottom,_=l.borderLeftWidth+l.borderRightWidth,b=l.borderTopWidth+l.borderBottomWidth,x=u&&o,z=t(h.width);!1!==z&&(l.width=z+(x?0:p+_));var E=t(h.height);return!1!==E&&(l.height=E+(x?0:g+b)),l.innerWidth=l.width-(p+_),l.innerHeight=l.height-(g+b),l.outerWidth=l.width+v,l.outerHeight=l.height+y,l}}return a})?a.call(h.exports,i,h.exports,h):a,h.loaded=!0,void 0!==r||(r=h.exports),function(t,e){"use strict";c={id:"desandro-matches-selector/matches-selector",exports:{},loaded:!1},l="function"==typeof(u=e)?u.call(c.exports,i,c.exports,c):u,c.loaded=!0,void 0!==l||(l=c.exports)}(window,(function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(e,i){return e[t](i)}})),function(t,i){d=function(e){return function(t,e){var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},n=Array.prototype.slice;i.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==I(t)&&"number"==typeof t.length?n.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var s=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(n){e(t,n)&&s.push(t);for(var i=t.querySelectorAll(n),o=0;o<i.length;o++)s.push(i[o])}else s.push(t)})),s},i.debounceMethod=function(t,e,i){i=i||100;var n=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){var t=this[s];clearTimeout(t);var e=arguments,o=this;this[s]=setTimeout((function(){n.apply(o,e),delete o[s]}),i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()};var s=t.console;return i.htmlInit=function(e,n){i.docReady((function(){var o=i.toDashed(n),r="data-"+o,a=document.querySelectorAll("["+r+"]"),h=document.querySelectorAll(".js-"+o),l=i.makeArray(a).concat(i.makeArray(h)),u=r+"-options",c=t.jQuery;l.forEach((function(t){var i,o=t.getAttribute(r)||t.getAttribute(u);try{i=o&&JSON.parse(o)}catch(e){return void(s&&s.error("Error parsing "+r+" on "+t.className+": "+e))}var a=new e(t,i);c&&c.data(t,n,a)}))}))},i}(t,e)}.apply(e,z=[l])}(window),window,z=[n,r],m="function"==typeof(b=function(t,e){"use strict";var i=document.documentElement.style,n="string"==typeof i.transition?"transition":"WebkitTransition",s="string"==typeof i.transform?"transform":"WebkitTransform",o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],r={transform:s,transition:n,transitionDuration:n+"Duration",transitionProperty:n+"Property",transitionDelay:n+"Delay"};function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var h=a.prototype=Object.create(t.prototype);h.constructor=a,h._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},h.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},h.getSize=function(){this.size=e(this.element)},h.css=function(t){var e=this.element.style;for(var i in t)e[r[i]||i]=t[i]},h.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],s=t[i?"top":"bottom"],o=parseFloat(n),r=parseFloat(s),a=this.layout.size;-1!=n.indexOf("%")&&(o=o/100*a.width),-1!=s.indexOf("%")&&(r=r/100*a.height),o=isNaN(o)?0:o,r=isNaN(r)?0:r,o-=e?a.paddingLeft:a.paddingRight,r-=i?a.paddingTop:a.paddingBottom,this.position.x=o,this.position.y=r},h.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),s=i?"paddingLeft":"paddingRight",o=i?"left":"right",r=i?"right":"left",a=this.position.x+t[s];e[o]=this.getXValue(a),e[r]="";var h=n?"paddingTop":"paddingBottom",l=n?"top":"bottom",u=n?"bottom":"top",c=this.position.y+t[h];e[l]=this.getYValue(c),e[u]="",this.css(e),this.emitEvent("layout",[this])},h.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},h.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},h._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,s=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),!s||this.isTransitioning){var o=t-i,r=e-n,a={};a.transform=this.getTranslate(o,r),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},h.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},h.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},h.moveTo=h._transitionTo,h.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},h._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},h.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);t.from&&(this.css(t.from),this.element.offsetHeight),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var l="opacity,"+s.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}));h.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(o,this,!1)}},h.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},h.onotransitionend=function(t){this.ontransitionend(t)};var u={"-webkit-transform":"transform"};h.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=u[t.propertyName]||t.propertyName;delete e.ingProperties[i],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd&&(e.onEnd[i].call(this),delete e.onEnd[i]),this.emitEvent("transitionEnd",[this])}},h.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1},h._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var c={transitionProperty:"",transitionDuration:"",transitionDelay:""};return h.removeTransitionStyles=function(){this.css(c)},h.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},h.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},h.remove=function(){n&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),this.hide()):this.removeElem()},h.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},h.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},h.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},h.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},h.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},h.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a})?b.apply(e,z):b,
/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */
function(t,i){"use strict";f=function(e,i,n,s){return function(t,e,i,n,s){var o=t.console,r=t.jQuery,a=function(){},h=0,l={};function u(t,e){var i=n.getQueryElement(t);if(i){this.element=i,r&&(this.$element=r(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var s=++h;this.element.outlayerGUID=s,l[s]=this,this._create(),this._getOption("initLayout")&&this.layout()}else o&&o.error("Bad element for "+this.constructor.namespace+": "+(i||t))}u.namespace="outlayer",u.Item=s,u.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var c=u.prototype;function d(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}n.extend(c,e.prototype),c.option=function(t){n.extend(this.options,t)},c._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},u.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},c._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},c.reloadItems=function(){this.items=this._itemize(this.element.children)},c._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],s=0;s<e.length;s++){var o=new i(e[s],this);n.push(o)}return n},c._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},c.getItemElements=function(){return this.items.map((function(t){return t.element}))},c.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},c._init=c.layout,c._resetLayout=function(){this.getSize()},c.getSize=function(){this.size=i(this.element)},c._getMeasurement=function(t,e){var n,s=this.options[t];s?("string"==typeof s?n=this.element.querySelector(s):s instanceof HTMLElement&&(n=s),this[t]=n?i(n)[e]:s):this[t]=0},c.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},c._getItemsForLayout=function(t){return t.filter((function(t){return!t.isIgnored}))},c._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach((function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)}),this),this._processLayoutQueue(i)}},c._getItemLayoutPosition=function(){return{x:0,y:0}},c._processLayoutQueue=function(t){this.updateStagger(),t.forEach((function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)}),this)},c.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;return(i=parseFloat(i))*(m[n]||1)}(t),this.stagger;this.stagger=0},c._positionItem=function(t,e,i,n,s){n?t.goTo(e,i):(t.stagger(s*this.stagger),t.moveTo(e,i))},c._postLayout=function(){this.resizeContainer()},c.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},c._getContainerSize=a,c._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},c._emitCompleteOnItems=function(t,e){var i=this;function n(){i.dispatchEvent(t+"Complete",null,[e])}var s=e.length;if(e&&s){var o=0;e.forEach((function(e){e.once(t,r)}))}else n();function r(){++o==s&&n()}},c.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),r)if(this.$element=this.$element||r(this.element),e){var s=r.Event(e);s.type=t,this.$element.trigger(s,i)}else this.$element.trigger(t,i)},c.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},c.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},c.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},c.unstamp=function(t){(t=this._find(t))&&t.forEach((function(t){n.removeFrom(this.stamps,t),this.unignore(t)}),this)},c._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)},c._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},c._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},c._manageStamp=a,c._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,s=i(t);return{left:e.left-n.left-s.marginLeft,top:e.top-n.top-s.marginTop,right:n.right-e.right-s.marginRight,bottom:n.bottom-e.bottom-s.marginBottom}},c.handleEvent=n.handleEvent,c.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},c.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},c.onresize=function(){this.resize()},n.debounceMethod(u,"onresize",100),c.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},c.needsResizeLayout=function(){var t=i(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},c.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},c.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},c.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},c.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,i){t.stagger(i*e),t.reveal()}))}},c.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,i){t.stagger(i*e),t.hide()}))}},c.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},c.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},c.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},c.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach((function(t){var i=this.getItem(t);i&&e.push(i)}),this),e},c.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach((function(t){t.remove(),n.removeFrom(this.items,t)}),this)},c.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach((function(t){t.destroy()})),this.unbindResize();var e=this.element.outlayerGUID;delete l[e],delete this.element.outlayerGUID,r&&r.removeData(this.element,this.constructor.namespace)},u.data=function(t){var e=(t=n.getQueryElement(t))&&t.outlayerGUID;return e&&l[e]},u.create=function(t,e){var i=d(u);return i.defaults=n.extend({},u.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},u.compatOptions),i.namespace=t,i.data=u.data,i.Item=d(s),n.htmlInit(i,t),r&&r.bridget&&r.bridget(t,i),i};var m={ms:1,s:1e3};return u.Item=s,u}(t,e,i,n,s)}.apply(e,z=[n,r,d,m])}(window),window,z=[f],p="function"==typeof(b=function(t){"use strict";function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),n=i._create;i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var s=i.destroy;return i.destroy=function(){s.apply(this,arguments),this.css({display:""})},e})?b.apply(e,z):b,window,z=[r,f],g="function"==typeof(b=function(t,e){"use strict";function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var n=i.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach((function(t){n[t]=function(){return e.prototype[t].apply(this.isotope,arguments)}})),n.needsVerticalResizeLayout=function(){var e=t(this.isotope.element);return this.isotope.size&&e&&e.innerHeight!=this.isotope.size.innerHeight},n._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.getRowHeight=function(){this.getSegmentSize("row","Height")},n.getSegmentSize=function(t,e){var i=t+e,n="outer"+e;if(this._getMeasurement(i,n),!this[i]){var s=this.getFirstItemSize();this[i]=s&&s[n]||this.isotope.size["inner"+e]}},n.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},n.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function s(){i.apply(this,arguments)}return s.prototype=Object.create(n),s.prototype.constructor=s,e&&(s.options=e),s.prototype.namespace=t,i.modes[t]=s,s},i})?b.apply(e,z):b,window,z=[f,r],v="function"==typeof(b=function(t,e){var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var n=i.prototype;return n._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},n.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,s=this.containerWidth+this.gutter,o=s/n,r=n-s%n;o=Math[r&&r<1?"round":"floor"](o),this.cols=Math.max(o,1)},n.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},n._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var n=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,t),s={x:this.columnWidth*n.col,y:n.y},o=n.y+t.size.outerHeight,r=i+n.col,a=n.col;a<r;a++)this.colYs[a]=o;return s},n._getTopColPosition=function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},n._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++)e[n]=this._getColGroupY(n,t);return e},n._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},n._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols;i=t>1&&i+t>this.cols?0:i;var n=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=n?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},n._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),s=this._getOption("originLeft")?n.left:n.right,o=s+i.outerWidth,r=Math.floor(s/this.columnWidth);r=Math.max(0,r);var a=Math.floor(o/this.columnWidth);a-=o%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var h=(this._getOption("originTop")?n.top:n.bottom)+i.outerHeight,l=r;l<=a;l++)this.colYs[l]=Math.max(h,this.colYs[l])},n._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},n._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i})?b.apply(e,z):b,window,z=[g,v],y="function"==typeof(b=function(t,e){"use strict";var i=t.create("masonry"),n=i.prototype,s={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var o in e.prototype)s[o]||(n[o]=e.prototype[o]);var r=n.measureColumns;n.measureColumns=function(){this.items=this.isotope.filteredItems,r.call(this)};var a=n._getOption;return n._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)},i})?b.apply(e,z):b,window,z=[g],_="function"==typeof(b=function(t){"use strict";var e=t.create("fitRows"),i=e.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},i._getContainerSize=function(){return{height:this.maxY}},e})?b.apply(e,z):b,window,z=[g],x="function"==typeof(b=function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0}),i=e.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},i._getContainerSize=function(){return{height:this.y}},e})?b.apply(e,z):b,
/*!
 * Isotope v3.0.6
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * https://isotope.metafizzy.co
 * Copyright 2010-2018 Metafizzy
 */
function(i,n){void 0===(E=function(t,e,n,s,o,r){return function(t,e,i,n,s,o,r){var a=t.jQuery,h=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},l=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});l.Item=o,l.LayoutMode=r;var u=l.prototype;u._create=function(){for(var t in this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],r.modes)this._initLayoutMode(t)},u.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},u._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0;i<t.length;i++){var n=t[i];n.id=this.itemGUID++}return this._updateItemsSortData(t),t},u._initLayoutMode=function(t){var e=r.modes[t],i=this.options[t]||{};this.options[t]=e.options?s.extend(e.options,i):i,this.modes[t]=new e(this)},u.layout=function(){this._isLayoutInited||!this._getOption("initLayout")?this._layout():this.arrange()},u._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},u.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},u._init=u.arrange,u._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},u._getIsInstant=function(){var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;return this._isInstant=e,e},u._bindArrangeComplete=function(){var t,e,i,n=this;function s(){t&&e&&i&&n.dispatchEvent("arrangeComplete",null,[n.filteredItems])}this.once("layoutComplete",(function(){t=!0,s()})),this.once("hideComplete",(function(){e=!0,s()})),this.once("revealComplete",(function(){i=!0,s()}))},u._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],n=[],s=[],o=this._getFilterTest(e),r=0;r<t.length;r++){var a=t[r];if(!a.isIgnored){var h=o(a);h&&i.push(a),h&&a.isHidden?n.push(a):h||a.isHidden||s.push(a)}}return{matches:i,needReveal:n,needHide:s}},u._getFilterTest=function(t){return a&&this.options.isJQueryFiltering?function(e){return a(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},u.updateSortData=function(t){var e;t?(t=s.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},u._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=c(i)}},u._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&i<e;i++){t[i].updateSortData()}};var c=function(t){if("string"!=typeof t)return t;var e=h(t).split(" "),i=e[0],n=i.match(/^\[(.+)\]$/),s=function(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&i.textContent}}(n&&n[1],i),o=l.sortDataParsers[e[1]];return t=o?function(t){return t&&o(s(t))}:function(t){return t&&s(t)}};l.sortDataParsers={parseInt:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return parseInt(t,10)})),parseFloat:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return parseFloat(t)}))},u._sort=function(){if(this.options.sortBy){var t=s.makeArray(this.options.sortBy);this._getIsSameSortBy(t)||(this.sortHistory=t.concat(this.sortHistory));var e=function(t,e){return function(i,n){for(var s=0;s<t.length;s++){var o=t[s],r=i.sortData[o],a=n.sortData[o];if(r>a||r<a)return(r>a?1:-1)*((void 0!==e[o]?e[o]:e)?1:-1)}return 0}}(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(e)}},u._getIsSameSortBy=function(t){for(var e=0;e<t.length;e++)if(t[e]!=this.sortHistory[e])return!1;return!0},u._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},u._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},u._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},u._manageStamp=function(t){this._mode()._manageStamp(t)},u._getContainerSize=function(){return this._mode()._getContainerSize()},u.needsResizeLayout=function(){return this._mode().needsResizeLayout()},u.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},u.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},u._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},u.insert=function(t){var e=this.addItems(t);if(e.length){var i,n,s=e.length;for(i=0;i<s;i++)n=e[i],this.element.appendChild(n.element);var o=this._filter(e).matches;for(i=0;i<s;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;i<s;i++)delete e[i].isLayoutInstant;this.reveal(o)}};var d=u.remove;return u.remove=function(t){t=s.makeArray(t);var e=this.getItems(t);d.call(this,t);for(var i=e&&e.length,n=0;i&&n<i;n++){var o=e[n];s.removeFrom(this.filteredItems,o)}},u.shuffle=function(){for(var t=0;t<this.items.length;t++){this.items[t].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},u._noTransition=function(t,e){var i=this.options.transitionDuration;this.options.transitionDuration=0;var n=t.apply(this,e);return this.options.transitionDuration=i,n},u.getFilteredItemElements=function(){return this.filteredItems.map((function(t){return t.element}))},l}(i,t,0,n,s,o,r)}.apply(e,z=[f,r,l,d,p,g,y,_,x]))||(t.exports=E)}(window)},function(t,e){t.exports=jQuery},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}!function(){"use strict";var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,t),!(e instanceof Node))throw"Can't initialize VanillaTilt because "+e+" is not a Node.";this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.gammazero=null,this.betazero=null,this.lastgammazero=null,this.lastbetazero=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=e,this.settings=this.extendSettings(n),this.reverse=this.settings.reverse?-1:1,this.glare=t.isSettingTrue(this.settings.glare),this.glarePrerender=t.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=t.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=t.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.updateInitialPosition()}var e,s,o;return e=t,o=[{key:"isSettingTrue",value:function(t){return""===t||!0===t||1===t}},{key:"init",value:function(e,i){e instanceof Node&&(e=[e]),e instanceof NodeList&&(e=[].slice.call(e)),e instanceof Array&&e.forEach((function(e){"vanillaTilt"in e||(e.vanillaTilt=new t(e,i))}))}}],(s=[{key:"getElementListener",value:function(){if(this.fullPageListening)return window.document;if("string"==typeof this.settings["mouse-event-element"]){var t=document.querySelector(this.settings["mouse-event-element"]);if(t)return t}return this.settings["mouse-event-element"]instanceof Node?this.settings["mouse-event-element"]:this.element}},{key:"addEventListeners",value:function(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),(this.glare||this.fullPageListening)&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)}},{key:"removeEventListeners",value:function(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind),(this.glare||this.fullPageListening)&&window.removeEventListener("resize",this.onWindowResizeBind)}},{key:"destroy",value:function(){clearTimeout(this.transitionTimeout),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.reset(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null}},{key:"onDeviceOrientation",value:function(t){if(null!==t.gamma&&null!==t.beta){this.updateElementPosition(),this.gyroscopeSamples>0&&(this.lastgammazero=this.gammazero,this.lastbetazero=this.betazero,null===this.gammazero?(this.gammazero=t.gamma,this.betazero=t.beta):(this.gammazero=(t.gamma+this.lastgammazero)/2,this.betazero=(t.beta+this.lastbetazero)/2),this.gyroscopeSamples-=1);var e=this.settings.gyroscopeMaxAngleX-this.settings.gyroscopeMinAngleX,i=this.settings.gyroscopeMaxAngleY-this.settings.gyroscopeMinAngleY,n=e/this.width,s=i/this.height,o=(t.gamma-(this.settings.gyroscopeMinAngleX+this.gammazero))/n,r=(t.beta-(this.settings.gyroscopeMinAngleY+this.betazero))/s;null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event={clientX:o+this.left,clientY:r+this.top},this.updateCall=requestAnimationFrame(this.updateBind)}}},{key:"onMouseEnter",value:function(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()}},{key:"onMouseMove",value:function(t){null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=t,this.updateCall=requestAnimationFrame(this.updateBind)}},{key:"onMouseLeave",value:function(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)}},{key:"reset",value:function(){this.event={clientX:this.left+this.width/2,clientY:this.top+this.height/2},this.element&&this.element.style&&(this.element.style.transform="perspective(".concat(this.settings.perspective,"px) ")+"rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"),this.resetGlare()}},{key:"resetGlare",value:function(){this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")}},{key:"updateInitialPosition",value:function(){if(0!==this.settings.startX||0!==this.settings.startY){this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.clientWidth,clientY:(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.clientHeight}:this.event={clientX:this.left+(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.height};var t=this.settings.scale;this.settings.scale=1,this.update(),this.settings.scale=t,this.resetGlare()}}},{key:"getValues",value:function(){var t,e;return this.fullPageListening?(t=this.event.clientX/this.clientWidth,e=this.event.clientY/this.clientHeight):(t=(this.event.clientX-this.left)/this.width,e=(this.event.clientY-this.top)/this.height),t=Math.min(Math.max(t,0),1),e=Math.min(Math.max(e,0),1),{tiltX:(this.reverse*(this.settings.max-t*this.settings.max*2)).toFixed(2),tiltY:(this.reverse*(e*this.settings.max*2-this.settings.max)).toFixed(2),percentageX:100*t,percentageY:100*e,angle:Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI)}}},{key:"updateElementPosition",value:function(){var t=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=t.left,this.top=t.top}},{key:"update",value:function(){var t=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:t.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:t.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform="rotate(".concat(t.angle,"deg) translate(-50%, -50%)"),this.glareElement.style.opacity="".concat(t.percentageY*this.settings["max-glare"]/100)),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:t})),this.updateCall=null}},{key:"prepareGlare",value:function(){if(!this.glarePrerender){var t=document.createElement("div");t.classList.add("js-tilt-glare");var e=document.createElement("div");e.classList.add("js-tilt-glare-inner"),t.appendChild(e),this.element.appendChild(t)}this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),this.glarePrerender||(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",width:"".concat(2*this.element.offsetWidth,"px"),height:"".concat(2*this.element.offsetWidth,"px"),transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}))}},{key:"updateGlareSize",value:function(){this.glare&&Object.assign(this.glareElement.style,{width:"".concat(2*this.element.offsetWidth),height:"".concat(2*this.element.offsetWidth)})}},{key:"updateClientSize",value:function(){this.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},{key:"onWindowResize",value:function(){this.updateGlareSize(),this.updateClientSize()}},{key:"setTransition",value:function(){var t=this;clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition="opacity ".concat(this.settings.speed,"ms ").concat(this.settings.easing)),this.transitionTimeout=setTimeout((function(){t.element.style.transition="",t.glare&&(t.glareElement.style.transition="")}),this.settings.speed)}},{key:"extendSettings",value:function(t){var e={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:300,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"full-page-listening":!1,"mouse-event-element":null,reset:!0,gyroscope:!0,gyroscopeMinAngleX:-45,gyroscopeMaxAngleX:45,gyroscopeMinAngleY:-45,gyroscopeMaxAngleY:45,gyroscopeSamples:10},i={};for(var n in e)if(n in t)i[n]=t[n];else if(this.element.hasAttribute("data-tilt-"+n)){var s=this.element.getAttribute("data-tilt-"+n);try{i[n]=JSON.parse(s)}catch(t){i[n]=s}}else i[n]=e[n];return i}}])&&n(e.prototype,s),o&&n(e,o),t}();"undefined"!=typeof document&&(window.VanillaTilt=t,t.init(document.querySelectorAll("[data-tilt]")))}()},function(t,e){window.onscroll=function(){document.getElementById("rotate--scroll").style.transform="rotate("+window.pageYOffset/4+"deg)"};new Rellax(".rellax")},function(t,e){!function(t){var e=t(window),i=e.width(),n=t(".navbar-toggler"),s=t(".site-header"),o=t(".navbar-nav"),r=t(".dropdown-btn"),a=t(".dropdown-menu");function h(){t(o).toggleClass("is-open"),t(n).toggleClass("is-active"),t(s).toggleClass("expanded")}t(n).click((function(t){t.preventDefault(),h()})),t(r).click((function(e){e.preventDefault();var i=t(this);i.hasClass("toggled")?i.removeClass("toggled"):(i.parent().parent().find(".dropdown-btn").removeClass("toggled"),i.toggleClass("toggled")),i.next().hasClass("show")?(i.next().removeClass("show"),i.next().slideUp(350),i.parent().parent().find(".dropdown-menu").removeClass("show"),i.parent().parent().find(".dropdown-menu").slideUp(350)):(i.parent().parent().find(".dropdown-menu").removeClass("show"),i.parent().parent().find(".dropdown-menu").slideUp(350),i.next().toggleClass("show"),i.next().slideToggle(350))})),e.resize((function(){var s=e.width();i!==s&&(t(o).hasClass("is-open")&&h(),t(a).hasClass("show")&&t(a).removeClass("show"),t(r).hasClass("toggled")&&t(r).removeClass("toggled"),t(a).attr("style"," "),t(o).attr("style"," "),t(n).removeClass("is-active"),t(o).removeAttr("style"))}))}(jQuery)},function(t,e){jQuery((function(t){var e={numberGreaterThan50:function(){var e=t(this).find(".number").text();return parseInt(e,10)>50},ium:function(){var e=t(this).find(".name").text();return console.log(e),e.match(/kes$/)},testFunc:function(){var e=t(this).hasClass("webbutveckling");return console.log(e),e},testSeo:function(){var e=t(this).hasClass("seo");return console.log(e),e}};var i=t(".gallery"),n=t(".btn-filter-group");n.on("click","button",(function(){var e=t(this).attr("data-filter");location.hash=""+encodeURIComponent(e)}));var s=!1;function o(){var t=function(){var t=location.hash.match(/([^&]+)/i),e=t&&t[1];return e&&decodeURIComponent(e).substr(1)}();!t&&s||(s=!0,i.isotope({itemSelector:".gallery-item",layoutMode:"masonry",masonry:{gutter:".gallery-item-gutter"},filter:e[t]||t}),t&&(n.find(".selected").removeClass("selected"),n.find('[data-filter="'+t+'"]').addClass("selected")))}t(window).on("hashchange",o),o()}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3NjcmlwdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdmVuZG9yL2lzb3RvcGUvaXNvdG9wZS5wa2dkLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcImpRdWVyeVwiIiwid2VicGFjazovLy8uL3NyYy9qcy92ZW5kb3IvdGlsdC90aWx0LmpxdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy9jdXN0b20uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21vZHVsZXMvbmF2aWdhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy9pc290b3BlLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwid2luZG93IiwiZmFjdG9yeSIsImRlZmluZSIsImpRdWVyeSIsImFycmF5U2xpY2UiLCJBcnJheSIsInNsaWNlIiwiY29uc29sZSIsImxvZ0Vycm9yIiwibWVzc2FnZSIsImVycm9yIiwialF1ZXJ5QnJpZGdldCIsIm5hbWVzcGFjZSIsIlBsdWdpbkNsYXNzIiwiJCIsIm1ldGhvZENhbGwiLCIkZWxlbXMiLCJtZXRob2ROYW1lIiwiYXJncyIsInJldHVyblZhbHVlIiwicGx1Z2luTWV0aG9kU3RyIiwiZWFjaCIsImVsZW0iLCJpbnN0YW5jZSIsImRhdGEiLCJtZXRob2QiLCJjaGFyQXQiLCJhcHBseSIsInVuZGVmaW5lZCIsInBsYWluQ2FsbCIsIm9wdGlvbnMiLCJvcHRpb24iLCJfaW5pdCIsIm9wdHMiLCJpc1BsYWluT2JqZWN0IiwidGhpcyIsImV4dGVuZCIsImZuIiwiYXJnMCIsImFyZ3VtZW50cyIsInVwZGF0ZUpRdWVyeSIsImJyaWRnZXQiLCJFdkVtaXR0ZXIiLCJwcm90byIsIm9uIiwiZXZlbnROYW1lIiwibGlzdGVuZXIiLCJldmVudHMiLCJfZXZlbnRzIiwibGlzdGVuZXJzIiwiaW5kZXhPZiIsInB1c2giLCJvbmNlIiwib25jZUV2ZW50cyIsIl9vbmNlRXZlbnRzIiwib2ZmIiwibGVuZ3RoIiwiaW5kZXgiLCJzcGxpY2UiLCJlbWl0RXZlbnQiLCJvbmNlTGlzdGVuZXJzIiwiYWxsT2ZmIiwiZ2V0U3R5bGVTaXplIiwibnVtIiwicGFyc2VGbG9hdCIsImlzTmFOIiwibWVhc3VyZW1lbnRzIiwibWVhc3VyZW1lbnRzTGVuZ3RoIiwiZ2V0U3R5bGUiLCJzdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJpc0JveFNpemVPdXRlciIsImlzU2V0dXAiLCJnZXRTaXplIiwiZGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJwYWRkaW5nIiwiYm9yZGVyU3R5bGUiLCJib3JkZXJXaWR0aCIsImJveFNpemluZyIsImJvZHkiLCJkb2N1bWVudEVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsIk1hdGgiLCJyb3VuZCIsInJlbW92ZUNoaWxkIiwic2V0dXAiLCJxdWVyeVNlbGVjdG9yIiwibm9kZVR5cGUiLCJkaXNwbGF5Iiwic2l6ZSIsImhlaWdodCIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIm91dGVyV2lkdGgiLCJvdXRlckhlaWdodCIsImdldFplcm9TaXplIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJpc0JvcmRlckJveCIsIm1lYXN1cmVtZW50IiwicGFkZGluZ1dpZHRoIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJwYWRkaW5nSGVpZ2h0IiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJtYXJnaW5XaWR0aCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsIm1hcmdpbkhlaWdodCIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsImJvcmRlckxlZnRXaWR0aCIsImJvcmRlclJpZ2h0V2lkdGgiLCJib3JkZXJIZWlnaHQiLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwiaXNCb3JkZXJCb3hTaXplT3V0ZXIiLCJzdHlsZVdpZHRoIiwic3R5bGVIZWlnaHQiLCJtYXRjaGVzTWV0aG9kIiwiRWxlbVByb3RvIiwiRWxlbWVudCIsIm1hdGNoZXMiLCJtYXRjaGVzU2VsZWN0b3IiLCJwcmVmaXhlcyIsInNlbGVjdG9yIiwidXRpbHMiLCJhIiwiYiIsInByb3AiLCJtYWtlQXJyYXkiLCJvYmoiLCJpc0FycmF5IiwicmVtb3ZlRnJvbSIsImFyeSIsImdldFBhcmVudCIsInBhcmVudE5vZGUiLCJnZXRRdWVyeUVsZW1lbnQiLCJoYW5kbGVFdmVudCIsImV2ZW50IiwidHlwZSIsImZpbHRlckZpbmRFbGVtZW50cyIsImVsZW1zIiwiZmZFbGVtcyIsImZvckVhY2giLCJIVE1MRWxlbWVudCIsImNoaWxkRWxlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGVib3VuY2VNZXRob2QiLCJfY2xhc3MiLCJ0aHJlc2hvbGQiLCJ0aW1lb3V0TmFtZSIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJfdGhpcyIsInNldFRpbWVvdXQiLCJkb2NSZWFkeSIsImNhbGxiYWNrIiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b0Rhc2hlZCIsInN0ciIsInJlcGxhY2UiLCJtYXRjaCIsIiQxIiwiJDIiLCJ0b0xvd2VyQ2FzZSIsImh0bWxJbml0IiwiV2lkZ2V0Q2xhc3MiLCJkYXNoZWROYW1lc3BhY2UiLCJkYXRhQXR0ciIsImRhdGFBdHRyRWxlbXMiLCJqc0Rhc2hFbGVtcyIsImNvbmNhdCIsImRhdGFPcHRpb25zQXR0ciIsImF0dHIiLCJnZXRBdHRyaWJ1dGUiLCJKU09OIiwicGFyc2UiLCJjbGFzc05hbWUiLCJkb2NFbGVtU3R5bGUiLCJ0cmFuc2l0aW9uUHJvcGVydHkiLCJ0cmFuc2l0aW9uIiwidHJhbnNmb3JtUHJvcGVydHkiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2l0aW9uRW5kRXZlbnQiLCJXZWJraXRUcmFuc2l0aW9uIiwidmVuZG9yUHJvcGVydGllcyIsInRyYW5zaXRpb25EdXJhdGlvbiIsInRyYW5zaXRpb25EZWxheSIsIkl0ZW0iLCJlbGVtZW50IiwibGF5b3V0IiwicG9zaXRpb24iLCJ4IiwieSIsIl9jcmVhdGUiLCJjb25zdHJ1Y3RvciIsIl90cmFuc24iLCJpbmdQcm9wZXJ0aWVzIiwiY2xlYW4iLCJvbkVuZCIsImNzcyIsImVsZW1TdHlsZSIsImdldFBvc2l0aW9uIiwiaXNPcmlnaW5MZWZ0IiwiX2dldE9wdGlvbiIsImlzT3JpZ2luVG9wIiwieFZhbHVlIiwieVZhbHVlIiwibGF5b3V0U2l6ZSIsImxheW91dFBvc2l0aW9uIiwieFBhZGRpbmciLCJ4UHJvcGVydHkiLCJ4UmVzZXRQcm9wZXJ0eSIsImdldFhWYWx1ZSIsInlQYWRkaW5nIiwieVByb3BlcnR5IiwieVJlc2V0UHJvcGVydHkiLCJnZXRZVmFsdWUiLCJpc0hvcml6b250YWwiLCJwZXJjZW50UG9zaXRpb24iLCJfdHJhbnNpdGlvblRvIiwiY3VyWCIsImN1clkiLCJkaWROb3RNb3ZlIiwic2V0UG9zaXRpb24iLCJpc1RyYW5zaXRpb25pbmciLCJ0cmFuc1giLCJ0cmFuc1kiLCJ0cmFuc2l0aW9uU3R5bGUiLCJnZXRUcmFuc2xhdGUiLCJ0byIsIm9uVHJhbnNpdGlvbkVuZCIsImlzQ2xlYW5pbmciLCJnb1RvIiwibW92ZVRvIiwiX25vblRyYW5zaXRpb24iLCJfcmVtb3ZlU3R5bGVzIiwiX3RyYW5zaXRpb24iLCJmcm9tIiwiZW5hYmxlVHJhbnNpdGlvbiIsInRyYW5zaXRpb25Qcm9wcyIsImR1cmF0aW9uIiwic3RhZ2dlckRlbGF5Iiwib253ZWJraXRUcmFuc2l0aW9uRW5kIiwib250cmFuc2l0aW9uZW5kIiwib25vdHJhbnNpdGlvbmVuZCIsImRhc2hlZFZlbmRvclByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wZXJ0eU5hbWUiLCJpc0VtcHR5T2JqIiwiZGlzYWJsZVRyYW5zaXRpb24iLCJyZW1vdmVUcmFuc2l0aW9uU3R5bGVzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsZWFuU3R5bGUiLCJjbGVhblRyYW5zaXRpb25TdHlsZSIsInN0YWdnZXIiLCJkZWxheSIsInJlbW92ZUVsZW0iLCJyZW1vdmUiLCJoaWRlIiwicmV2ZWFsIiwiaXNIaWRkZW4iLCJnZXRIaWRlUmV2ZWFsVHJhbnNpdGlvbkVuZFByb3BlcnR5Iiwib25SZXZlYWxUcmFuc2l0aW9uRW5kIiwiaGlkZGVuU3R5bGUiLCJ2aXNpYmxlU3R5bGUiLCJzdHlsZVByb3BlcnR5Iiwib3B0aW9uU3R5bGUiLCJvcGFjaXR5Iiwib25IaWRlVHJhbnNpdGlvbkVuZCIsImRlc3Ryb3kiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJub29wIiwiR1VJRCIsImluc3RhbmNlcyIsIk91dGxheWVyIiwicXVlcnlFbGVtZW50IiwiJGVsZW1lbnQiLCJkZWZhdWx0cyIsImlkIiwib3V0bGF5ZXJHVUlEIiwiY29udGFpbmVyU3R5bGUiLCJpbml0TGF5b3V0Iiwib3JpZ2luTGVmdCIsIm9yaWdpblRvcCIsInJlc2l6ZSIsInJlc2l6ZUNvbnRhaW5lciIsInN1YmNsYXNzIiwiUGFyZW50IiwiU3ViQ2xhc3MiLCJvbGRPcHRpb24iLCJjb21wYXRPcHRpb25zIiwiaG9yaXpvbnRhbCIsImxheW91dEluc3RhbnQiLCJyZWxvYWRJdGVtcyIsInN0YW1wcyIsInN0YW1wIiwiYmluZFJlc2l6ZSIsIml0ZW1zIiwiX2l0ZW1pemUiLCJjaGlsZHJlbiIsIml0ZW1FbGVtcyIsIl9maWx0ZXJGaW5kSXRlbUVsZW1lbnRzIiwiaXRlbSIsIml0ZW1TZWxlY3RvciIsImdldEl0ZW1FbGVtZW50cyIsIm1hcCIsIl9yZXNldExheW91dCIsIl9tYW5hZ2VTdGFtcHMiLCJpc0luc3RhbnQiLCJfaXNMYXlvdXRJbml0ZWQiLCJsYXlvdXRJdGVtcyIsIl9nZXRNZWFzdXJlbWVudCIsIl9nZXRJdGVtc0ZvckxheW91dCIsIl9sYXlvdXRJdGVtcyIsIl9wb3N0TGF5b3V0IiwiZmlsdGVyIiwiaXNJZ25vcmVkIiwiX2VtaXRDb21wbGV0ZU9uSXRlbXMiLCJxdWV1ZSIsIl9nZXRJdGVtTGF5b3V0UG9zaXRpb24iLCJpc0xheW91dEluc3RhbnQiLCJfcHJvY2Vzc0xheW91dFF1ZXVlIiwidXBkYXRlU3RhZ2dlciIsIl9wb3NpdGlvbkl0ZW0iLCJ0aW1lIiwidW5pdCIsIm1zVW5pdHMiLCJnZXRNaWxsaXNlY29uZHMiLCJfZ2V0Q29udGFpbmVyU2l6ZSIsIl9zZXRDb250YWluZXJNZWFzdXJlIiwibWVhc3VyZSIsImlzV2lkdGgiLCJlbGVtU2l6ZSIsIm1heCIsIm9uQ29tcGxldGUiLCJkaXNwYXRjaEV2ZW50IiwiY291bnQiLCJkb25lQ291bnQiLCJ0aWNrIiwiZW1pdEFyZ3MiLCIkZXZlbnQiLCJFdmVudCIsInRyaWdnZXIiLCJpZ25vcmUiLCJnZXRJdGVtIiwidW5pZ25vcmUiLCJfZmluZCIsInVuc3RhbXAiLCJfZ2V0Qm91bmRpbmdSZWN0IiwiX21hbmFnZVN0YW1wIiwiYm91bmRpbmdSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiX2JvdW5kaW5nUmVjdCIsIl9nZXRFbGVtZW50T2Zmc2V0IiwidGhpc1JlY3QiLCJpc1Jlc2l6ZUJvdW5kIiwidW5iaW5kUmVzaXplIiwib25yZXNpemUiLCJuZWVkc1Jlc2l6ZUxheW91dCIsImFkZEl0ZW1zIiwiYXBwZW5kZWQiLCJwcmVwZW5kZWQiLCJwcmV2aW91c0l0ZW1zIiwicmV2ZWFsSXRlbUVsZW1lbnRzIiwiZ2V0SXRlbXMiLCJoaWRlSXRlbUVsZW1lbnRzIiwicmVtb3ZlSXRlbXMiLCJyZW1vdmVEYXRhIiwiTGF5b3V0IiwibXMiLCJpdGVtR1VJRCIsInNvcnREYXRhIiwidXBkYXRlU29ydERhdGEiLCJyYW5kb20iLCJnZXRTb3J0RGF0YSIsInNvcnRlcnMiLCJfc29ydGVycyIsInNvcnRlciIsIl9kZXN0cm95IiwiTGF5b3V0TW9kZSIsImlzb3RvcGUiLCJmaWx0ZXJlZEl0ZW1zIiwibmVlZHNWZXJ0aWNhbFJlc2l6ZUxheW91dCIsImdldENvbHVtbldpZHRoIiwiZ2V0U2VnbWVudFNpemUiLCJnZXRSb3dIZWlnaHQiLCJzZWdtZW50Iiwic2VnbWVudE5hbWUiLCJvdXRlclNpemUiLCJmaXJzdEl0ZW1TaXplIiwiZ2V0Rmlyc3RJdGVtU2l6ZSIsImZpcnN0SXRlbSIsIm1vZGVzIiwiTW9kZSIsIk1hc29ucnkiLCJmaXRXaWR0aCIsIm1lYXN1cmVDb2x1bW5zIiwiY29sWXMiLCJjb2xzIiwibWF4WSIsImhvcml6b250YWxDb2xJbmRleCIsImdldENvbnRhaW5lcldpZHRoIiwiY29sdW1uV2lkdGgiLCJmaXJzdEl0ZW1FbGVtIiwiY29udGFpbmVyV2lkdGgiLCJndXR0ZXIiLCJleGNlc3MiLCJjb250YWluZXIiLCJyZW1haW5kZXIiLCJjb2xTcGFuIiwibWluIiwiY29sUG9zaXRpb24iLCJob3Jpem9udGFsT3JkZXIiLCJjb2wiLCJzZXRIZWlnaHQiLCJzZXRNYXgiLCJfZ2V0VG9wQ29sUG9zaXRpb24iLCJjb2xHcm91cCIsIl9nZXRUb3BDb2xHcm91cCIsIm1pbmltdW1ZIiwiZ3JvdXBDb3VudCIsIl9nZXRDb2xHcm91cFkiLCJncm91cENvbFlzIiwiX2dldEhvcml6b250YWxDb2xQb3NpdGlvbiIsImhhc1NpemUiLCJzdGFtcFNpemUiLCJvZmZzZXQiLCJmaXJzdFgiLCJsYXN0WCIsImZpcnN0Q29sIiwiZmxvb3IiLCJsYXN0Q29sIiwic3RhbXBNYXhZIiwiX2dldENvbnRhaW5lckZpdFdpZHRoIiwidW51c2VkQ29scyIsInByZXZpb3VzV2lkdGgiLCJNYXNvbnJ5TW9kZSIsImtlZXBNb2RlTWV0aG9kcyIsImlzRml0V2lkdGgiLCJGaXRSb3dzIiwiaXRlbVdpZHRoIiwiVmVydGljYWwiLCJob3Jpem9udGFsQWxpZ25tZW50IiwidHJpbSIsIlN0cmluZyIsIklzb3RvcGUiLCJsYXlvdXRNb2RlIiwiaXNKUXVlcnlGaWx0ZXJpbmciLCJzb3J0QXNjZW5kaW5nIiwiX2dldFNvcnRlcnMiLCJzb3J0SGlzdG9yeSIsIl9pbml0TGF5b3V0TW9kZSIsIl91cGRhdGVJdGVtc1NvcnREYXRhIiwiaW5pdGlhbE9wdHMiLCJfbGF5b3V0IiwiYXJyYW5nZSIsIl9nZXRJc0luc3RhbnQiLCJmaWx0ZXJlZCIsIl9maWx0ZXIiLCJfYmluZEFycmFuZ2VDb21wbGV0ZSIsIl9pc0luc3RhbnQiLCJfbm9UcmFuc2l0aW9uIiwiX2hpZGVSZXZlYWwiLCJfc29ydCIsIm5lZWRSZXZlYWwiLCJuZWVkSGlkZSIsImlzTGF5b3V0Q29tcGxldGUiLCJpc0hpZGVDb21wbGV0ZSIsImlzUmV2ZWFsQ29tcGxldGUiLCJhcnJhbmdlUGFyYWxsZWxDYWxsYmFjayIsImhpZGRlbk1hdGNoZWQiLCJ2aXNpYmxlVW5tYXRjaGVkIiwidGVzdCIsIl9nZXRGaWx0ZXJUZXN0IiwiaXNNYXRjaGVkIiwiaXMiLCJtdW5nZVNvcnRlciIsImxlbiIsInNwbGl0IiwicXVlcnkiLCJhdHRyTWF0Y2giLCJnZXRWYWx1ZSIsImNoaWxkIiwidGV4dENvbnRlbnQiLCJnZXRWYWx1ZUdldHRlciIsInBhcnNlciIsInNvcnREYXRhUGFyc2VycyIsInZhbCIsInBhcnNlSW50Iiwic29ydEJ5Iiwic29ydEJ5cyIsIl9nZXRJc1NhbWVTb3J0QnkiLCJpdGVtU29ydGVyIiwic29ydEFzYyIsIml0ZW1BIiwiaXRlbUIiLCJnZXRJdGVtU29ydGVyIiwic29ydCIsIl9tb2RlIiwiRXJyb3IiLCJfZmlsdGVyUmV2ZWFsQWRkZWQiLCJpbnNlcnQiLCJmaWx0ZXJlZEluc2VydEl0ZW1zIiwiX3JlbW92ZSIsInNodWZmbGUiLCJnZXRGaWx0ZXJlZEl0ZW1FbGVtZW50cyIsIlZhbmlsbGFUaWx0Iiwic2V0dGluZ3MiLCJOb2RlIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnYW1tYXplcm8iLCJiZXRhemVybyIsImxhc3RnYW1tYXplcm8iLCJsYXN0YmV0YXplcm8iLCJ0cmFuc2l0aW9uVGltZW91dCIsInVwZGF0ZUNhbGwiLCJ1cGRhdGVCaW5kIiwidXBkYXRlIiwicmVzZXRCaW5kIiwicmVzZXQiLCJleHRlbmRTZXR0aW5ncyIsInJldmVyc2UiLCJnbGFyZSIsImlzU2V0dGluZ1RydWUiLCJnbGFyZVByZXJlbmRlciIsImZ1bGxQYWdlTGlzdGVuaW5nIiwiZ3lyb3Njb3BlIiwiZ3lyb3Njb3BlU2FtcGxlcyIsImVsZW1lbnRMaXN0ZW5lciIsImdldEVsZW1lbnRMaXN0ZW5lciIsInByZXBhcmVHbGFyZSIsInVwZGF0ZUNsaWVudFNpemUiLCJhZGRFdmVudExpc3RlbmVycyIsInVwZGF0ZUluaXRpYWxQb3NpdGlvbiIsInNldHRpbmciLCJlbGVtZW50cyIsIk5vZGVMaXN0IiwidmFuaWxsYVRpbHQiLCJtb3VzZUV2ZW50RWxlbWVudCIsIm9uTW91c2VFbnRlckJpbmQiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTW92ZUJpbmQiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VMZWF2ZUJpbmQiLCJvbk1vdXNlTGVhdmUiLCJvbldpbmRvd1Jlc2l6ZUJpbmQiLCJvbldpbmRvd1Jlc2l6ZSIsIm9uRGV2aWNlT3JpZW50YXRpb25CaW5kIiwib25EZXZpY2VPcmllbnRhdGlvbiIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJnYW1tYSIsImJldGEiLCJ1cGRhdGVFbGVtZW50UG9zaXRpb24iLCJ0b3RhbEFuZ2xlWCIsImd5cm9zY29wZU1heEFuZ2xlWCIsImd5cm9zY29wZU1pbkFuZ2xlWCIsInRvdGFsQW5nbGVZIiwiZ3lyb3Njb3BlTWF4QW5nbGVZIiwiZ3lyb3Njb3BlTWluQW5nbGVZIiwiZGVncmVlc1BlclBpeGVsWCIsImRlZ3JlZXNQZXJQaXhlbFkiLCJwb3NYIiwicG9zWSIsImNsaWVudFgiLCJjbGllbnRZIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2lsbENoYW5nZSIsInNldFRyYW5zaXRpb24iLCJwZXJzcGVjdGl2ZSIsInJlc2V0R2xhcmUiLCJnbGFyZUVsZW1lbnQiLCJzdGFydFgiLCJzdGFydFkiLCJiYWNrdXBTY2FsZSIsInNjYWxlIiwidGlsdFgiLCJ0b0ZpeGVkIiwidGlsdFkiLCJwZXJjZW50YWdlWCIsInBlcmNlbnRhZ2VZIiwiYW5nbGUiLCJhdGFuMiIsIlBJIiwicmVjdCIsInZhbHVlcyIsImdldFZhbHVlcyIsImF4aXMiLCJDdXN0b21FdmVudCIsImpzVGlsdEdsYXJlIiwiY2xhc3NMaXN0IiwiYWRkIiwianNUaWx0R2xhcmVJbm5lciIsImdsYXJlRWxlbWVudFdyYXBwZXIiLCJhc3NpZ24iLCJ1cGRhdGVHbGFyZVNpemUiLCJzcGVlZCIsImVhc2luZyIsImRlZmF1bHRTZXR0aW5ncyIsIm5ld1NldHRpbmdzIiwiaGFzQXR0cmlidXRlIiwiYXR0cmlidXRlIiwiZSIsImluaXQiLCJvbnNjcm9sbCIsImdldEVsZW1lbnRCeUlkIiwicGFnZVlPZmZzZXQiLCJSZWxsYXgiLCIkd2luZG93IiwibGFzdFdpbmRvd1dpZHRoIiwidG9nZ2xlIiwiaGVhZGVyIiwibmF2aWdhdGlvbiIsImRyb3Bkb3duQnRuIiwiZHJvcGRvd24iLCJ0b2dnbGVNZW51IiwidG9nZ2xlQ2xhc3MiLCJjbGljayIsInByZXZlbnREZWZhdWx0IiwiJHRoaXMiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwicGFyZW50IiwiZmluZCIsIm5leHQiLCJzbGlkZVVwIiwic2xpZGVUb2dnbGUiLCJ3aW5kb3dXaWR0aCIsInJlbW92ZUF0dHIiLCJmaWx0ZXJGbnMiLCJudW1iZXJHcmVhdGVyVGhhbjUwIiwibnVtYmVyIiwidGV4dCIsIml1bSIsImxvZyIsInRlc3RGdW5jIiwidGVzdFNlbyIsIiRncmlkIiwiJGZpbHRlckJ1dHRvbkdyb3VwIiwiZmlsdGVyQXR0ciIsImxvY2F0aW9uIiwiaGFzaCIsImVuY29kZVVSSUNvbXBvbmVudCIsImlzSXNvdG9wZUluaXQiLCJvbkhhc2hjaGFuZ2UiLCJoYXNoRmlsdGVyIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic3Vic3RyIiwiZ2V0SGFzaEZpbHRlciIsIm1hc29ucnkiLCJhZGRDbGFzcyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxP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IG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0ICcuL3ZlbmRvci9pc290b3BlL2lzb3RvcGUucGtnZCdcclxuaW1wb3J0ICcuL3ZlbmRvci90aWx0L3RpbHQuanF1ZXJ5J1xyXG5cclxuaW1wb3J0ICcuL21vZHVsZXMvY3VzdG9tJ1xyXG5pbXBvcnQgJy4vbW9kdWxlcy9uYXZpZ2F0aW9uJ1xyXG5pbXBvcnQgJy4vbW9kdWxlcy9pc290b3BlJ1xyXG4iLCIvKiFcbiAqIElzb3RvcGUgUEFDS0FHRUQgdjMuMC42XG4gKlxuICogTGljZW5zZWQgR1BMdjMgZm9yIG9wZW4gc291cmNlIHVzZVxuICogb3IgSXNvdG9wZSBDb21tZXJjaWFsIExpY2Vuc2UgZm9yIGNvbW1lcmNpYWwgdXNlXG4gKlxuICogaHR0cHM6Ly9pc290b3BlLm1ldGFmaXp6eS5jb1xuICogQ29weXJpZ2h0IDIwMTAtMjAxOCBNZXRhZml6enlcbiAqL1xuXG4vKipcbiAqIEJyaWRnZXQgbWFrZXMgalF1ZXJ5IHdpZGdldHNcbiAqIHYyLjAuMVxuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4vKiBqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgc3RyaWN0OiB0cnVlLCB1bmRlZjogdHJ1ZSwgdW51c2VkOiB0cnVlICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qanNoaW50IHN0cmljdDogZmFsc2UgKi8gLyogZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSwgcmVxdWlyZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggJ2pxdWVyeS1icmlkZ2V0L2pxdWVyeS1icmlkZ2V0JyxbICdqcXVlcnknIF0sIGZ1bmN0aW9uKCBqUXVlcnkgKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBqUXVlcnkgKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJ2pxdWVyeScpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5qUXVlcnlCcmlkZ2V0ID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5qUXVlcnlcbiAgICApO1xuICB9XG5cbn0oIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBqUXVlcnkgKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8vIC0tLS0tIHV0aWxzIC0tLS0tIC8vXG5cbnZhciBhcnJheVNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4vLyBoZWxwZXIgZnVuY3Rpb24gZm9yIGxvZ2dpbmcgZXJyb3JzXG4vLyAkLmVycm9yIGJyZWFrcyBqUXVlcnkgY2hhaW5pbmdcbnZhciBjb25zb2xlID0gd2luZG93LmNvbnNvbGU7XG52YXIgbG9nRXJyb3IgPSB0eXBlb2YgY29uc29sZSA9PSAndW5kZWZpbmVkJyA/IGZ1bmN0aW9uKCkge30gOlxuICBmdW5jdGlvbiggbWVzc2FnZSApIHtcbiAgICBjb25zb2xlLmVycm9yKCBtZXNzYWdlICk7XG4gIH07XG5cbi8vIC0tLS0tIGpRdWVyeUJyaWRnZXQgLS0tLS0gLy9cblxuZnVuY3Rpb24galF1ZXJ5QnJpZGdldCggbmFtZXNwYWNlLCBQbHVnaW5DbGFzcywgJCApIHtcbiAgJCA9ICQgfHwgalF1ZXJ5IHx8IHdpbmRvdy5qUXVlcnk7XG4gIGlmICggISQgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gYWRkIG9wdGlvbiBtZXRob2QgLT4gJCgpLnBsdWdpbignb3B0aW9uJywgey4uLn0pXG4gIGlmICggIVBsdWdpbkNsYXNzLnByb3RvdHlwZS5vcHRpb24gKSB7XG4gICAgLy8gb3B0aW9uIHNldHRlclxuICAgIFBsdWdpbkNsYXNzLnByb3RvdHlwZS5vcHRpb24gPSBmdW5jdGlvbiggb3B0cyApIHtcbiAgICAgIC8vIGJhaWwgb3V0IGlmIG5vdCBhbiBvYmplY3RcbiAgICAgIGlmICggISQuaXNQbGFpbk9iamVjdCggb3B0cyApICl7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKCB0cnVlLCB0aGlzLm9wdGlvbnMsIG9wdHMgKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gbWFrZSBqUXVlcnkgcGx1Z2luXG4gICQuZm5bIG5hbWVzcGFjZSBdID0gZnVuY3Rpb24oIGFyZzAgLyosIGFyZzEgKi8gKSB7XG4gICAgaWYgKCB0eXBlb2YgYXJnMCA9PSAnc3RyaW5nJyApIHtcbiAgICAgIC8vIG1ldGhvZCBjYWxsICQoKS5wbHVnaW4oICdtZXRob2ROYW1lJywgeyBvcHRpb25zIH0gKVxuICAgICAgLy8gc2hpZnQgYXJndW1lbnRzIGJ5IDFcbiAgICAgIHZhciBhcmdzID0gYXJyYXlTbGljZS5jYWxsKCBhcmd1bWVudHMsIDEgKTtcbiAgICAgIHJldHVybiBtZXRob2RDYWxsKCB0aGlzLCBhcmcwLCBhcmdzICk7XG4gICAgfVxuICAgIC8vIGp1c3QgJCgpLnBsdWdpbih7IG9wdGlvbnMgfSlcbiAgICBwbGFpbkNhbGwoIHRoaXMsIGFyZzAgKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyAkKCkucGx1Z2luKCdtZXRob2ROYW1lJylcbiAgZnVuY3Rpb24gbWV0aG9kQ2FsbCggJGVsZW1zLCBtZXRob2ROYW1lLCBhcmdzICkge1xuICAgIHZhciByZXR1cm5WYWx1ZTtcbiAgICB2YXIgcGx1Z2luTWV0aG9kU3RyID0gJyQoKS4nICsgbmFtZXNwYWNlICsgJyhcIicgKyBtZXRob2ROYW1lICsgJ1wiKSc7XG5cbiAgICAkZWxlbXMuZWFjaCggZnVuY3Rpb24oIGksIGVsZW0gKSB7XG4gICAgICAvLyBnZXQgaW5zdGFuY2VcbiAgICAgIHZhciBpbnN0YW5jZSA9ICQuZGF0YSggZWxlbSwgbmFtZXNwYWNlICk7XG4gICAgICBpZiAoICFpbnN0YW5jZSApIHtcbiAgICAgICAgbG9nRXJyb3IoIG5hbWVzcGFjZSArICcgbm90IGluaXRpYWxpemVkLiBDYW5ub3QgY2FsbCBtZXRob2RzLCBpLmUuICcgK1xuICAgICAgICAgIHBsdWdpbk1ldGhvZFN0ciApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBtZXRob2QgPSBpbnN0YW5jZVsgbWV0aG9kTmFtZSBdO1xuICAgICAgaWYgKCAhbWV0aG9kIHx8IG1ldGhvZE5hbWUuY2hhckF0KDApID09ICdfJyApIHtcbiAgICAgICAgbG9nRXJyb3IoIHBsdWdpbk1ldGhvZFN0ciArICcgaXMgbm90IGEgdmFsaWQgbWV0aG9kJyApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGFwcGx5IG1ldGhvZCwgZ2V0IHJldHVybiB2YWx1ZVxuICAgICAgdmFyIHZhbHVlID0gbWV0aG9kLmFwcGx5KCBpbnN0YW5jZSwgYXJncyApO1xuICAgICAgLy8gc2V0IHJldHVybiB2YWx1ZSBpZiB2YWx1ZSBpcyByZXR1cm5lZCwgdXNlIG9ubHkgZmlyc3QgdmFsdWVcbiAgICAgIHJldHVyblZhbHVlID0gcmV0dXJuVmFsdWUgPT09IHVuZGVmaW5lZCA/IHZhbHVlIDogcmV0dXJuVmFsdWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV0dXJuVmFsdWUgIT09IHVuZGVmaW5lZCA/IHJldHVyblZhbHVlIDogJGVsZW1zO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxhaW5DYWxsKCAkZWxlbXMsIG9wdGlvbnMgKSB7XG4gICAgJGVsZW1zLmVhY2goIGZ1bmN0aW9uKCBpLCBlbGVtICkge1xuICAgICAgdmFyIGluc3RhbmNlID0gJC5kYXRhKCBlbGVtLCBuYW1lc3BhY2UgKTtcbiAgICAgIGlmICggaW5zdGFuY2UgKSB7XG4gICAgICAgIC8vIHNldCBvcHRpb25zICYgaW5pdFxuICAgICAgICBpbnN0YW5jZS5vcHRpb24oIG9wdGlvbnMgKTtcbiAgICAgICAgaW5zdGFuY2UuX2luaXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgbmV3IGluc3RhbmNlXG4gICAgICAgIGluc3RhbmNlID0gbmV3IFBsdWdpbkNsYXNzKCBlbGVtLCBvcHRpb25zICk7XG4gICAgICAgICQuZGF0YSggZWxlbSwgbmFtZXNwYWNlLCBpbnN0YW5jZSApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlSlF1ZXJ5KCAkICk7XG5cbn1cblxuLy8gLS0tLS0gdXBkYXRlSlF1ZXJ5IC0tLS0tIC8vXG5cbi8vIHNldCAkLmJyaWRnZXQgZm9yIHYxIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG5mdW5jdGlvbiB1cGRhdGVKUXVlcnkoICQgKSB7XG4gIGlmICggISQgfHwgKCAkICYmICQuYnJpZGdldCApICkge1xuICAgIHJldHVybjtcbiAgfVxuICAkLmJyaWRnZXQgPSBqUXVlcnlCcmlkZ2V0O1xufVxuXG51cGRhdGVKUXVlcnkoIGpRdWVyeSB8fCB3aW5kb3cualF1ZXJ5ICk7XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG5yZXR1cm4galF1ZXJ5QnJpZGdldDtcblxufSkpO1xuXG4vKipcbiAqIEV2RW1pdHRlciB2MS4xLjBcbiAqIExpbCcgZXZlbnQgZW1pdHRlclxuICogTUlUIExpY2Vuc2VcbiAqL1xuXG4vKiBqc2hpbnQgdW51c2VkOiB0cnVlLCB1bmRlZjogdHJ1ZSwgc3RyaWN0OiB0cnVlICovXG5cbiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qIGdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHdpbmRvdyAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRCAtIFJlcXVpcmVKU1xuICAgIGRlZmluZSggJ2V2LWVtaXR0ZXIvZXYtZW1pdHRlcicsZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTIC0gQnJvd3NlcmlmeSwgV2VicGFja1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuICAgIGdsb2JhbC5FdkVtaXR0ZXIgPSBmYWN0b3J5KCk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCkge1xuXG5cblxuZnVuY3Rpb24gRXZFbWl0dGVyKCkge31cblxudmFyIHByb3RvID0gRXZFbWl0dGVyLnByb3RvdHlwZTtcblxucHJvdG8ub24gPSBmdW5jdGlvbiggZXZlbnROYW1lLCBsaXN0ZW5lciApIHtcbiAgaWYgKCAhZXZlbnROYW1lIHx8ICFsaXN0ZW5lciApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gc2V0IGV2ZW50cyBoYXNoXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIC8vIHNldCBsaXN0ZW5lcnMgYXJyYXlcbiAgdmFyIGxpc3RlbmVycyA9IGV2ZW50c1sgZXZlbnROYW1lIF0gPSBldmVudHNbIGV2ZW50TmFtZSBdIHx8IFtdO1xuICAvLyBvbmx5IGFkZCBvbmNlXG4gIGlmICggbGlzdGVuZXJzLmluZGV4T2YoIGxpc3RlbmVyICkgPT0gLTEgKSB7XG4gICAgbGlzdGVuZXJzLnB1c2goIGxpc3RlbmVyICk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLm9uY2UgPSBmdW5jdGlvbiggZXZlbnROYW1lLCBsaXN0ZW5lciApIHtcbiAgaWYgKCAhZXZlbnROYW1lIHx8ICFsaXN0ZW5lciApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gYWRkIGV2ZW50XG4gIHRoaXMub24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKTtcbiAgLy8gc2V0IG9uY2UgZmxhZ1xuICAvLyBzZXQgb25jZUV2ZW50cyBoYXNoXG4gIHZhciBvbmNlRXZlbnRzID0gdGhpcy5fb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgfHwge307XG4gIC8vIHNldCBvbmNlTGlzdGVuZXJzIG9iamVjdFxuICB2YXIgb25jZUxpc3RlbmVycyA9IG9uY2VFdmVudHNbIGV2ZW50TmFtZSBdID0gb25jZUV2ZW50c1sgZXZlbnROYW1lIF0gfHwge307XG4gIC8vIHNldCBmbGFnXG4gIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF0gPSB0cnVlO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8ub2ZmID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzWyBldmVudE5hbWUgXTtcbiAgaWYgKCAhbGlzdGVuZXJzIHx8ICFsaXN0ZW5lcnMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZiggbGlzdGVuZXIgKTtcbiAgaWYgKCBpbmRleCAhPSAtMSApIHtcbiAgICBsaXN0ZW5lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5wcm90by5lbWl0RXZlbnQgPSBmdW5jdGlvbiggZXZlbnROYW1lLCBhcmdzICkge1xuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1sgZXZlbnROYW1lIF07XG4gIGlmICggIWxpc3RlbmVycyB8fCAhbGlzdGVuZXJzLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gY29weSBvdmVyIHRvIGF2b2lkIGludGVyZmVyZW5jZSBpZiAub2ZmKCkgaW4gbGlzdGVuZXJcbiAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLnNsaWNlKDApO1xuICBhcmdzID0gYXJncyB8fCBbXTtcbiAgLy8gb25jZSBzdHVmZlxuICB2YXIgb25jZUxpc3RlbmVycyA9IHRoaXMuX29uY2VFdmVudHMgJiYgdGhpcy5fb25jZUV2ZW50c1sgZXZlbnROYW1lIF07XG5cbiAgZm9yICggdmFyIGk9MDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV1cbiAgICB2YXIgaXNPbmNlID0gb25jZUxpc3RlbmVycyAmJiBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdO1xuICAgIGlmICggaXNPbmNlICkge1xuICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyXG4gICAgICAvLyByZW1vdmUgYmVmb3JlIHRyaWdnZXIgdG8gcHJldmVudCByZWN1cnNpb25cbiAgICAgIHRoaXMub2ZmKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG4gICAgICAvLyB1bnNldCBvbmNlIGZsYWdcbiAgICAgIGRlbGV0ZSBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdO1xuICAgIH1cbiAgICAvLyB0cmlnZ2VyIGxpc3RlbmVyXG4gICAgbGlzdGVuZXIuYXBwbHkoIHRoaXMsIGFyZ3MgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8uYWxsT2ZmID0gZnVuY3Rpb24oKSB7XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHM7XG4gIGRlbGV0ZSB0aGlzLl9vbmNlRXZlbnRzO1xufTtcblxucmV0dXJuIEV2RW1pdHRlcjtcblxufSkpO1xuXG4vKiFcbiAqIGdldFNpemUgdjIuMC4zXG4gKiBtZWFzdXJlIHNpemUgb2YgZWxlbWVudHNcbiAqIE1JVCBsaWNlbnNlXG4gKi9cblxuLyoganNoaW50IGJyb3dzZXI6IHRydWUsIHN0cmljdDogdHJ1ZSwgdW5kZWY6IHRydWUsIHVudXNlZDogdHJ1ZSAqL1xuLyogZ2xvYmFscyBjb25zb2xlOiBmYWxzZSAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qIGdsb2JhbHMgZGVmaW5lLCBtb2R1bGUgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoICdnZXQtc2l6ZS9nZXQtc2l6ZScsZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuZ2V0U2l6ZSA9IGZhY3RvcnkoKTtcbiAgfVxuXG59KSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBoZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIGdldCBhIG51bWJlciBmcm9tIGEgc3RyaW5nLCBub3QgYSBwZXJjZW50YWdlXG5mdW5jdGlvbiBnZXRTdHlsZVNpemUoIHZhbHVlICkge1xuICB2YXIgbnVtID0gcGFyc2VGbG9hdCggdmFsdWUgKTtcbiAgLy8gbm90IGEgcGVyY2VudCBsaWtlICcxMDAlJywgYW5kIGEgbnVtYmVyXG4gIHZhciBpc1ZhbGlkID0gdmFsdWUuaW5kZXhPZignJScpID09IC0xICYmICFpc05hTiggbnVtICk7XG4gIHJldHVybiBpc1ZhbGlkICYmIG51bTtcbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBsb2dFcnJvciA9IHR5cGVvZiBjb25zb2xlID09ICd1bmRlZmluZWQnID8gbm9vcCA6XG4gIGZ1bmN0aW9uKCBtZXNzYWdlICkge1xuICAgIGNvbnNvbGUuZXJyb3IoIG1lc3NhZ2UgKTtcbiAgfTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gbWVhc3VyZW1lbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbnZhciBtZWFzdXJlbWVudHMgPSBbXG4gICdwYWRkaW5nTGVmdCcsXG4gICdwYWRkaW5nUmlnaHQnLFxuICAncGFkZGluZ1RvcCcsXG4gICdwYWRkaW5nQm90dG9tJyxcbiAgJ21hcmdpbkxlZnQnLFxuICAnbWFyZ2luUmlnaHQnLFxuICAnbWFyZ2luVG9wJyxcbiAgJ21hcmdpbkJvdHRvbScsXG4gICdib3JkZXJMZWZ0V2lkdGgnLFxuICAnYm9yZGVyUmlnaHRXaWR0aCcsXG4gICdib3JkZXJUb3BXaWR0aCcsXG4gICdib3JkZXJCb3R0b21XaWR0aCdcbl07XG5cbnZhciBtZWFzdXJlbWVudHNMZW5ndGggPSBtZWFzdXJlbWVudHMubGVuZ3RoO1xuXG5mdW5jdGlvbiBnZXRaZXJvU2l6ZSgpIHtcbiAgdmFyIHNpemUgPSB7XG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIGlubmVyV2lkdGg6IDAsXG4gICAgaW5uZXJIZWlnaHQ6IDAsXG4gICAgb3V0ZXJXaWR0aDogMCxcbiAgICBvdXRlckhlaWdodDogMFxuICB9O1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgbWVhc3VyZW1lbnRzTGVuZ3RoOyBpKysgKSB7XG4gICAgdmFyIG1lYXN1cmVtZW50ID0gbWVhc3VyZW1lbnRzW2ldO1xuICAgIHNpemVbIG1lYXN1cmVtZW50IF0gPSAwO1xuICB9XG4gIHJldHVybiBzaXplO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBnZXRTdHlsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIGdldFN0eWxlLCBnZXQgc3R5bGUgb2YgZWxlbWVudCwgY2hlY2sgZm9yIEZpcmVmb3ggYnVnXG4gKiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01NDgzOTdcbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGUoIGVsZW0gKSB7XG4gIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcbiAgaWYgKCAhc3R5bGUgKSB7XG4gICAgbG9nRXJyb3IoICdTdHlsZSByZXR1cm5lZCAnICsgc3R5bGUgK1xuICAgICAgJy4gQXJlIHlvdSBydW5uaW5nIHRoaXMgY29kZSBpbiBhIGhpZGRlbiBpZnJhbWUgb24gRmlyZWZveD8gJyArXG4gICAgICAnU2VlIGh0dHBzOi8vYml0Lmx5L2dldHNpemVidWcxJyApO1xuICB9XG4gIHJldHVybiBzdHlsZTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gc2V0dXAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxudmFyIGlzU2V0dXAgPSBmYWxzZTtcblxudmFyIGlzQm94U2l6ZU91dGVyO1xuXG4vKipcbiAqIHNldHVwXG4gKiBjaGVjayBpc0JveFNpemVyT3V0ZXJcbiAqIGRvIG9uIGZpcnN0IGdldFNpemUoKSByYXRoZXIgdGhhbiBvbiBwYWdlIGxvYWQgZm9yIEZpcmVmb3ggYnVnXG4gKi9cbmZ1bmN0aW9uIHNldHVwKCkge1xuICAvLyBzZXR1cCBvbmNlXG4gIGlmICggaXNTZXR1cCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaXNTZXR1cCA9IHRydWU7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gYm94IHNpemluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8qKlxuICAgKiBDaHJvbWUgJiBTYWZhcmkgbWVhc3VyZSB0aGUgb3V0ZXItd2lkdGggb24gc3R5bGUud2lkdGggb24gYm9yZGVyLWJveCBlbGVtc1xuICAgKiBJRTExICYgRmlyZWZveDwyOSBtZWFzdXJlcyB0aGUgaW5uZXItd2lkdGhcbiAgICovXG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgZGl2LnN0eWxlLnBhZGRpbmcgPSAnMXB4IDJweCAzcHggNHB4JztcbiAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcbiAgZGl2LnN0eWxlLmJvcmRlcldpZHRoID0gJzFweCAycHggM3B4IDRweCc7XG4gIGRpdi5zdHlsZS5ib3hTaXppbmcgPSAnYm9yZGVyLWJveCc7XG5cbiAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgYm9keS5hcHBlbmRDaGlsZCggZGl2ICk7XG4gIHZhciBzdHlsZSA9IGdldFN0eWxlKCBkaXYgKTtcbiAgLy8gcm91bmQgdmFsdWUgZm9yIGJyb3dzZXIgem9vbS4gZGVzYW5kcm8vbWFzb25yeSM5MjhcbiAgaXNCb3hTaXplT3V0ZXIgPSBNYXRoLnJvdW5kKCBnZXRTdHlsZVNpemUoIHN0eWxlLndpZHRoICkgKSA9PSAyMDA7XG4gIGdldFNpemUuaXNCb3hTaXplT3V0ZXIgPSBpc0JveFNpemVPdXRlcjtcblxuICBib2R5LnJlbW92ZUNoaWxkKCBkaXYgKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZ2V0U2l6ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBnZXRTaXplKCBlbGVtICkge1xuICBzZXR1cCgpO1xuXG4gIC8vIHVzZSBxdWVyeVNlbGV0b3IgaWYgZWxlbSBpcyBzdHJpbmdcbiAgaWYgKCB0eXBlb2YgZWxlbSA9PSAnc3RyaW5nJyApIHtcbiAgICBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggZWxlbSApO1xuICB9XG5cbiAgLy8gZG8gbm90IHByb2NlZWQgb24gbm9uLW9iamVjdHNcbiAgaWYgKCAhZWxlbSB8fCB0eXBlb2YgZWxlbSAhPSAnb2JqZWN0JyB8fCAhZWxlbS5ub2RlVHlwZSApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc3R5bGUgPSBnZXRTdHlsZSggZWxlbSApO1xuXG4gIC8vIGlmIGhpZGRlbiwgZXZlcnl0aGluZyBpcyAwXG4gIGlmICggc3R5bGUuZGlzcGxheSA9PSAnbm9uZScgKSB7XG4gICAgcmV0dXJuIGdldFplcm9TaXplKCk7XG4gIH1cblxuICB2YXIgc2l6ZSA9IHt9O1xuICBzaXplLndpZHRoID0gZWxlbS5vZmZzZXRXaWR0aDtcbiAgc2l6ZS5oZWlnaHQgPSBlbGVtLm9mZnNldEhlaWdodDtcblxuICB2YXIgaXNCb3JkZXJCb3ggPSBzaXplLmlzQm9yZGVyQm94ID0gc3R5bGUuYm94U2l6aW5nID09ICdib3JkZXItYm94JztcblxuICAvLyBnZXQgYWxsIG1lYXN1cmVtZW50c1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgbWVhc3VyZW1lbnRzTGVuZ3RoOyBpKysgKSB7XG4gICAgdmFyIG1lYXN1cmVtZW50ID0gbWVhc3VyZW1lbnRzW2ldO1xuICAgIHZhciB2YWx1ZSA9IHN0eWxlWyBtZWFzdXJlbWVudCBdO1xuICAgIHZhciBudW0gPSBwYXJzZUZsb2F0KCB2YWx1ZSApO1xuICAgIC8vIGFueSAnYXV0bycsICdtZWRpdW0nIHZhbHVlIHdpbGwgYmUgMFxuICAgIHNpemVbIG1lYXN1cmVtZW50IF0gPSAhaXNOYU4oIG51bSApID8gbnVtIDogMDtcbiAgfVxuXG4gIHZhciBwYWRkaW5nV2lkdGggPSBzaXplLnBhZGRpbmdMZWZ0ICsgc2l6ZS5wYWRkaW5nUmlnaHQ7XG4gIHZhciBwYWRkaW5nSGVpZ2h0ID0gc2l6ZS5wYWRkaW5nVG9wICsgc2l6ZS5wYWRkaW5nQm90dG9tO1xuICB2YXIgbWFyZ2luV2lkdGggPSBzaXplLm1hcmdpbkxlZnQgKyBzaXplLm1hcmdpblJpZ2h0O1xuICB2YXIgbWFyZ2luSGVpZ2h0ID0gc2l6ZS5tYXJnaW5Ub3AgKyBzaXplLm1hcmdpbkJvdHRvbTtcbiAgdmFyIGJvcmRlcldpZHRoID0gc2l6ZS5ib3JkZXJMZWZ0V2lkdGggKyBzaXplLmJvcmRlclJpZ2h0V2lkdGg7XG4gIHZhciBib3JkZXJIZWlnaHQgPSBzaXplLmJvcmRlclRvcFdpZHRoICsgc2l6ZS5ib3JkZXJCb3R0b21XaWR0aDtcblxuICB2YXIgaXNCb3JkZXJCb3hTaXplT3V0ZXIgPSBpc0JvcmRlckJveCAmJiBpc0JveFNpemVPdXRlcjtcblxuICAvLyBvdmVyd3JpdGUgd2lkdGggYW5kIGhlaWdodCBpZiB3ZSBjYW4gZ2V0IGl0IGZyb20gc3R5bGVcbiAgdmFyIHN0eWxlV2lkdGggPSBnZXRTdHlsZVNpemUoIHN0eWxlLndpZHRoICk7XG4gIGlmICggc3R5bGVXaWR0aCAhPT0gZmFsc2UgKSB7XG4gICAgc2l6ZS53aWR0aCA9IHN0eWxlV2lkdGggK1xuICAgICAgLy8gYWRkIHBhZGRpbmcgYW5kIGJvcmRlciB1bmxlc3MgaXQncyBhbHJlYWR5IGluY2x1ZGluZyBpdFxuICAgICAgKCBpc0JvcmRlckJveFNpemVPdXRlciA/IDAgOiBwYWRkaW5nV2lkdGggKyBib3JkZXJXaWR0aCApO1xuICB9XG5cbiAgdmFyIHN0eWxlSGVpZ2h0ID0gZ2V0U3R5bGVTaXplKCBzdHlsZS5oZWlnaHQgKTtcbiAgaWYgKCBzdHlsZUhlaWdodCAhPT0gZmFsc2UgKSB7XG4gICAgc2l6ZS5oZWlnaHQgPSBzdHlsZUhlaWdodCArXG4gICAgICAvLyBhZGQgcGFkZGluZyBhbmQgYm9yZGVyIHVubGVzcyBpdCdzIGFscmVhZHkgaW5jbHVkaW5nIGl0XG4gICAgICAoIGlzQm9yZGVyQm94U2l6ZU91dGVyID8gMCA6IHBhZGRpbmdIZWlnaHQgKyBib3JkZXJIZWlnaHQgKTtcbiAgfVxuXG4gIHNpemUuaW5uZXJXaWR0aCA9IHNpemUud2lkdGggLSAoIHBhZGRpbmdXaWR0aCArIGJvcmRlcldpZHRoICk7XG4gIHNpemUuaW5uZXJIZWlnaHQgPSBzaXplLmhlaWdodCAtICggcGFkZGluZ0hlaWdodCArIGJvcmRlckhlaWdodCApO1xuXG4gIHNpemUub3V0ZXJXaWR0aCA9IHNpemUud2lkdGggKyBtYXJnaW5XaWR0aDtcbiAgc2l6ZS5vdXRlckhlaWdodCA9IHNpemUuaGVpZ2h0ICsgbWFyZ2luSGVpZ2h0O1xuXG4gIHJldHVybiBzaXplO1xufVxuXG5yZXR1cm4gZ2V0U2l6ZTtcblxufSk7XG5cbi8qKlxuICogbWF0Y2hlc1NlbGVjdG9yIHYyLjAuMlxuICogbWF0Y2hlc1NlbGVjdG9yKCBlbGVtZW50LCAnLnNlbGVjdG9yJyApXG4gKiBNSVQgbGljZW5zZVxuICovXG5cbi8qanNoaW50IGJyb3dzZXI6IHRydWUsIHN0cmljdDogdHJ1ZSwgdW5kZWY6IHRydWUsIHVudXNlZDogdHJ1ZSAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8qZ2xvYmFsIGRlZmluZTogZmFsc2UsIG1vZHVsZTogZmFsc2UgKi9cbiAgJ3VzZSBzdHJpY3QnO1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoICdkZXNhbmRyby1tYXRjaGVzLXNlbGVjdG9yL21hdGNoZXMtc2VsZWN0b3InLGZhY3RvcnkgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93Lm1hdGNoZXNTZWxlY3RvciA9IGZhY3RvcnkoKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgbWF0Y2hlc01ldGhvZCA9ICggZnVuY3Rpb24oKSB7XG4gICAgdmFyIEVsZW1Qcm90byA9IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZTtcbiAgICAvLyBjaGVjayBmb3IgdGhlIHN0YW5kYXJkIG1ldGhvZCBuYW1lIGZpcnN0XG4gICAgaWYgKCBFbGVtUHJvdG8ubWF0Y2hlcyApIHtcbiAgICAgIHJldHVybiAnbWF0Y2hlcyc7XG4gICAgfVxuICAgIC8vIGNoZWNrIHVuLXByZWZpeGVkXG4gICAgaWYgKCBFbGVtUHJvdG8ubWF0Y2hlc1NlbGVjdG9yICkge1xuICAgICAgcmV0dXJuICdtYXRjaGVzU2VsZWN0b3InO1xuICAgIH1cbiAgICAvLyBjaGVjayB2ZW5kb3IgcHJlZml4ZXNcbiAgICB2YXIgcHJlZml4ZXMgPSBbICd3ZWJraXQnLCAnbW96JywgJ21zJywgJ28nIF07XG5cbiAgICBmb3IgKCB2YXIgaT0wOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICB2YXIgcHJlZml4ID0gcHJlZml4ZXNbaV07XG4gICAgICB2YXIgbWV0aG9kID0gcHJlZml4ICsgJ01hdGNoZXNTZWxlY3Rvcic7XG4gICAgICBpZiAoIEVsZW1Qcm90b1sgbWV0aG9kIF0gKSB7XG4gICAgICAgIHJldHVybiBtZXRob2Q7XG4gICAgICB9XG4gICAgfVxuICB9KSgpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBtYXRjaGVzU2VsZWN0b3IoIGVsZW0sIHNlbGVjdG9yICkge1xuICAgIHJldHVybiBlbGVtWyBtYXRjaGVzTWV0aG9kIF0oIHNlbGVjdG9yICk7XG4gIH07XG5cbn0pKTtcblxuLyoqXG4gKiBGaXp6eSBVSSB1dGlscyB2Mi4wLjdcbiAqIE1JVCBsaWNlbnNlXG4gKi9cblxuLypqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgdW5kZWY6IHRydWUsIHVudXNlZDogdHJ1ZSwgc3RyaWN0OiB0cnVlICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qanNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG5cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoICdmaXp6eS11aS11dGlscy91dGlscycsW1xuICAgICAgJ2Rlc2FuZHJvLW1hdGNoZXMtc2VsZWN0b3IvbWF0Y2hlcy1zZWxlY3RvcidcbiAgICBdLCBmdW5jdGlvbiggbWF0Y2hlc1NlbGVjdG9yICkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgbWF0Y2hlc1NlbGVjdG9yICk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICByZXF1aXJlKCdkZXNhbmRyby1tYXRjaGVzLXNlbGVjdG9yJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93LmZpenp5VUlVdGlscyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICB3aW5kb3cubWF0Y2hlc1NlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgbWF0Y2hlc1NlbGVjdG9yICkge1xuXG5cblxudmFyIHV0aWxzID0ge307XG5cbi8vIC0tLS0tIGV4dGVuZCAtLS0tLSAvL1xuXG4vLyBleHRlbmRzIG9iamVjdHNcbnV0aWxzLmV4dGVuZCA9IGZ1bmN0aW9uKCBhLCBiICkge1xuICBmb3IgKCB2YXIgcHJvcCBpbiBiICkge1xuICAgIGFbIHByb3AgXSA9IGJbIHByb3AgXTtcbiAgfVxuICByZXR1cm4gYTtcbn07XG5cbi8vIC0tLS0tIG1vZHVsbyAtLS0tLSAvL1xuXG51dGlscy5tb2R1bG8gPSBmdW5jdGlvbiggbnVtLCBkaXYgKSB7XG4gIHJldHVybiAoICggbnVtICUgZGl2ICkgKyBkaXYgKSAlIGRpdjtcbn07XG5cbi8vIC0tLS0tIG1ha2VBcnJheSAtLS0tLSAvL1xuXG52YXIgYXJyYXlTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuLy8gdHVybiBlbGVtZW50IG9yIG5vZGVMaXN0IGludG8gYW4gYXJyYXlcbnV0aWxzLm1ha2VBcnJheSA9IGZ1bmN0aW9uKCBvYmogKSB7XG4gIGlmICggQXJyYXkuaXNBcnJheSggb2JqICkgKSB7XG4gICAgLy8gdXNlIG9iamVjdCBpZiBhbHJlYWR5IGFuIGFycmF5XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuICAvLyByZXR1cm4gZW1wdHkgYXJyYXkgaWYgdW5kZWZpbmVkIG9yIG51bGwuICM2XG4gIGlmICggb2JqID09PSBudWxsIHx8IG9iaiA9PT0gdW5kZWZpbmVkICkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBpc0FycmF5TGlrZSA9IHR5cGVvZiBvYmogPT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iai5sZW5ndGggPT0gJ251bWJlcic7XG4gIGlmICggaXNBcnJheUxpa2UgKSB7XG4gICAgLy8gY29udmVydCBub2RlTGlzdCB0byBhcnJheVxuICAgIHJldHVybiBhcnJheVNsaWNlLmNhbGwoIG9iaiApO1xuICB9XG5cbiAgLy8gYXJyYXkgb2Ygc2luZ2xlIGluZGV4XG4gIHJldHVybiBbIG9iaiBdO1xufTtcblxuLy8gLS0tLS0gcmVtb3ZlRnJvbSAtLS0tLSAvL1xuXG51dGlscy5yZW1vdmVGcm9tID0gZnVuY3Rpb24oIGFyeSwgb2JqICkge1xuICB2YXIgaW5kZXggPSBhcnkuaW5kZXhPZiggb2JqICk7XG4gIGlmICggaW5kZXggIT0gLTEgKSB7XG4gICAgYXJ5LnNwbGljZSggaW5kZXgsIDEgKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gZ2V0UGFyZW50IC0tLS0tIC8vXG5cbnV0aWxzLmdldFBhcmVudCA9IGZ1bmN0aW9uKCBlbGVtLCBzZWxlY3RvciApIHtcbiAgd2hpbGUgKCBlbGVtLnBhcmVudE5vZGUgJiYgZWxlbSAhPSBkb2N1bWVudC5ib2R5ICkge1xuICAgIGVsZW0gPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgaWYgKCBtYXRjaGVzU2VsZWN0b3IoIGVsZW0sIHNlbGVjdG9yICkgKSB7XG4gICAgICByZXR1cm4gZWxlbTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIC0tLS0tIGdldFF1ZXJ5RWxlbWVudCAtLS0tLSAvL1xuXG4vLyB1c2UgZWxlbWVudCBhcyBzZWxlY3RvciBzdHJpbmdcbnV0aWxzLmdldFF1ZXJ5RWxlbWVudCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICBpZiAoIHR5cGVvZiBlbGVtID09ICdzdHJpbmcnICkge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBlbGVtICk7XG4gIH1cbiAgcmV0dXJuIGVsZW07XG59O1xuXG4vLyAtLS0tLSBoYW5kbGVFdmVudCAtLS0tLSAvL1xuXG4vLyBlbmFibGUgLm9udHlwZSB0byB0cmlnZ2VyIGZyb20gLmFkZEV2ZW50TGlzdGVuZXIoIGVsZW0sICd0eXBlJyApXG51dGlscy5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdmFyIG1ldGhvZCA9ICdvbicgKyBldmVudC50eXBlO1xuICBpZiAoIHRoaXNbIG1ldGhvZCBdICkge1xuICAgIHRoaXNbIG1ldGhvZCBdKCBldmVudCApO1xuICB9XG59O1xuXG4vLyAtLS0tLSBmaWx0ZXJGaW5kRWxlbWVudHMgLS0tLS0gLy9cblxudXRpbHMuZmlsdGVyRmluZEVsZW1lbnRzID0gZnVuY3Rpb24oIGVsZW1zLCBzZWxlY3RvciApIHtcbiAgLy8gbWFrZSBhcnJheSBvZiBlbGVtc1xuICBlbGVtcyA9IHV0aWxzLm1ha2VBcnJheSggZWxlbXMgKTtcbiAgdmFyIGZmRWxlbXMgPSBbXTtcblxuICBlbGVtcy5mb3JFYWNoKCBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAvLyBjaGVjayB0aGF0IGVsZW0gaXMgYW4gYWN0dWFsIGVsZW1lbnRcbiAgICBpZiAoICEoIGVsZW0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCApICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBhZGQgZWxlbSBpZiBubyBzZWxlY3RvclxuICAgIGlmICggIXNlbGVjdG9yICkge1xuICAgICAgZmZFbGVtcy5wdXNoKCBlbGVtICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGZpbHRlciAmIGZpbmQgaXRlbXMgaWYgd2UgaGF2ZSBhIHNlbGVjdG9yXG4gICAgLy8gZmlsdGVyXG4gICAgaWYgKCBtYXRjaGVzU2VsZWN0b3IoIGVsZW0sIHNlbGVjdG9yICkgKSB7XG4gICAgICBmZkVsZW1zLnB1c2goIGVsZW0gKTtcbiAgICB9XG4gICAgLy8gZmluZCBjaGlsZHJlblxuICAgIHZhciBjaGlsZEVsZW1zID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCBzZWxlY3RvciApO1xuICAgIC8vIGNvbmNhdCBjaGlsZEVsZW1zIHRvIGZpbHRlckZvdW5kIGFycmF5XG4gICAgZm9yICggdmFyIGk9MDsgaSA8IGNoaWxkRWxlbXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICBmZkVsZW1zLnB1c2goIGNoaWxkRWxlbXNbaV0gKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBmZkVsZW1zO1xufTtcblxuLy8gLS0tLS0gZGVib3VuY2VNZXRob2QgLS0tLS0gLy9cblxudXRpbHMuZGVib3VuY2VNZXRob2QgPSBmdW5jdGlvbiggX2NsYXNzLCBtZXRob2ROYW1lLCB0aHJlc2hvbGQgKSB7XG4gIHRocmVzaG9sZCA9IHRocmVzaG9sZCB8fCAxMDA7XG4gIC8vIG9yaWdpbmFsIG1ldGhvZFxuICB2YXIgbWV0aG9kID0gX2NsYXNzLnByb3RvdHlwZVsgbWV0aG9kTmFtZSBdO1xuICB2YXIgdGltZW91dE5hbWUgPSBtZXRob2ROYW1lICsgJ1RpbWVvdXQnO1xuXG4gIF9jbGFzcy5wcm90b3R5cGVbIG1ldGhvZE5hbWUgXSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0aW1lb3V0ID0gdGhpc1sgdGltZW91dE5hbWUgXTtcbiAgICBjbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcblxuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdGhpc1sgdGltZW91dE5hbWUgXSA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgbWV0aG9kLmFwcGx5KCBfdGhpcywgYXJncyApO1xuICAgICAgZGVsZXRlIF90aGlzWyB0aW1lb3V0TmFtZSBdO1xuICAgIH0sIHRocmVzaG9sZCApO1xuICB9O1xufTtcblxuLy8gLS0tLS0gZG9jUmVhZHkgLS0tLS0gLy9cblxudXRpbHMuZG9jUmVhZHkgPSBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG4gIHZhciByZWFkeVN0YXRlID0gZG9jdW1lbnQucmVhZHlTdGF0ZTtcbiAgaWYgKCByZWFkeVN0YXRlID09ICdjb21wbGV0ZScgfHwgcmVhZHlTdGF0ZSA9PSAnaW50ZXJhY3RpdmUnICkge1xuICAgIC8vIGRvIGFzeW5jIHRvIGFsbG93IGZvciBvdGhlciBzY3JpcHRzIHRvIHJ1bi4gbWV0YWZpenp5L2ZsaWNraXR5IzQ0MVxuICAgIHNldFRpbWVvdXQoIGNhbGxiYWNrICk7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ0RPTUNvbnRlbnRMb2FkZWQnLCBjYWxsYmFjayApO1xuICB9XG59O1xuXG4vLyAtLS0tLSBodG1sSW5pdCAtLS0tLSAvL1xuXG4vLyBodHRwOi8vamFtZXNyb2JlcnRzLm5hbWUvYmxvZy8yMDEwLzAyLzIyL3N0cmluZy1mdW5jdGlvbnMtZm9yLWphdmFzY3JpcHQtdHJpbS10by1jYW1lbC1jYXNlLXRvLWRhc2hlZC1hbmQtdG8tdW5kZXJzY29yZS9cbnV0aWxzLnRvRGFzaGVkID0gZnVuY3Rpb24oIHN0ciApIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKCAvKC4pKFtBLVpdKS9nLCBmdW5jdGlvbiggbWF0Y2gsICQxLCAkMiApIHtcbiAgICByZXR1cm4gJDEgKyAnLScgKyAkMjtcbiAgfSkudG9Mb3dlckNhc2UoKTtcbn07XG5cbnZhciBjb25zb2xlID0gd2luZG93LmNvbnNvbGU7XG4vKipcbiAqIGFsbG93IHVzZXIgdG8gaW5pdGlhbGl6ZSBjbGFzc2VzIHZpYSBbZGF0YS1uYW1lc3BhY2VdIG9yIC5qcy1uYW1lc3BhY2UgY2xhc3NcbiAqIGh0bWxJbml0KCBXaWRnZXQsICd3aWRnZXROYW1lJyApXG4gKiBvcHRpb25zIGFyZSBwYXJzZWQgZnJvbSBkYXRhLW5hbWVzcGFjZS1vcHRpb25zXG4gKi9cbnV0aWxzLmh0bWxJbml0ID0gZnVuY3Rpb24oIFdpZGdldENsYXNzLCBuYW1lc3BhY2UgKSB7XG4gIHV0aWxzLmRvY1JlYWR5KCBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGFzaGVkTmFtZXNwYWNlID0gdXRpbHMudG9EYXNoZWQoIG5hbWVzcGFjZSApO1xuICAgIHZhciBkYXRhQXR0ciA9ICdkYXRhLScgKyBkYXNoZWROYW1lc3BhY2U7XG4gICAgdmFyIGRhdGFBdHRyRWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnWycgKyBkYXRhQXR0ciArICddJyApO1xuICAgIHZhciBqc0Rhc2hFbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICcuanMtJyArIGRhc2hlZE5hbWVzcGFjZSApO1xuICAgIHZhciBlbGVtcyA9IHV0aWxzLm1ha2VBcnJheSggZGF0YUF0dHJFbGVtcyApXG4gICAgICAuY29uY2F0KCB1dGlscy5tYWtlQXJyYXkoIGpzRGFzaEVsZW1zICkgKTtcbiAgICB2YXIgZGF0YU9wdGlvbnNBdHRyID0gZGF0YUF0dHIgKyAnLW9wdGlvbnMnO1xuICAgIHZhciBqUXVlcnkgPSB3aW5kb3cualF1ZXJ5O1xuXG4gICAgZWxlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgICB2YXIgYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKCBkYXRhQXR0ciApIHx8XG4gICAgICAgIGVsZW0uZ2V0QXR0cmlidXRlKCBkYXRhT3B0aW9uc0F0dHIgKTtcbiAgICAgIHZhciBvcHRpb25zO1xuICAgICAgdHJ5IHtcbiAgICAgICAgb3B0aW9ucyA9IGF0dHIgJiYgSlNPTi5wYXJzZSggYXR0ciApO1xuICAgICAgfSBjYXRjaCAoIGVycm9yICkge1xuICAgICAgICAvLyBsb2cgZXJyb3IsIGRvIG5vdCBpbml0aWFsaXplXG4gICAgICAgIGlmICggY29uc29sZSApIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCAnRXJyb3IgcGFyc2luZyAnICsgZGF0YUF0dHIgKyAnIG9uICcgKyBlbGVtLmNsYXNzTmFtZSArXG4gICAgICAgICAgJzogJyArIGVycm9yICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gaW5pdGlhbGl6ZVxuICAgICAgdmFyIGluc3RhbmNlID0gbmV3IFdpZGdldENsYXNzKCBlbGVtLCBvcHRpb25zICk7XG4gICAgICAvLyBtYWtlIGF2YWlsYWJsZSB2aWEgJCgpLmRhdGEoJ25hbWVzcGFjZScpXG4gICAgICBpZiAoIGpRdWVyeSApIHtcbiAgICAgICAgalF1ZXJ5LmRhdGEoIGVsZW0sIG5hbWVzcGFjZSwgaW5zdGFuY2UgKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9KTtcbn07XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG5yZXR1cm4gdXRpbHM7XG5cbn0pKTtcblxuLyoqXG4gKiBPdXRsYXllciBJdGVtXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLyogZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSwgcmVxdWlyZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRCAtIFJlcXVpcmVKU1xuICAgIGRlZmluZSggJ291dGxheWVyL2l0ZW0nLFtcbiAgICAgICAgJ2V2LWVtaXR0ZXIvZXYtZW1pdHRlcicsXG4gICAgICAgICdnZXQtc2l6ZS9nZXQtc2l6ZSdcbiAgICAgIF0sXG4gICAgICBmYWN0b3J5XG4gICAgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KUyAtIEJyb3dzZXJpZnksIFdlYnBhY2tcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICByZXF1aXJlKCdldi1lbWl0dGVyJyksXG4gICAgICByZXF1aXJlKCdnZXQtc2l6ZScpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5PdXRsYXllciA9IHt9O1xuICAgIHdpbmRvdy5PdXRsYXllci5JdGVtID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdy5FdkVtaXR0ZXIsXG4gICAgICB3aW5kb3cuZ2V0U2l6ZVxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCBFdkVtaXR0ZXIsIGdldFNpemUgKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8vIC0tLS0tIGhlbHBlcnMgLS0tLS0gLy9cblxuZnVuY3Rpb24gaXNFbXB0eU9iaiggb2JqICkge1xuICBmb3IgKCB2YXIgcHJvcCBpbiBvYmogKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHByb3AgPSBudWxsO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQ1NTMyBzdXBwb3J0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cblxudmFyIGRvY0VsZW1TdHlsZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtcblxudmFyIHRyYW5zaXRpb25Qcm9wZXJ0eSA9IHR5cGVvZiBkb2NFbGVtU3R5bGUudHJhbnNpdGlvbiA9PSAnc3RyaW5nJyA/XG4gICd0cmFuc2l0aW9uJyA6ICdXZWJraXRUcmFuc2l0aW9uJztcbnZhciB0cmFuc2Zvcm1Qcm9wZXJ0eSA9IHR5cGVvZiBkb2NFbGVtU3R5bGUudHJhbnNmb3JtID09ICdzdHJpbmcnID9cbiAgJ3RyYW5zZm9ybScgOiAnV2Via2l0VHJhbnNmb3JtJztcblxudmFyIHRyYW5zaXRpb25FbmRFdmVudCA9IHtcbiAgV2Via2l0VHJhbnNpdGlvbjogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICB0cmFuc2l0aW9uOiAndHJhbnNpdGlvbmVuZCdcbn1bIHRyYW5zaXRpb25Qcm9wZXJ0eSBdO1xuXG4vLyBjYWNoZSBhbGwgdmVuZG9yIHByb3BlcnRpZXMgdGhhdCBjb3VsZCBoYXZlIHZlbmRvciBwcmVmaXhcbnZhciB2ZW5kb3JQcm9wZXJ0aWVzID0ge1xuICB0cmFuc2Zvcm06IHRyYW5zZm9ybVByb3BlcnR5LFxuICB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uUHJvcGVydHksXG4gIHRyYW5zaXRpb25EdXJhdGlvbjogdHJhbnNpdGlvblByb3BlcnR5ICsgJ0R1cmF0aW9uJyxcbiAgdHJhbnNpdGlvblByb3BlcnR5OiB0cmFuc2l0aW9uUHJvcGVydHkgKyAnUHJvcGVydHknLFxuICB0cmFuc2l0aW9uRGVsYXk6IHRyYW5zaXRpb25Qcm9wZXJ0eSArICdEZWxheSdcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEl0ZW0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuZnVuY3Rpb24gSXRlbSggZWxlbWVudCwgbGF5b3V0ICkge1xuICBpZiAoICFlbGVtZW50ICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gIC8vIHBhcmVudCBsYXlvdXQgY2xhc3MsIGkuZS4gTWFzb25yeSwgSXNvdG9wZSwgb3IgUGFja2VyeVxuICB0aGlzLmxheW91dCA9IGxheW91dDtcbiAgdGhpcy5wb3NpdGlvbiA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcblxuICB0aGlzLl9jcmVhdGUoKTtcbn1cblxuLy8gaW5oZXJpdCBFdkVtaXR0ZXJcbnZhciBwcm90byA9IEl0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZFbWl0dGVyLnByb3RvdHlwZSApO1xucHJvdG8uY29uc3RydWN0b3IgPSBJdGVtO1xuXG5wcm90by5fY3JlYXRlID0gZnVuY3Rpb24oKSB7XG4gIC8vIHRyYW5zaXRpb24gb2JqZWN0c1xuICB0aGlzLl90cmFuc24gPSB7XG4gICAgaW5nUHJvcGVydGllczoge30sXG4gICAgY2xlYW46IHt9LFxuICAgIG9uRW5kOiB7fVxuICB9O1xuXG4gIHRoaXMuY3NzKHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICB9KTtcbn07XG5cbi8vIHRyaWdnZXIgc3BlY2lmaWVkIGhhbmRsZXIgZm9yIGV2ZW50IHR5cGVcbnByb3RvLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB2YXIgbWV0aG9kID0gJ29uJyArIGV2ZW50LnR5cGU7XG4gIGlmICggdGhpc1sgbWV0aG9kIF0gKSB7XG4gICAgdGhpc1sgbWV0aG9kIF0oIGV2ZW50ICk7XG4gIH1cbn07XG5cbnByb3RvLmdldFNpemUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zaXplID0gZ2V0U2l6ZSggdGhpcy5lbGVtZW50ICk7XG59O1xuXG4vKipcbiAqIGFwcGx5IENTUyBzdHlsZXMgdG8gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHN0eWxlXG4gKi9cbnByb3RvLmNzcyA9IGZ1bmN0aW9uKCBzdHlsZSApIHtcbiAgdmFyIGVsZW1TdHlsZSA9IHRoaXMuZWxlbWVudC5zdHlsZTtcblxuICBmb3IgKCB2YXIgcHJvcCBpbiBzdHlsZSApIHtcbiAgICAvLyB1c2UgdmVuZG9yIHByb3BlcnR5IGlmIGF2YWlsYWJsZVxuICAgIHZhciBzdXBwb3J0ZWRQcm9wID0gdmVuZG9yUHJvcGVydGllc1sgcHJvcCBdIHx8IHByb3A7XG4gICAgZWxlbVN0eWxlWyBzdXBwb3J0ZWRQcm9wIF0gPSBzdHlsZVsgcHJvcCBdO1xuICB9XG59O1xuXG4gLy8gbWVhc3VyZSBwb3NpdGlvbiwgYW5kIHNldHMgaXRcbnByb3RvLmdldFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoIHRoaXMuZWxlbWVudCApO1xuICB2YXIgaXNPcmlnaW5MZWZ0ID0gdGhpcy5sYXlvdXQuX2dldE9wdGlvbignb3JpZ2luTGVmdCcpO1xuICB2YXIgaXNPcmlnaW5Ub3AgPSB0aGlzLmxheW91dC5fZ2V0T3B0aW9uKCdvcmlnaW5Ub3AnKTtcbiAgdmFyIHhWYWx1ZSA9IHN0eWxlWyBpc09yaWdpbkxlZnQgPyAnbGVmdCcgOiAncmlnaHQnIF07XG4gIHZhciB5VmFsdWUgPSBzdHlsZVsgaXNPcmlnaW5Ub3AgPyAndG9wJyA6ICdib3R0b20nIF07XG4gIHZhciB4ID0gcGFyc2VGbG9hdCggeFZhbHVlICk7XG4gIHZhciB5ID0gcGFyc2VGbG9hdCggeVZhbHVlICk7XG4gIC8vIGNvbnZlcnQgcGVyY2VudCB0byBwaXhlbHNcbiAgdmFyIGxheW91dFNpemUgPSB0aGlzLmxheW91dC5zaXplO1xuICBpZiAoIHhWYWx1ZS5pbmRleE9mKCclJykgIT0gLTEgKSB7XG4gICAgeCA9ICggeCAvIDEwMCApICogbGF5b3V0U2l6ZS53aWR0aDtcbiAgfVxuICBpZiAoIHlWYWx1ZS5pbmRleE9mKCclJykgIT0gLTEgKSB7XG4gICAgeSA9ICggeSAvIDEwMCApICogbGF5b3V0U2l6ZS5oZWlnaHQ7XG4gIH1cbiAgLy8gY2xlYW4gdXAgJ2F1dG8nIG9yIG90aGVyIG5vbi1pbnRlZ2VyIHZhbHVlc1xuICB4ID0gaXNOYU4oIHggKSA/IDAgOiB4O1xuICB5ID0gaXNOYU4oIHkgKSA/IDAgOiB5O1xuICAvLyByZW1vdmUgcGFkZGluZyBmcm9tIG1lYXN1cmVtZW50XG4gIHggLT0gaXNPcmlnaW5MZWZ0ID8gbGF5b3V0U2l6ZS5wYWRkaW5nTGVmdCA6IGxheW91dFNpemUucGFkZGluZ1JpZ2h0O1xuICB5IC09IGlzT3JpZ2luVG9wID8gbGF5b3V0U2l6ZS5wYWRkaW5nVG9wIDogbGF5b3V0U2l6ZS5wYWRkaW5nQm90dG9tO1xuXG4gIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gIHRoaXMucG9zaXRpb24ueSA9IHk7XG59O1xuXG4vLyBzZXQgc2V0dGxlZCBwb3NpdGlvbiwgYXBwbHkgcGFkZGluZ1xucHJvdG8ubGF5b3V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgdmFyIGxheW91dFNpemUgPSB0aGlzLmxheW91dC5zaXplO1xuICB2YXIgc3R5bGUgPSB7fTtcbiAgdmFyIGlzT3JpZ2luTGVmdCA9IHRoaXMubGF5b3V0Ll9nZXRPcHRpb24oJ29yaWdpbkxlZnQnKTtcbiAgdmFyIGlzT3JpZ2luVG9wID0gdGhpcy5sYXlvdXQuX2dldE9wdGlvbignb3JpZ2luVG9wJyk7XG5cbiAgLy8geFxuICB2YXIgeFBhZGRpbmcgPSBpc09yaWdpbkxlZnQgPyAncGFkZGluZ0xlZnQnIDogJ3BhZGRpbmdSaWdodCc7XG4gIHZhciB4UHJvcGVydHkgPSBpc09yaWdpbkxlZnQgPyAnbGVmdCcgOiAncmlnaHQnO1xuICB2YXIgeFJlc2V0UHJvcGVydHkgPSBpc09yaWdpbkxlZnQgPyAncmlnaHQnIDogJ2xlZnQnO1xuXG4gIHZhciB4ID0gdGhpcy5wb3NpdGlvbi54ICsgbGF5b3V0U2l6ZVsgeFBhZGRpbmcgXTtcbiAgLy8gc2V0IGluIHBlcmNlbnRhZ2Ugb3IgcGl4ZWxzXG4gIHN0eWxlWyB4UHJvcGVydHkgXSA9IHRoaXMuZ2V0WFZhbHVlKCB4ICk7XG4gIC8vIHJlc2V0IG90aGVyIHByb3BlcnR5XG4gIHN0eWxlWyB4UmVzZXRQcm9wZXJ0eSBdID0gJyc7XG5cbiAgLy8geVxuICB2YXIgeVBhZGRpbmcgPSBpc09yaWdpblRvcCA/ICdwYWRkaW5nVG9wJyA6ICdwYWRkaW5nQm90dG9tJztcbiAgdmFyIHlQcm9wZXJ0eSA9IGlzT3JpZ2luVG9wID8gJ3RvcCcgOiAnYm90dG9tJztcbiAgdmFyIHlSZXNldFByb3BlcnR5ID0gaXNPcmlnaW5Ub3AgPyAnYm90dG9tJyA6ICd0b3AnO1xuXG4gIHZhciB5ID0gdGhpcy5wb3NpdGlvbi55ICsgbGF5b3V0U2l6ZVsgeVBhZGRpbmcgXTtcbiAgLy8gc2V0IGluIHBlcmNlbnRhZ2Ugb3IgcGl4ZWxzXG4gIHN0eWxlWyB5UHJvcGVydHkgXSA9IHRoaXMuZ2V0WVZhbHVlKCB5ICk7XG4gIC8vIHJlc2V0IG90aGVyIHByb3BlcnR5XG4gIHN0eWxlWyB5UmVzZXRQcm9wZXJ0eSBdID0gJyc7XG5cbiAgdGhpcy5jc3MoIHN0eWxlICk7XG4gIHRoaXMuZW1pdEV2ZW50KCAnbGF5b3V0JywgWyB0aGlzIF0gKTtcbn07XG5cbnByb3RvLmdldFhWYWx1ZSA9IGZ1bmN0aW9uKCB4ICkge1xuICB2YXIgaXNIb3Jpem9udGFsID0gdGhpcy5sYXlvdXQuX2dldE9wdGlvbignaG9yaXpvbnRhbCcpO1xuICByZXR1cm4gdGhpcy5sYXlvdXQub3B0aW9ucy5wZXJjZW50UG9zaXRpb24gJiYgIWlzSG9yaXpvbnRhbCA/XG4gICAgKCAoIHggLyB0aGlzLmxheW91dC5zaXplLndpZHRoICkgKiAxMDAgKSArICclJyA6IHggKyAncHgnO1xufTtcblxucHJvdG8uZ2V0WVZhbHVlID0gZnVuY3Rpb24oIHkgKSB7XG4gIHZhciBpc0hvcml6b250YWwgPSB0aGlzLmxheW91dC5fZ2V0T3B0aW9uKCdob3Jpem9udGFsJyk7XG4gIHJldHVybiB0aGlzLmxheW91dC5vcHRpb25zLnBlcmNlbnRQb3NpdGlvbiAmJiBpc0hvcml6b250YWwgP1xuICAgICggKCB5IC8gdGhpcy5sYXlvdXQuc2l6ZS5oZWlnaHQgKSAqIDEwMCApICsgJyUnIDogeSArICdweCc7XG59O1xuXG5wcm90by5fdHJhbnNpdGlvblRvID0gZnVuY3Rpb24oIHgsIHkgKSB7XG4gIHRoaXMuZ2V0UG9zaXRpb24oKTtcbiAgLy8gZ2V0IGN1cnJlbnQgeCAmIHkgZnJvbSB0b3AvbGVmdFxuICB2YXIgY3VyWCA9IHRoaXMucG9zaXRpb24ueDtcbiAgdmFyIGN1clkgPSB0aGlzLnBvc2l0aW9uLnk7XG5cbiAgdmFyIGRpZE5vdE1vdmUgPSB4ID09IHRoaXMucG9zaXRpb24ueCAmJiB5ID09IHRoaXMucG9zaXRpb24ueTtcblxuICAvLyBzYXZlIGVuZCBwb3NpdGlvblxuICB0aGlzLnNldFBvc2l0aW9uKCB4LCB5ICk7XG5cbiAgLy8gaWYgZGlkIG5vdCBtb3ZlIGFuZCBub3QgdHJhbnNpdGlvbmluZywganVzdCBnbyB0byBsYXlvdXRcbiAgaWYgKCBkaWROb3RNb3ZlICYmICF0aGlzLmlzVHJhbnNpdGlvbmluZyApIHtcbiAgICB0aGlzLmxheW91dFBvc2l0aW9uKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHRyYW5zWCA9IHggLSBjdXJYO1xuICB2YXIgdHJhbnNZID0geSAtIGN1clk7XG4gIHZhciB0cmFuc2l0aW9uU3R5bGUgPSB7fTtcbiAgdHJhbnNpdGlvblN0eWxlLnRyYW5zZm9ybSA9IHRoaXMuZ2V0VHJhbnNsYXRlKCB0cmFuc1gsIHRyYW5zWSApO1xuXG4gIHRoaXMudHJhbnNpdGlvbih7XG4gICAgdG86IHRyYW5zaXRpb25TdHlsZSxcbiAgICBvblRyYW5zaXRpb25FbmQ6IHtcbiAgICAgIHRyYW5zZm9ybTogdGhpcy5sYXlvdXRQb3NpdGlvblxuICAgIH0sXG4gICAgaXNDbGVhbmluZzogdHJ1ZVxuICB9KTtcbn07XG5cbnByb3RvLmdldFRyYW5zbGF0ZSA9IGZ1bmN0aW9uKCB4LCB5ICkge1xuICAvLyBmbGlwIGNvb3JpZGluYXRlcyBpZiBvcmlnaW4gb24gcmlnaHQgb3IgYm90dG9tXG4gIHZhciBpc09yaWdpbkxlZnQgPSB0aGlzLmxheW91dC5fZ2V0T3B0aW9uKCdvcmlnaW5MZWZ0Jyk7XG4gIHZhciBpc09yaWdpblRvcCA9IHRoaXMubGF5b3V0Ll9nZXRPcHRpb24oJ29yaWdpblRvcCcpO1xuICB4ID0gaXNPcmlnaW5MZWZ0ID8geCA6IC14O1xuICB5ID0gaXNPcmlnaW5Ub3AgPyB5IDogLXk7XG4gIHJldHVybiAndHJhbnNsYXRlM2QoJyArIHggKyAncHgsICcgKyB5ICsgJ3B4LCAwKSc7XG59O1xuXG4vLyBub24gdHJhbnNpdGlvbiArIHRyYW5zZm9ybSBzdXBwb3J0XG5wcm90by5nb1RvID0gZnVuY3Rpb24oIHgsIHkgKSB7XG4gIHRoaXMuc2V0UG9zaXRpb24oIHgsIHkgKTtcbiAgdGhpcy5sYXlvdXRQb3NpdGlvbigpO1xufTtcblxucHJvdG8ubW92ZVRvID0gcHJvdG8uX3RyYW5zaXRpb25UbztcblxucHJvdG8uc2V0UG9zaXRpb24gPSBmdW5jdGlvbiggeCwgeSApIHtcbiAgdGhpcy5wb3NpdGlvbi54ID0gcGFyc2VGbG9hdCggeCApO1xuICB0aGlzLnBvc2l0aW9uLnkgPSBwYXJzZUZsb2F0KCB5ICk7XG59O1xuXG4vLyAtLS0tLSB0cmFuc2l0aW9uIC0tLS0tIC8vXG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IHN0eWxlIC0gQ1NTXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblRyYW5zaXRpb25FbmRcbiAqL1xuXG4vLyBub24gdHJhbnNpdGlvbiwganVzdCB0cmlnZ2VyIGNhbGxiYWNrXG5wcm90by5fbm9uVHJhbnNpdGlvbiA9IGZ1bmN0aW9uKCBhcmdzICkge1xuICB0aGlzLmNzcyggYXJncy50byApO1xuICBpZiAoIGFyZ3MuaXNDbGVhbmluZyApIHtcbiAgICB0aGlzLl9yZW1vdmVTdHlsZXMoIGFyZ3MudG8gKTtcbiAgfVxuICBmb3IgKCB2YXIgcHJvcCBpbiBhcmdzLm9uVHJhbnNpdGlvbkVuZCApIHtcbiAgICBhcmdzLm9uVHJhbnNpdGlvbkVuZFsgcHJvcCBdLmNhbGwoIHRoaXMgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBwcm9wZXIgdHJhbnNpdGlvblxuICogQHBhcmFtIHtPYmplY3R9IGFyZ3MgLSBhcmd1bWVudHNcbiAqICAgQHBhcmFtIHtPYmplY3R9IHRvIC0gc3R5bGUgdG8gdHJhbnNpdGlvbiB0b1xuICogICBAcGFyYW0ge09iamVjdH0gZnJvbSAtIHN0eWxlIHRvIHN0YXJ0IHRyYW5zaXRpb24gZnJvbVxuICogICBAcGFyYW0ge0Jvb2xlYW59IGlzQ2xlYW5pbmcgLSByZW1vdmVzIHRyYW5zaXRpb24gc3R5bGVzIGFmdGVyIHRyYW5zaXRpb25cbiAqICAgQHBhcmFtIHtGdW5jdGlvbn0gb25UcmFuc2l0aW9uRW5kIC0gY2FsbGJhY2tcbiAqL1xucHJvdG8udHJhbnNpdGlvbiA9IGZ1bmN0aW9uKCBhcmdzICkge1xuICAvLyByZWRpcmVjdCB0byBub25UcmFuc2l0aW9uIGlmIG5vIHRyYW5zaXRpb24gZHVyYXRpb25cbiAgaWYgKCAhcGFyc2VGbG9hdCggdGhpcy5sYXlvdXQub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb24gKSApIHtcbiAgICB0aGlzLl9ub25UcmFuc2l0aW9uKCBhcmdzICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIF90cmFuc2l0aW9uID0gdGhpcy5fdHJhbnNuO1xuICAvLyBrZWVwIHRyYWNrIG9mIG9uVHJhbnNpdGlvbkVuZCBjYWxsYmFjayBieSBjc3MgcHJvcGVydHlcbiAgZm9yICggdmFyIHByb3AgaW4gYXJncy5vblRyYW5zaXRpb25FbmQgKSB7XG4gICAgX3RyYW5zaXRpb24ub25FbmRbIHByb3AgXSA9IGFyZ3Mub25UcmFuc2l0aW9uRW5kWyBwcm9wIF07XG4gIH1cbiAgLy8ga2VlcCB0cmFjayBvZiBwcm9wZXJ0aWVzIHRoYXQgYXJlIHRyYW5zaXRpb25pbmdcbiAgZm9yICggcHJvcCBpbiBhcmdzLnRvICkge1xuICAgIF90cmFuc2l0aW9uLmluZ1Byb3BlcnRpZXNbIHByb3AgXSA9IHRydWU7XG4gICAgLy8ga2VlcCB0cmFjayBvZiBwcm9wZXJ0aWVzIHRvIGNsZWFuIHVwIHdoZW4gdHJhbnNpdGlvbiBpcyBkb25lXG4gICAgaWYgKCBhcmdzLmlzQ2xlYW5pbmcgKSB7XG4gICAgICBfdHJhbnNpdGlvbi5jbGVhblsgcHJvcCBdID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBzZXQgZnJvbSBzdHlsZXNcbiAgaWYgKCBhcmdzLmZyb20gKSB7XG4gICAgdGhpcy5jc3MoIGFyZ3MuZnJvbSApO1xuICAgIC8vIGZvcmNlIHJlZHJhdy4gaHR0cDovL2Jsb2cuYWxleG1hY2Nhdy5jb20vY3NzLXRyYW5zaXRpb25zXG4gICAgdmFyIGggPSB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIC8vIGhhY2sgZm9yIEpTSGludCB0byBodXNoIGFib3V0IHVudXNlZCB2YXJcbiAgICBoID0gbnVsbDtcbiAgfVxuICAvLyBlbmFibGUgdHJhbnNpdGlvblxuICB0aGlzLmVuYWJsZVRyYW5zaXRpb24oIGFyZ3MudG8gKTtcbiAgLy8gc2V0IHN0eWxlcyB0aGF0IGFyZSB0cmFuc2l0aW9uaW5nXG4gIHRoaXMuY3NzKCBhcmdzLnRvICk7XG5cbiAgdGhpcy5pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuXG59O1xuXG4vLyBkYXNoIGJlZm9yZSBhbGwgY2FwIGxldHRlcnMsIGluY2x1ZGluZyBmaXJzdCBmb3Jcbi8vIFdlYmtpdFRyYW5zZm9ybSA9PiAtd2Via2l0LXRyYW5zZm9ybVxuZnVuY3Rpb24gdG9EYXNoZWRBbGwoIHN0ciApIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKCAvKFtBLVpdKS9nLCBmdW5jdGlvbiggJDEgKSB7XG4gICAgcmV0dXJuICctJyArICQxLnRvTG93ZXJDYXNlKCk7XG4gIH0pO1xufVxuXG52YXIgdHJhbnNpdGlvblByb3BzID0gJ29wYWNpdHksJyArIHRvRGFzaGVkQWxsKCB0cmFuc2Zvcm1Qcm9wZXJ0eSApO1xuXG5wcm90by5lbmFibGVUcmFuc2l0aW9uID0gZnVuY3Rpb24oLyogc3R5bGUgKi8pIHtcbiAgLy8gSEFDSyBjaGFuZ2luZyB0cmFuc2l0aW9uUHJvcGVydHkgZHVyaW5nIGEgdHJhbnNpdGlvblxuICAvLyB3aWxsIGNhdXNlIHRyYW5zaXRpb24gdG8ganVtcFxuICBpZiAoIHRoaXMuaXNUcmFuc2l0aW9uaW5nICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIG1ha2UgYHRyYW5zaXRpb246IGZvbywgYmFyLCBiYXpgIGZyb20gc3R5bGUgb2JqZWN0XG4gIC8vIEhBQ0sgdW4tY29tbWVudCB0aGlzIHdoZW4gZW5hYmxlVHJhbnNpdGlvbiBjYW4gd29ya1xuICAvLyB3aGlsZSBhIHRyYW5zaXRpb24gaXMgaGFwcGVuaW5nXG4gIC8vIHZhciB0cmFuc2l0aW9uVmFsdWVzID0gW107XG4gIC8vIGZvciAoIHZhciBwcm9wIGluIHN0eWxlICkge1xuICAvLyAgIC8vIGRhc2gtaWZ5IGNhbWVsQ2FzZWQgcHJvcGVydGllcyBsaWtlIFdlYmtpdFRyYW5zaXRpb25cbiAgLy8gICBwcm9wID0gdmVuZG9yUHJvcGVydGllc1sgcHJvcCBdIHx8IHByb3A7XG4gIC8vICAgdHJhbnNpdGlvblZhbHVlcy5wdXNoKCB0b0Rhc2hlZEFsbCggcHJvcCApICk7XG4gIC8vIH1cbiAgLy8gbXVuZ2UgbnVtYmVyIHRvIG1pbGxpc2Vjb25kLCB0byBtYXRjaCBzdGFnZ2VyXG4gIHZhciBkdXJhdGlvbiA9IHRoaXMubGF5b3V0Lm9wdGlvbnMudHJhbnNpdGlvbkR1cmF0aW9uO1xuICBkdXJhdGlvbiA9IHR5cGVvZiBkdXJhdGlvbiA9PSAnbnVtYmVyJyA/IGR1cmF0aW9uICsgJ21zJyA6IGR1cmF0aW9uO1xuICAvLyBlbmFibGUgdHJhbnNpdGlvbiBzdHlsZXNcbiAgdGhpcy5jc3Moe1xuICAgIHRyYW5zaXRpb25Qcm9wZXJ0eTogdHJhbnNpdGlvblByb3BzLFxuICAgIHRyYW5zaXRpb25EdXJhdGlvbjogZHVyYXRpb24sXG4gICAgdHJhbnNpdGlvbkRlbGF5OiB0aGlzLnN0YWdnZXJEZWxheSB8fCAwXG4gIH0pO1xuICAvLyBsaXN0ZW4gZm9yIHRyYW5zaXRpb24gZW5kIGV2ZW50XG4gIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCB0cmFuc2l0aW9uRW5kRXZlbnQsIHRoaXMsIGZhbHNlICk7XG59O1xuXG4vLyAtLS0tLSBldmVudHMgLS0tLS0gLy9cblxucHJvdG8ub253ZWJraXRUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLm9udHJhbnNpdGlvbmVuZCggZXZlbnQgKTtcbn07XG5cbnByb3RvLm9ub3RyYW5zaXRpb25lbmQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMub250cmFuc2l0aW9uZW5kKCBldmVudCApO1xufTtcblxuLy8gcHJvcGVydGllcyB0aGF0IEkgbXVuZ2UgdG8gbWFrZSBteSBsaWZlIGVhc2llclxudmFyIGRhc2hlZFZlbmRvclByb3BlcnRpZXMgPSB7XG4gICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2Zvcm0nXG59O1xuXG5wcm90by5vbnRyYW5zaXRpb25lbmQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIC8vIGRpc3JlZ2FyZCBidWJibGVkIGV2ZW50cyBmcm9tIGNoaWxkcmVuXG4gIGlmICggZXZlbnQudGFyZ2V0ICE9PSB0aGlzLmVsZW1lbnQgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBfdHJhbnNpdGlvbiA9IHRoaXMuX3RyYW5zbjtcbiAgLy8gZ2V0IHByb3BlcnR5IG5hbWUgb2YgdHJhbnNpdGlvbmVkIHByb3BlcnR5LCBjb252ZXJ0IHRvIHByZWZpeC1mcmVlXG4gIHZhciBwcm9wZXJ0eU5hbWUgPSBkYXNoZWRWZW5kb3JQcm9wZXJ0aWVzWyBldmVudC5wcm9wZXJ0eU5hbWUgXSB8fCBldmVudC5wcm9wZXJ0eU5hbWU7XG5cbiAgLy8gcmVtb3ZlIHByb3BlcnR5IHRoYXQgaGFzIGNvbXBsZXRlZCB0cmFuc2l0aW9uaW5nXG4gIGRlbGV0ZSBfdHJhbnNpdGlvbi5pbmdQcm9wZXJ0aWVzWyBwcm9wZXJ0eU5hbWUgXTtcbiAgLy8gY2hlY2sgaWYgYW55IHByb3BlcnRpZXMgYXJlIHN0aWxsIHRyYW5zaXRpb25pbmdcbiAgaWYgKCBpc0VtcHR5T2JqKCBfdHJhbnNpdGlvbi5pbmdQcm9wZXJ0aWVzICkgKSB7XG4gICAgLy8gYWxsIHByb3BlcnRpZXMgaGF2ZSBjb21wbGV0ZWQgdHJhbnNpdGlvbmluZ1xuICAgIHRoaXMuZGlzYWJsZVRyYW5zaXRpb24oKTtcbiAgfVxuICAvLyBjbGVhbiBzdHlsZVxuICBpZiAoIHByb3BlcnR5TmFtZSBpbiBfdHJhbnNpdGlvbi5jbGVhbiApIHtcbiAgICAvLyBjbGVhbiB1cCBzdHlsZVxuICAgIHRoaXMuZWxlbWVudC5zdHlsZVsgZXZlbnQucHJvcGVydHlOYW1lIF0gPSAnJztcbiAgICBkZWxldGUgX3RyYW5zaXRpb24uY2xlYW5bIHByb3BlcnR5TmFtZSBdO1xuICB9XG4gIC8vIHRyaWdnZXIgb25UcmFuc2l0aW9uRW5kIGNhbGxiYWNrXG4gIGlmICggcHJvcGVydHlOYW1lIGluIF90cmFuc2l0aW9uLm9uRW5kICkge1xuICAgIHZhciBvblRyYW5zaXRpb25FbmQgPSBfdHJhbnNpdGlvbi5vbkVuZFsgcHJvcGVydHlOYW1lIF07XG4gICAgb25UcmFuc2l0aW9uRW5kLmNhbGwoIHRoaXMgKTtcbiAgICBkZWxldGUgX3RyYW5zaXRpb24ub25FbmRbIHByb3BlcnR5TmFtZSBdO1xuICB9XG5cbiAgdGhpcy5lbWl0RXZlbnQoICd0cmFuc2l0aW9uRW5kJywgWyB0aGlzIF0gKTtcbn07XG5cbnByb3RvLmRpc2FibGVUcmFuc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVtb3ZlVHJhbnNpdGlvblN0eWxlcygpO1xuICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHJhbnNpdGlvbkVuZEV2ZW50LCB0aGlzLCBmYWxzZSApO1xuICB0aGlzLmlzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xufTtcblxuLyoqXG4gKiByZW1vdmVzIHN0eWxlIHByb3BlcnR5IGZyb20gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHN0eWxlXG4qKi9cbnByb3RvLl9yZW1vdmVTdHlsZXMgPSBmdW5jdGlvbiggc3R5bGUgKSB7XG4gIC8vIGNsZWFuIHVwIHRyYW5zaXRpb24gc3R5bGVzXG4gIHZhciBjbGVhblN0eWxlID0ge307XG4gIGZvciAoIHZhciBwcm9wIGluIHN0eWxlICkge1xuICAgIGNsZWFuU3R5bGVbIHByb3AgXSA9ICcnO1xuICB9XG4gIHRoaXMuY3NzKCBjbGVhblN0eWxlICk7XG59O1xuXG52YXIgY2xlYW5UcmFuc2l0aW9uU3R5bGUgPSB7XG4gIHRyYW5zaXRpb25Qcm9wZXJ0eTogJycsXG4gIHRyYW5zaXRpb25EdXJhdGlvbjogJycsXG4gIHRyYW5zaXRpb25EZWxheTogJydcbn07XG5cbnByb3RvLnJlbW92ZVRyYW5zaXRpb25TdHlsZXMgPSBmdW5jdGlvbigpIHtcbiAgLy8gcmVtb3ZlIHRyYW5zaXRpb25cbiAgdGhpcy5jc3MoIGNsZWFuVHJhbnNpdGlvblN0eWxlICk7XG59O1xuXG4vLyAtLS0tLSBzdGFnZ2VyIC0tLS0tIC8vXG5cbnByb3RvLnN0YWdnZXIgPSBmdW5jdGlvbiggZGVsYXkgKSB7XG4gIGRlbGF5ID0gaXNOYU4oIGRlbGF5ICkgPyAwIDogZGVsYXk7XG4gIHRoaXMuc3RhZ2dlckRlbGF5ID0gZGVsYXkgKyAnbXMnO1xufTtcblxuLy8gLS0tLS0gc2hvdy9oaWRlL3JlbW92ZSAtLS0tLSAvL1xuXG4vLyByZW1vdmUgZWxlbWVudCBmcm9tIERPTVxucHJvdG8ucmVtb3ZlRWxlbSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggdGhpcy5lbGVtZW50ICk7XG4gIC8vIHJlbW92ZSBkaXNwbGF5OiBub25lXG4gIHRoaXMuY3NzKHsgZGlzcGxheTogJycgfSk7XG4gIHRoaXMuZW1pdEV2ZW50KCAncmVtb3ZlJywgWyB0aGlzIF0gKTtcbn07XG5cbnByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICAvLyBqdXN0IHJlbW92ZSBlbGVtZW50IGlmIG5vIHRyYW5zaXRpb24gc3VwcG9ydCBvciBubyB0cmFuc2l0aW9uXG4gIGlmICggIXRyYW5zaXRpb25Qcm9wZXJ0eSB8fCAhcGFyc2VGbG9hdCggdGhpcy5sYXlvdXQub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb24gKSApIHtcbiAgICB0aGlzLnJlbW92ZUVsZW0oKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBzdGFydCB0cmFuc2l0aW9uXG4gIHRoaXMub25jZSggJ3RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUVsZW0oKTtcbiAgfSk7XG4gIHRoaXMuaGlkZSgpO1xufTtcblxucHJvdG8ucmV2ZWFsID0gZnVuY3Rpb24oKSB7XG4gIGRlbGV0ZSB0aGlzLmlzSGlkZGVuO1xuICAvLyByZW1vdmUgZGlzcGxheTogbm9uZVxuICB0aGlzLmNzcyh7IGRpc3BsYXk6ICcnIH0pO1xuXG4gIHZhciBvcHRpb25zID0gdGhpcy5sYXlvdXQub3B0aW9ucztcblxuICB2YXIgb25UcmFuc2l0aW9uRW5kID0ge307XG4gIHZhciB0cmFuc2l0aW9uRW5kUHJvcGVydHkgPSB0aGlzLmdldEhpZGVSZXZlYWxUcmFuc2l0aW9uRW5kUHJvcGVydHkoJ3Zpc2libGVTdHlsZScpO1xuICBvblRyYW5zaXRpb25FbmRbIHRyYW5zaXRpb25FbmRQcm9wZXJ0eSBdID0gdGhpcy5vblJldmVhbFRyYW5zaXRpb25FbmQ7XG5cbiAgdGhpcy50cmFuc2l0aW9uKHtcbiAgICBmcm9tOiBvcHRpb25zLmhpZGRlblN0eWxlLFxuICAgIHRvOiBvcHRpb25zLnZpc2libGVTdHlsZSxcbiAgICBpc0NsZWFuaW5nOiB0cnVlLFxuICAgIG9uVHJhbnNpdGlvbkVuZDogb25UcmFuc2l0aW9uRW5kXG4gIH0pO1xufTtcblxucHJvdG8ub25SZXZlYWxUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24oKSB7XG4gIC8vIGNoZWNrIGlmIHN0aWxsIHZpc2libGVcbiAgLy8gZHVyaW5nIHRyYW5zaXRpb24sIGl0ZW0gbWF5IGhhdmUgYmVlbiBoaWRkZW5cbiAgaWYgKCAhdGhpcy5pc0hpZGRlbiApIHtcbiAgICB0aGlzLmVtaXRFdmVudCgncmV2ZWFsJyk7XG4gIH1cbn07XG5cbi8qKlxuICogZ2V0IHN0eWxlIHByb3BlcnR5IHVzZSBmb3IgaGlkZS9yZXZlYWwgdHJhbnNpdGlvbiBlbmRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHlsZVByb3BlcnR5IC0gaGlkZGVuU3R5bGUvdmlzaWJsZVN0eWxlXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5wcm90by5nZXRIaWRlUmV2ZWFsVHJhbnNpdGlvbkVuZFByb3BlcnR5ID0gZnVuY3Rpb24oIHN0eWxlUHJvcGVydHkgKSB7XG4gIHZhciBvcHRpb25TdHlsZSA9IHRoaXMubGF5b3V0Lm9wdGlvbnNbIHN0eWxlUHJvcGVydHkgXTtcbiAgLy8gdXNlIG9wYWNpdHlcbiAgaWYgKCBvcHRpb25TdHlsZS5vcGFjaXR5ICkge1xuICAgIHJldHVybiAnb3BhY2l0eSc7XG4gIH1cbiAgLy8gZ2V0IGZpcnN0IHByb3BlcnR5XG4gIGZvciAoIHZhciBwcm9wIGluIG9wdGlvblN0eWxlICkge1xuICAgIHJldHVybiBwcm9wO1xuICB9XG59O1xuXG5wcm90by5oaWRlID0gZnVuY3Rpb24oKSB7XG4gIC8vIHNldCBmbGFnXG4gIHRoaXMuaXNIaWRkZW4gPSB0cnVlO1xuICAvLyByZW1vdmUgZGlzcGxheTogbm9uZVxuICB0aGlzLmNzcyh7IGRpc3BsYXk6ICcnIH0pO1xuXG4gIHZhciBvcHRpb25zID0gdGhpcy5sYXlvdXQub3B0aW9ucztcblxuICB2YXIgb25UcmFuc2l0aW9uRW5kID0ge307XG4gIHZhciB0cmFuc2l0aW9uRW5kUHJvcGVydHkgPSB0aGlzLmdldEhpZGVSZXZlYWxUcmFuc2l0aW9uRW5kUHJvcGVydHkoJ2hpZGRlblN0eWxlJyk7XG4gIG9uVHJhbnNpdGlvbkVuZFsgdHJhbnNpdGlvbkVuZFByb3BlcnR5IF0gPSB0aGlzLm9uSGlkZVRyYW5zaXRpb25FbmQ7XG5cbiAgdGhpcy50cmFuc2l0aW9uKHtcbiAgICBmcm9tOiBvcHRpb25zLnZpc2libGVTdHlsZSxcbiAgICB0bzogb3B0aW9ucy5oaWRkZW5TdHlsZSxcbiAgICAvLyBrZWVwIGhpZGRlbiBzdHVmZiBoaWRkZW5cbiAgICBpc0NsZWFuaW5nOiB0cnVlLFxuICAgIG9uVHJhbnNpdGlvbkVuZDogb25UcmFuc2l0aW9uRW5kXG4gIH0pO1xufTtcblxucHJvdG8ub25IaWRlVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uKCkge1xuICAvLyBjaGVjayBpZiBzdGlsbCBoaWRkZW5cbiAgLy8gZHVyaW5nIHRyYW5zaXRpb24sIGl0ZW0gbWF5IGhhdmUgYmVlbiB1bi1oaWRkZW5cbiAgaWYgKCB0aGlzLmlzSGlkZGVuICkge1xuICAgIHRoaXMuY3NzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xuICAgIHRoaXMuZW1pdEV2ZW50KCdoaWRlJyk7XG4gIH1cbn07XG5cbnByb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jc3Moe1xuICAgIHBvc2l0aW9uOiAnJyxcbiAgICBsZWZ0OiAnJyxcbiAgICByaWdodDogJycsXG4gICAgdG9wOiAnJyxcbiAgICBib3R0b206ICcnLFxuICAgIHRyYW5zaXRpb246ICcnLFxuICAgIHRyYW5zZm9ybTogJydcbiAgfSk7XG59O1xuXG5yZXR1cm4gSXRlbTtcblxufSkpO1xuXG4vKiFcbiAqIE91dGxheWVyIHYyLjEuMVxuICogdGhlIGJyYWlucyBhbmQgZ3V0cyBvZiBhIGxheW91dCBsaWJyYXJ5XG4gKiBNSVQgbGljZW5zZVxuICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLyogZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSwgcmVxdWlyZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRCAtIFJlcXVpcmVKU1xuICAgIGRlZmluZSggJ291dGxheWVyL291dGxheWVyJyxbXG4gICAgICAgICdldi1lbWl0dGVyL2V2LWVtaXR0ZXInLFxuICAgICAgICAnZ2V0LXNpemUvZ2V0LXNpemUnLFxuICAgICAgICAnZml6enktdWktdXRpbHMvdXRpbHMnLFxuICAgICAgICAnLi9pdGVtJ1xuICAgICAgXSxcbiAgICAgIGZ1bmN0aW9uKCBFdkVtaXR0ZXIsIGdldFNpemUsIHV0aWxzLCBJdGVtICkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIsIGdldFNpemUsIHV0aWxzLCBJdGVtKTtcbiAgICAgIH1cbiAgICApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTIC0gQnJvd3NlcmlmeSwgV2VicGFja1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKSxcbiAgICAgIHJlcXVpcmUoJ2dldC1zaXplJyksXG4gICAgICByZXF1aXJlKCdmaXp6eS11aS11dGlscycpLFxuICAgICAgcmVxdWlyZSgnLi9pdGVtJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93Lk91dGxheWVyID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5FdkVtaXR0ZXIsXG4gICAgICB3aW5kb3cuZ2V0U2l6ZSxcbiAgICAgIHdpbmRvdy5maXp6eVVJVXRpbHMsXG4gICAgICB3aW5kb3cuT3V0bGF5ZXIuSXRlbVxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEV2RW1pdHRlciwgZ2V0U2l6ZSwgdXRpbHMsIEl0ZW0gKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8vIC0tLS0tIHZhcnMgLS0tLS0gLy9cblxudmFyIGNvbnNvbGUgPSB3aW5kb3cuY29uc29sZTtcbnZhciBqUXVlcnkgPSB3aW5kb3cualF1ZXJ5O1xudmFyIG5vb3AgPSBmdW5jdGlvbigpIHt9O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBPdXRsYXllciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vLyBnbG9iYWxseSB1bmlxdWUgaWRlbnRpZmllcnNcbnZhciBHVUlEID0gMDtcbi8vIGludGVybmFsIHN0b3JlIG9mIGFsbCBPdXRsYXllciBpbnRhbmNlc1xudmFyIGluc3RhbmNlcyA9IHt9O1xuXG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50LCBTdHJpbmd9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gT3V0bGF5ZXIoIGVsZW1lbnQsIG9wdGlvbnMgKSB7XG4gIHZhciBxdWVyeUVsZW1lbnQgPSB1dGlscy5nZXRRdWVyeUVsZW1lbnQoIGVsZW1lbnQgKTtcbiAgaWYgKCAhcXVlcnlFbGVtZW50ICkge1xuICAgIGlmICggY29uc29sZSApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoICdCYWQgZWxlbWVudCBmb3IgJyArIHRoaXMuY29uc3RydWN0b3IubmFtZXNwYWNlICtcbiAgICAgICAgJzogJyArICggcXVlcnlFbGVtZW50IHx8IGVsZW1lbnQgKSApO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5lbGVtZW50ID0gcXVlcnlFbGVtZW50O1xuICAvLyBhZGQgalF1ZXJ5XG4gIGlmICggalF1ZXJ5ICkge1xuICAgIHRoaXMuJGVsZW1lbnQgPSBqUXVlcnkoIHRoaXMuZWxlbWVudCApO1xuICB9XG5cbiAgLy8gb3B0aW9uc1xuICB0aGlzLm9wdGlvbnMgPSB1dGlscy5leHRlbmQoIHt9LCB0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRzICk7XG4gIHRoaXMub3B0aW9uKCBvcHRpb25zICk7XG5cbiAgLy8gYWRkIGlkIGZvciBPdXRsYXllci5nZXRGcm9tRWxlbWVudFxuICB2YXIgaWQgPSArK0dVSUQ7XG4gIHRoaXMuZWxlbWVudC5vdXRsYXllckdVSUQgPSBpZDsgLy8gZXhwYW5kb1xuICBpbnN0YW5jZXNbIGlkIF0gPSB0aGlzOyAvLyBhc3NvY2lhdGUgdmlhIGlkXG5cbiAgLy8ga2ljayBpdCBvZmZcbiAgdGhpcy5fY3JlYXRlKCk7XG5cbiAgdmFyIGlzSW5pdExheW91dCA9IHRoaXMuX2dldE9wdGlvbignaW5pdExheW91dCcpO1xuICBpZiAoIGlzSW5pdExheW91dCApIHtcbiAgICB0aGlzLmxheW91dCgpO1xuICB9XG59XG5cbi8vIHNldHRpbmdzIGFyZSBmb3IgaW50ZXJuYWwgdXNlIG9ubHlcbk91dGxheWVyLm5hbWVzcGFjZSA9ICdvdXRsYXllcic7XG5PdXRsYXllci5JdGVtID0gSXRlbTtcblxuLy8gZGVmYXVsdCBvcHRpb25zXG5PdXRsYXllci5kZWZhdWx0cyA9IHtcbiAgY29udGFpbmVyU3R5bGU6IHtcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICB9LFxuICBpbml0TGF5b3V0OiB0cnVlLFxuICBvcmlnaW5MZWZ0OiB0cnVlLFxuICBvcmlnaW5Ub3A6IHRydWUsXG4gIHJlc2l6ZTogdHJ1ZSxcbiAgcmVzaXplQ29udGFpbmVyOiB0cnVlLFxuICAvLyBpdGVtIG9wdGlvbnNcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiAnMC40cycsXG4gIGhpZGRlblN0eWxlOiB7XG4gICAgb3BhY2l0eTogMCxcbiAgICB0cmFuc2Zvcm06ICdzY2FsZSgwLjAwMSknXG4gIH0sXG4gIHZpc2libGVTdHlsZToge1xuICAgIG9wYWNpdHk6IDEsXG4gICAgdHJhbnNmb3JtOiAnc2NhbGUoMSknXG4gIH1cbn07XG5cbnZhciBwcm90byA9IE91dGxheWVyLnByb3RvdHlwZTtcbi8vIGluaGVyaXQgRXZFbWl0dGVyXG51dGlscy5leHRlbmQoIHByb3RvLCBFdkVtaXR0ZXIucHJvdG90eXBlICk7XG5cbi8qKlxuICogc2V0IG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gKi9cbnByb3RvLm9wdGlvbiA9IGZ1bmN0aW9uKCBvcHRzICkge1xuICB1dGlscy5leHRlbmQoIHRoaXMub3B0aW9ucywgb3B0cyApO1xufTtcblxuLyoqXG4gKiBnZXQgYmFja3dhcmRzIGNvbXBhdGlibGUgb3B0aW9uIHZhbHVlLCBjaGVjayBvbGQgbmFtZVxuICovXG5wcm90by5fZ2V0T3B0aW9uID0gZnVuY3Rpb24oIG9wdGlvbiApIHtcbiAgdmFyIG9sZE9wdGlvbiA9IHRoaXMuY29uc3RydWN0b3IuY29tcGF0T3B0aW9uc1sgb3B0aW9uIF07XG4gIHJldHVybiBvbGRPcHRpb24gJiYgdGhpcy5vcHRpb25zWyBvbGRPcHRpb24gXSAhPT0gdW5kZWZpbmVkID9cbiAgICB0aGlzLm9wdGlvbnNbIG9sZE9wdGlvbiBdIDogdGhpcy5vcHRpb25zWyBvcHRpb24gXTtcbn07XG5cbk91dGxheWVyLmNvbXBhdE9wdGlvbnMgPSB7XG4gIC8vIGN1cnJlbnROYW1lOiBvbGROYW1lXG4gIGluaXRMYXlvdXQ6ICdpc0luaXRMYXlvdXQnLFxuICBob3Jpem9udGFsOiAnaXNIb3Jpem9udGFsJyxcbiAgbGF5b3V0SW5zdGFudDogJ2lzTGF5b3V0SW5zdGFudCcsXG4gIG9yaWdpbkxlZnQ6ICdpc09yaWdpbkxlZnQnLFxuICBvcmlnaW5Ub3A6ICdpc09yaWdpblRvcCcsXG4gIHJlc2l6ZTogJ2lzUmVzaXplQm91bmQnLFxuICByZXNpemVDb250YWluZXI6ICdpc1Jlc2l6aW5nQ29udGFpbmVyJ1xufTtcblxucHJvdG8uX2NyZWF0ZSA9IGZ1bmN0aW9uKCkge1xuICAvLyBnZXQgaXRlbXMgZnJvbSBjaGlsZHJlblxuICB0aGlzLnJlbG9hZEl0ZW1zKCk7XG4gIC8vIGVsZW1lbnRzIHRoYXQgYWZmZWN0IGxheW91dCwgYnV0IGFyZSBub3QgbGFpZCBvdXRcbiAgdGhpcy5zdGFtcHMgPSBbXTtcbiAgdGhpcy5zdGFtcCggdGhpcy5vcHRpb25zLnN0YW1wICk7XG4gIC8vIHNldCBjb250YWluZXIgc3R5bGVcbiAgdXRpbHMuZXh0ZW5kKCB0aGlzLmVsZW1lbnQuc3R5bGUsIHRoaXMub3B0aW9ucy5jb250YWluZXJTdHlsZSApO1xuXG4gIC8vIGJpbmQgcmVzaXplIG1ldGhvZFxuICB2YXIgY2FuQmluZFJlc2l6ZSA9IHRoaXMuX2dldE9wdGlvbigncmVzaXplJyk7XG4gIGlmICggY2FuQmluZFJlc2l6ZSApIHtcbiAgICB0aGlzLmJpbmRSZXNpemUoKTtcbiAgfVxufTtcblxuLy8gZ29lcyB0aHJvdWdoIGFsbCBjaGlsZHJlbiBhZ2FpbiBhbmQgZ2V0cyBicmlja3MgaW4gcHJvcGVyIG9yZGVyXG5wcm90by5yZWxvYWRJdGVtcyA9IGZ1bmN0aW9uKCkge1xuICAvLyBjb2xsZWN0aW9uIG9mIGl0ZW0gZWxlbWVudHNcbiAgdGhpcy5pdGVtcyA9IHRoaXMuX2l0ZW1pemUoIHRoaXMuZWxlbWVudC5jaGlsZHJlbiApO1xufTtcblxuXG4vKipcbiAqIHR1cm4gZWxlbWVudHMgaW50byBPdXRsYXllci5JdGVtcyB0byBiZSB1c2VkIGluIGxheW91dFxuICogQHBhcmFtIHtBcnJheSBvciBOb2RlTGlzdCBvciBIVE1MRWxlbWVudH0gZWxlbXNcbiAqIEByZXR1cm5zIHtBcnJheX0gaXRlbXMgLSBjb2xsZWN0aW9uIG9mIG5ldyBPdXRsYXllciBJdGVtc1xuICovXG5wcm90by5faXRlbWl6ZSA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcblxuICB2YXIgaXRlbUVsZW1zID0gdGhpcy5fZmlsdGVyRmluZEl0ZW1FbGVtZW50cyggZWxlbXMgKTtcbiAgdmFyIEl0ZW0gPSB0aGlzLmNvbnN0cnVjdG9yLkl0ZW07XG5cbiAgLy8gY3JlYXRlIG5ldyBPdXRsYXllciBJdGVtcyBmb3IgY29sbGVjdGlvblxuICB2YXIgaXRlbXMgPSBbXTtcbiAgZm9yICggdmFyIGk9MDsgaSA8IGl0ZW1FbGVtcy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgZWxlbSA9IGl0ZW1FbGVtc1tpXTtcbiAgICB2YXIgaXRlbSA9IG5ldyBJdGVtKCBlbGVtLCB0aGlzICk7XG4gICAgaXRlbXMucHVzaCggaXRlbSApO1xuICB9XG5cbiAgcmV0dXJuIGl0ZW1zO1xufTtcblxuLyoqXG4gKiBnZXQgaXRlbSBlbGVtZW50cyB0byBiZSB1c2VkIGluIGxheW91dFxuICogQHBhcmFtIHtBcnJheSBvciBOb2RlTGlzdCBvciBIVE1MRWxlbWVudH0gZWxlbXNcbiAqIEByZXR1cm5zIHtBcnJheX0gaXRlbXMgLSBpdGVtIGVsZW1lbnRzXG4gKi9cbnByb3RvLl9maWx0ZXJGaW5kSXRlbUVsZW1lbnRzID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICByZXR1cm4gdXRpbHMuZmlsdGVyRmluZEVsZW1lbnRzKCBlbGVtcywgdGhpcy5vcHRpb25zLml0ZW1TZWxlY3RvciApO1xufTtcblxuLyoqXG4gKiBnZXR0ZXIgbWV0aG9kIGZvciBnZXR0aW5nIGl0ZW0gZWxlbWVudHNcbiAqIEByZXR1cm5zIHtBcnJheX0gZWxlbXMgLSBjb2xsZWN0aW9uIG9mIGl0ZW0gZWxlbWVudHNcbiAqL1xucHJvdG8uZ2V0SXRlbUVsZW1lbnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLml0ZW1zLm1hcCggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgcmV0dXJuIGl0ZW0uZWxlbWVudDtcbiAgfSk7XG59O1xuXG4vLyAtLS0tLSBpbml0ICYgbGF5b3V0IC0tLS0tIC8vXG5cbi8qKlxuICogbGF5cyBvdXQgYWxsIGl0ZW1zXG4gKi9cbnByb3RvLmxheW91dCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9yZXNldExheW91dCgpO1xuICB0aGlzLl9tYW5hZ2VTdGFtcHMoKTtcblxuICAvLyBkb24ndCBhbmltYXRlIGZpcnN0IGxheW91dFxuICB2YXIgbGF5b3V0SW5zdGFudCA9IHRoaXMuX2dldE9wdGlvbignbGF5b3V0SW5zdGFudCcpO1xuICB2YXIgaXNJbnN0YW50ID0gbGF5b3V0SW5zdGFudCAhPT0gdW5kZWZpbmVkID9cbiAgICBsYXlvdXRJbnN0YW50IDogIXRoaXMuX2lzTGF5b3V0SW5pdGVkO1xuICB0aGlzLmxheW91dEl0ZW1zKCB0aGlzLml0ZW1zLCBpc0luc3RhbnQgKTtcblxuICAvLyBmbGFnIGZvciBpbml0YWxpemVkXG4gIHRoaXMuX2lzTGF5b3V0SW5pdGVkID0gdHJ1ZTtcbn07XG5cbi8vIF9pbml0IGlzIGFsaWFzIGZvciBsYXlvdXRcbnByb3RvLl9pbml0ID0gcHJvdG8ubGF5b3V0O1xuXG4vKipcbiAqIGxvZ2ljIGJlZm9yZSBhbnkgbmV3IGxheW91dFxuICovXG5wcm90by5fcmVzZXRMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5nZXRTaXplKCk7XG59O1xuXG5cbnByb3RvLmdldFNpemUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zaXplID0gZ2V0U2l6ZSggdGhpcy5lbGVtZW50ICk7XG59O1xuXG4vKipcbiAqIGdldCBtZWFzdXJlbWVudCBmcm9tIG9wdGlvbiwgZm9yIGNvbHVtbldpZHRoLCByb3dIZWlnaHQsIGd1dHRlclxuICogaWYgb3B0aW9uIGlzIFN0cmluZyAtPiBnZXQgZWxlbWVudCBmcm9tIHNlbGVjdG9yIHN0cmluZywgJiBnZXQgc2l6ZSBvZiBlbGVtZW50XG4gKiBpZiBvcHRpb24gaXMgRWxlbWVudCAtPiBnZXQgc2l6ZSBvZiBlbGVtZW50XG4gKiBlbHNlIHVzZSBvcHRpb24gYXMgYSBudW1iZXJcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVhc3VyZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzaXplIC0gd2lkdGggb3IgaGVpZ2h0XG4gKiBAcHJpdmF0ZVxuICovXG5wcm90by5fZ2V0TWVhc3VyZW1lbnQgPSBmdW5jdGlvbiggbWVhc3VyZW1lbnQsIHNpemUgKSB7XG4gIHZhciBvcHRpb24gPSB0aGlzLm9wdGlvbnNbIG1lYXN1cmVtZW50IF07XG4gIHZhciBlbGVtO1xuICBpZiAoICFvcHRpb24gKSB7XG4gICAgLy8gZGVmYXVsdCB0byAwXG4gICAgdGhpc1sgbWVhc3VyZW1lbnQgXSA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gdXNlIG9wdGlvbiBhcyBhbiBlbGVtZW50XG4gICAgaWYgKCB0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnICkge1xuICAgICAgZWxlbSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCBvcHRpb24gKTtcbiAgICB9IGVsc2UgaWYgKCBvcHRpb24gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCApIHtcbiAgICAgIGVsZW0gPSBvcHRpb247XG4gICAgfVxuICAgIC8vIHVzZSBzaXplIG9mIGVsZW1lbnQsIGlmIGVsZW1lbnRcbiAgICB0aGlzWyBtZWFzdXJlbWVudCBdID0gZWxlbSA/IGdldFNpemUoIGVsZW0gKVsgc2l6ZSBdIDogb3B0aW9uO1xuICB9XG59O1xuXG4vKipcbiAqIGxheW91dCBhIGNvbGxlY3Rpb24gb2YgaXRlbSBlbGVtZW50c1xuICogQGFwaSBwdWJsaWNcbiAqL1xucHJvdG8ubGF5b3V0SXRlbXMgPSBmdW5jdGlvbiggaXRlbXMsIGlzSW5zdGFudCApIHtcbiAgaXRlbXMgPSB0aGlzLl9nZXRJdGVtc0ZvckxheW91dCggaXRlbXMgKTtcblxuICB0aGlzLl9sYXlvdXRJdGVtcyggaXRlbXMsIGlzSW5zdGFudCApO1xuXG4gIHRoaXMuX3Bvc3RMYXlvdXQoKTtcbn07XG5cbi8qKlxuICogZ2V0IHRoZSBpdGVtcyB0byBiZSBsYWlkIG91dFxuICogeW91IG1heSB3YW50IHRvIHNraXAgb3ZlciBzb21lIGl0ZW1zXG4gKiBAcGFyYW0ge0FycmF5fSBpdGVtc1xuICogQHJldHVybnMge0FycmF5fSBpdGVtc1xuICovXG5wcm90by5fZ2V0SXRlbXNGb3JMYXlvdXQgPSBmdW5jdGlvbiggaXRlbXMgKSB7XG4gIHJldHVybiBpdGVtcy5maWx0ZXIoIGZ1bmN0aW9uKCBpdGVtICkge1xuICAgIHJldHVybiAhaXRlbS5pc0lnbm9yZWQ7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBsYXlvdXQgaXRlbXNcbiAqIEBwYXJhbSB7QXJyYXl9IGl0ZW1zXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzSW5zdGFudFxuICovXG5wcm90by5fbGF5b3V0SXRlbXMgPSBmdW5jdGlvbiggaXRlbXMsIGlzSW5zdGFudCApIHtcbiAgdGhpcy5fZW1pdENvbXBsZXRlT25JdGVtcyggJ2xheW91dCcsIGl0ZW1zICk7XG5cbiAgaWYgKCAhaXRlbXMgfHwgIWl0ZW1zLmxlbmd0aCApIHtcbiAgICAvLyBubyBpdGVtcywgZW1pdCBldmVudCB3aXRoIGVtcHR5IGFycmF5XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHF1ZXVlID0gW107XG5cbiAgaXRlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgLy8gZ2V0IHgveSBvYmplY3QgZnJvbSBtZXRob2RcbiAgICB2YXIgcG9zaXRpb24gPSB0aGlzLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24oIGl0ZW0gKTtcbiAgICAvLyBlbnF1ZXVlXG4gICAgcG9zaXRpb24uaXRlbSA9IGl0ZW07XG4gICAgcG9zaXRpb24uaXNJbnN0YW50ID0gaXNJbnN0YW50IHx8IGl0ZW0uaXNMYXlvdXRJbnN0YW50O1xuICAgIHF1ZXVlLnB1c2goIHBvc2l0aW9uICk7XG4gIH0sIHRoaXMgKTtcblxuICB0aGlzLl9wcm9jZXNzTGF5b3V0UXVldWUoIHF1ZXVlICk7XG59O1xuXG4vKipcbiAqIGdldCBpdGVtIGxheW91dCBwb3NpdGlvblxuICogQHBhcmFtIHtPdXRsYXllci5JdGVtfSBpdGVtXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB4IGFuZCB5IHBvc2l0aW9uXG4gKi9cbnByb3RvLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24gPSBmdW5jdGlvbiggLyogaXRlbSAqLyApIHtcbiAgcmV0dXJuIHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcbn07XG5cbi8qKlxuICogaXRlcmF0ZSBvdmVyIGFycmF5IGFuZCBwb3NpdGlvbiBlYWNoIGl0ZW1cbiAqIFJlYXNvbiBiZWluZyAtIHNlcGFyYXRpbmcgdGhpcyBsb2dpYyBwcmV2ZW50cyAnbGF5b3V0IGludmFsaWRhdGlvbidcbiAqIHRoeCBAcGF1bF9pcmlzaFxuICogQHBhcmFtIHtBcnJheX0gcXVldWVcbiAqL1xucHJvdG8uX3Byb2Nlc3NMYXlvdXRRdWV1ZSA9IGZ1bmN0aW9uKCBxdWV1ZSApIHtcbiAgdGhpcy51cGRhdGVTdGFnZ2VyKCk7XG4gIHF1ZXVlLmZvckVhY2goIGZ1bmN0aW9uKCBvYmosIGkgKSB7XG4gICAgdGhpcy5fcG9zaXRpb25JdGVtKCBvYmouaXRlbSwgb2JqLngsIG9iai55LCBvYmouaXNJbnN0YW50LCBpICk7XG4gIH0sIHRoaXMgKTtcbn07XG5cbi8vIHNldCBzdGFnZ2VyIGZyb20gb3B0aW9uIGluIG1pbGxpc2Vjb25kcyBudW1iZXJcbnByb3RvLnVwZGF0ZVN0YWdnZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHN0YWdnZXIgPSB0aGlzLm9wdGlvbnMuc3RhZ2dlcjtcbiAgaWYgKCBzdGFnZ2VyID09PSBudWxsIHx8IHN0YWdnZXIgPT09IHVuZGVmaW5lZCApIHtcbiAgICB0aGlzLnN0YWdnZXIgPSAwO1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLnN0YWdnZXIgPSBnZXRNaWxsaXNlY29uZHMoIHN0YWdnZXIgKTtcbiAgcmV0dXJuIHRoaXMuc3RhZ2dlcjtcbn07XG5cbi8qKlxuICogU2V0cyBwb3NpdGlvbiBvZiBpdGVtIGluIERPTVxuICogQHBhcmFtIHtPdXRsYXllci5JdGVtfSBpdGVtXG4gKiBAcGFyYW0ge051bWJlcn0geCAtIGhvcml6b250YWwgcG9zaXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSB5IC0gdmVydGljYWwgcG9zaXRpb25cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNJbnN0YW50IC0gZGlzYWJsZXMgdHJhbnNpdGlvbnNcbiAqL1xucHJvdG8uX3Bvc2l0aW9uSXRlbSA9IGZ1bmN0aW9uKCBpdGVtLCB4LCB5LCBpc0luc3RhbnQsIGkgKSB7XG4gIGlmICggaXNJbnN0YW50ICkge1xuICAgIC8vIGlmIG5vdCB0cmFuc2l0aW9uLCBqdXN0IHNldCBDU1NcbiAgICBpdGVtLmdvVG8oIHgsIHkgKTtcbiAgfSBlbHNlIHtcbiAgICBpdGVtLnN0YWdnZXIoIGkgKiB0aGlzLnN0YWdnZXIgKTtcbiAgICBpdGVtLm1vdmVUbyggeCwgeSApO1xuICB9XG59O1xuXG4vKipcbiAqIEFueSBsb2dpYyB5b3Ugd2FudCB0byBkbyBhZnRlciBlYWNoIGxheW91dCxcbiAqIGkuZS4gc2l6ZSB0aGUgY29udGFpbmVyXG4gKi9cbnByb3RvLl9wb3N0TGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVzaXplQ29udGFpbmVyKCk7XG59O1xuXG5wcm90by5yZXNpemVDb250YWluZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGlzUmVzaXppbmdDb250YWluZXIgPSB0aGlzLl9nZXRPcHRpb24oJ3Jlc2l6ZUNvbnRhaW5lcicpO1xuICBpZiAoICFpc1Jlc2l6aW5nQ29udGFpbmVyICkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgc2l6ZSA9IHRoaXMuX2dldENvbnRhaW5lclNpemUoKTtcbiAgaWYgKCBzaXplICkge1xuICAgIHRoaXMuX3NldENvbnRhaW5lck1lYXN1cmUoIHNpemUud2lkdGgsIHRydWUgKTtcbiAgICB0aGlzLl9zZXRDb250YWluZXJNZWFzdXJlKCBzaXplLmhlaWdodCwgZmFsc2UgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHdpZHRoIG9yIGhlaWdodCBvZiBjb250YWluZXIgaWYgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHtPYmplY3R9IHNpemVcbiAqICAgQHBhcmFtIHtOdW1iZXJ9IHdpZHRoXG4gKiAgIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcbiAqL1xucHJvdG8uX2dldENvbnRhaW5lclNpemUgPSBub29wO1xuXG4vKipcbiAqIEBwYXJhbSB7TnVtYmVyfSBtZWFzdXJlIC0gc2l6ZSBvZiB3aWR0aCBvciBoZWlnaHRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNXaWR0aFxuICovXG5wcm90by5fc2V0Q29udGFpbmVyTWVhc3VyZSA9IGZ1bmN0aW9uKCBtZWFzdXJlLCBpc1dpZHRoICkge1xuICBpZiAoIG1lYXN1cmUgPT09IHVuZGVmaW5lZCApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZWxlbVNpemUgPSB0aGlzLnNpemU7XG4gIC8vIGFkZCBwYWRkaW5nIGFuZCBib3JkZXIgd2lkdGggaWYgYm9yZGVyIGJveFxuICBpZiAoIGVsZW1TaXplLmlzQm9yZGVyQm94ICkge1xuICAgIG1lYXN1cmUgKz0gaXNXaWR0aCA/IGVsZW1TaXplLnBhZGRpbmdMZWZ0ICsgZWxlbVNpemUucGFkZGluZ1JpZ2h0ICtcbiAgICAgIGVsZW1TaXplLmJvcmRlckxlZnRXaWR0aCArIGVsZW1TaXplLmJvcmRlclJpZ2h0V2lkdGggOlxuICAgICAgZWxlbVNpemUucGFkZGluZ0JvdHRvbSArIGVsZW1TaXplLnBhZGRpbmdUb3AgK1xuICAgICAgZWxlbVNpemUuYm9yZGVyVG9wV2lkdGggKyBlbGVtU2l6ZS5ib3JkZXJCb3R0b21XaWR0aDtcbiAgfVxuXG4gIG1lYXN1cmUgPSBNYXRoLm1heCggbWVhc3VyZSwgMCApO1xuICB0aGlzLmVsZW1lbnQuc3R5bGVbIGlzV2lkdGggPyAnd2lkdGgnIDogJ2hlaWdodCcgXSA9IG1lYXN1cmUgKyAncHgnO1xufTtcblxuLyoqXG4gKiBlbWl0IGV2ZW50Q29tcGxldGUgb24gYSBjb2xsZWN0aW9uIG9mIGl0ZW1zIGV2ZW50c1xuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZVxuICogQHBhcmFtIHtBcnJheX0gaXRlbXMgLSBPdXRsYXllci5JdGVtc1xuICovXG5wcm90by5fZW1pdENvbXBsZXRlT25JdGVtcyA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGl0ZW1zICkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICBmdW5jdGlvbiBvbkNvbXBsZXRlKCkge1xuICAgIF90aGlzLmRpc3BhdGNoRXZlbnQoIGV2ZW50TmFtZSArICdDb21wbGV0ZScsIG51bGwsIFsgaXRlbXMgXSApO1xuICB9XG5cbiAgdmFyIGNvdW50ID0gaXRlbXMubGVuZ3RoO1xuICBpZiAoICFpdGVtcyB8fCAhY291bnQgKSB7XG4gICAgb25Db21wbGV0ZSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBkb25lQ291bnQgPSAwO1xuICBmdW5jdGlvbiB0aWNrKCkge1xuICAgIGRvbmVDb3VudCsrO1xuICAgIGlmICggZG9uZUNvdW50ID09IGNvdW50ICkge1xuICAgICAgb25Db21wbGV0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGJpbmQgY2FsbGJhY2tcbiAgaXRlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgaXRlbS5vbmNlKCBldmVudE5hbWUsIHRpY2sgKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIGVtaXRzIGV2ZW50cyB2aWEgRXZFbWl0dGVyIGFuZCBqUXVlcnkgZXZlbnRzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIG5hbWUgb2YgZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gb3JpZ2luYWwgZXZlbnRcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgLSBleHRyYSBhcmd1bWVudHNcbiAqL1xucHJvdG8uZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKCB0eXBlLCBldmVudCwgYXJncyApIHtcbiAgLy8gYWRkIG9yaWdpbmFsIGV2ZW50IHRvIGFyZ3VtZW50c1xuICB2YXIgZW1pdEFyZ3MgPSBldmVudCA/IFsgZXZlbnQgXS5jb25jYXQoIGFyZ3MgKSA6IGFyZ3M7XG4gIHRoaXMuZW1pdEV2ZW50KCB0eXBlLCBlbWl0QXJncyApO1xuXG4gIGlmICggalF1ZXJ5ICkge1xuICAgIC8vIHNldCB0aGlzLiRlbGVtZW50XG4gICAgdGhpcy4kZWxlbWVudCA9IHRoaXMuJGVsZW1lbnQgfHwgalF1ZXJ5KCB0aGlzLmVsZW1lbnQgKTtcbiAgICBpZiAoIGV2ZW50ICkge1xuICAgICAgLy8gY3JlYXRlIGpRdWVyeSBldmVudFxuICAgICAgdmFyICRldmVudCA9IGpRdWVyeS5FdmVudCggZXZlbnQgKTtcbiAgICAgICRldmVudC50eXBlID0gdHlwZTtcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlciggJGV2ZW50LCBhcmdzICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGp1c3QgdHJpZ2dlciB3aXRoIHR5cGUgaWYgbm8gZXZlbnQgYXZhaWxhYmxlXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoIHR5cGUsIGFyZ3MgKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGlnbm9yZSAmIHN0YW1wcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5cbi8qKlxuICoga2VlcCBpdGVtIGluIGNvbGxlY3Rpb24sIGJ1dCBkbyBub3QgbGF5IGl0IG91dFxuICogaWdub3JlZCBpdGVtcyBkbyBub3QgZ2V0IHNraXBwZWQgaW4gbGF5b3V0XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1cbiAqL1xucHJvdG8uaWdub3JlID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIHZhciBpdGVtID0gdGhpcy5nZXRJdGVtKCBlbGVtICk7XG4gIGlmICggaXRlbSApIHtcbiAgICBpdGVtLmlzSWdub3JlZCA9IHRydWU7XG4gIH1cbn07XG5cbi8qKlxuICogcmV0dXJuIGl0ZW0gdG8gbGF5b3V0IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuICovXG5wcm90by51bmlnbm9yZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICB2YXIgaXRlbSA9IHRoaXMuZ2V0SXRlbSggZWxlbSApO1xuICBpZiAoIGl0ZW0gKSB7XG4gICAgZGVsZXRlIGl0ZW0uaXNJZ25vcmVkO1xuICB9XG59O1xuXG4vKipcbiAqIGFkZHMgZWxlbWVudHMgdG8gc3RhbXBzXG4gKiBAcGFyYW0ge05vZGVMaXN0LCBBcnJheSwgRWxlbWVudCwgb3IgU3RyaW5nfSBlbGVtc1xuICovXG5wcm90by5zdGFtcCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgZWxlbXMgPSB0aGlzLl9maW5kKCBlbGVtcyApO1xuICBpZiAoICFlbGVtcyApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLnN0YW1wcyA9IHRoaXMuc3RhbXBzLmNvbmNhdCggZWxlbXMgKTtcbiAgLy8gaWdub3JlXG4gIGVsZW1zLmZvckVhY2goIHRoaXMuaWdub3JlLCB0aGlzICk7XG59O1xuXG4vKipcbiAqIHJlbW92ZXMgZWxlbWVudHMgdG8gc3RhbXBzXG4gKiBAcGFyYW0ge05vZGVMaXN0LCBBcnJheSwgb3IgRWxlbWVudH0gZWxlbXNcbiAqL1xucHJvdG8udW5zdGFtcCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgZWxlbXMgPSB0aGlzLl9maW5kKCBlbGVtcyApO1xuICBpZiAoICFlbGVtcyApe1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGVsZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIC8vIGZpbHRlciBvdXQgcmVtb3ZlZCBzdGFtcCBlbGVtZW50c1xuICAgIHV0aWxzLnJlbW92ZUZyb20oIHRoaXMuc3RhbXBzLCBlbGVtICk7XG4gICAgdGhpcy51bmlnbm9yZSggZWxlbSApO1xuICB9LCB0aGlzICk7XG59O1xuXG4vKipcbiAqIGZpbmRzIGNoaWxkIGVsZW1lbnRzXG4gKiBAcGFyYW0ge05vZGVMaXN0LCBBcnJheSwgRWxlbWVudCwgb3IgU3RyaW5nfSBlbGVtc1xuICogQHJldHVybnMge0FycmF5fSBlbGVtc1xuICovXG5wcm90by5fZmluZCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgaWYgKCAhZWxlbXMgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGlmIHN0cmluZywgdXNlIGFyZ3VtZW50IGFzIHNlbGVjdG9yIHN0cmluZ1xuICBpZiAoIHR5cGVvZiBlbGVtcyA9PSAnc3RyaW5nJyApIHtcbiAgICBlbGVtcyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCBlbGVtcyApO1xuICB9XG4gIGVsZW1zID0gdXRpbHMubWFrZUFycmF5KCBlbGVtcyApO1xuICByZXR1cm4gZWxlbXM7XG59O1xuXG5wcm90by5fbWFuYWdlU3RhbXBzID0gZnVuY3Rpb24oKSB7XG4gIGlmICggIXRoaXMuc3RhbXBzIHx8ICF0aGlzLnN0YW1wcy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fZ2V0Qm91bmRpbmdSZWN0KCk7XG5cbiAgdGhpcy5zdGFtcHMuZm9yRWFjaCggdGhpcy5fbWFuYWdlU3RhbXAsIHRoaXMgKTtcbn07XG5cbi8vIHVwZGF0ZSBib3VuZGluZ0xlZnQgLyBUb3BcbnByb3RvLl9nZXRCb3VuZGluZ1JlY3QgPSBmdW5jdGlvbigpIHtcbiAgLy8gZ2V0IGJvdW5kaW5nIHJlY3QgZm9yIGNvbnRhaW5lciBlbGVtZW50XG4gIHZhciBib3VuZGluZ1JlY3QgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciBzaXplID0gdGhpcy5zaXplO1xuICB0aGlzLl9ib3VuZGluZ1JlY3QgPSB7XG4gICAgbGVmdDogYm91bmRpbmdSZWN0LmxlZnQgKyBzaXplLnBhZGRpbmdMZWZ0ICsgc2l6ZS5ib3JkZXJMZWZ0V2lkdGgsXG4gICAgdG9wOiBib3VuZGluZ1JlY3QudG9wICsgc2l6ZS5wYWRkaW5nVG9wICsgc2l6ZS5ib3JkZXJUb3BXaWR0aCxcbiAgICByaWdodDogYm91bmRpbmdSZWN0LnJpZ2h0IC0gKCBzaXplLnBhZGRpbmdSaWdodCArIHNpemUuYm9yZGVyUmlnaHRXaWR0aCApLFxuICAgIGJvdHRvbTogYm91bmRpbmdSZWN0LmJvdHRvbSAtICggc2l6ZS5wYWRkaW5nQm90dG9tICsgc2l6ZS5ib3JkZXJCb3R0b21XaWR0aCApXG4gIH07XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gc3RhbXBcbioqL1xucHJvdG8uX21hbmFnZVN0YW1wID0gbm9vcDtcblxuLyoqXG4gKiBnZXQgeC95IHBvc2l0aW9uIG9mIGVsZW1lbnQgcmVsYXRpdmUgdG8gY29udGFpbmVyIGVsZW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuICogQHJldHVybnMge09iamVjdH0gb2Zmc2V0IC0gaGFzIGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbVxuICovXG5wcm90by5fZ2V0RWxlbWVudE9mZnNldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICB2YXIgYm91bmRpbmdSZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHRoaXNSZWN0ID0gdGhpcy5fYm91bmRpbmdSZWN0O1xuICB2YXIgc2l6ZSA9IGdldFNpemUoIGVsZW0gKTtcbiAgdmFyIG9mZnNldCA9IHtcbiAgICBsZWZ0OiBib3VuZGluZ1JlY3QubGVmdCAtIHRoaXNSZWN0LmxlZnQgLSBzaXplLm1hcmdpbkxlZnQsXG4gICAgdG9wOiBib3VuZGluZ1JlY3QudG9wIC0gdGhpc1JlY3QudG9wIC0gc2l6ZS5tYXJnaW5Ub3AsXG4gICAgcmlnaHQ6IHRoaXNSZWN0LnJpZ2h0IC0gYm91bmRpbmdSZWN0LnJpZ2h0IC0gc2l6ZS5tYXJnaW5SaWdodCxcbiAgICBib3R0b206IHRoaXNSZWN0LmJvdHRvbSAtIGJvdW5kaW5nUmVjdC5ib3R0b20gLSBzaXplLm1hcmdpbkJvdHRvbVxuICB9O1xuICByZXR1cm4gb2Zmc2V0O1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcmVzaXplIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIGVuYWJsZSBldmVudCBoYW5kbGVycyBmb3IgbGlzdGVuZXJzXG4vLyBpLmUuIHJlc2l6ZSAtPiBvbnJlc2l6ZVxucHJvdG8uaGFuZGxlRXZlbnQgPSB1dGlscy5oYW5kbGVFdmVudDtcblxuLyoqXG4gKiBCaW5kIGxheW91dCB0byB3aW5kb3cgcmVzaXppbmdcbiAqL1xucHJvdG8uYmluZFJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHRoaXMgKTtcbiAgdGhpcy5pc1Jlc2l6ZUJvdW5kID0gdHJ1ZTtcbn07XG5cbi8qKlxuICogVW5iaW5kIGxheW91dCB0byB3aW5kb3cgcmVzaXppbmdcbiAqL1xucHJvdG8udW5iaW5kUmVzaXplID0gZnVuY3Rpb24oKSB7XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAncmVzaXplJywgdGhpcyApO1xuICB0aGlzLmlzUmVzaXplQm91bmQgPSBmYWxzZTtcbn07XG5cbnByb3RvLm9ucmVzaXplID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVzaXplKCk7XG59O1xuXG51dGlscy5kZWJvdW5jZU1ldGhvZCggT3V0bGF5ZXIsICdvbnJlc2l6ZScsIDEwMCApO1xuXG5wcm90by5yZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgLy8gZG9uJ3QgdHJpZ2dlciBpZiBzaXplIGRpZCBub3QgY2hhbmdlXG4gIC8vIG9yIGlmIHJlc2l6ZSB3YXMgdW5ib3VuZC4gU2VlICM5XG4gIGlmICggIXRoaXMuaXNSZXNpemVCb3VuZCB8fCAhdGhpcy5uZWVkc1Jlc2l6ZUxheW91dCgpICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMubGF5b3V0KCk7XG59O1xuXG4vKipcbiAqIGNoZWNrIGlmIGxheW91dCBpcyBuZWVkZWQgcG9zdCBsYXlvdXRcbiAqIEByZXR1cm5zIEJvb2xlYW5cbiAqL1xucHJvdG8ubmVlZHNSZXNpemVMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNpemUgPSBnZXRTaXplKCB0aGlzLmVsZW1lbnQgKTtcbiAgLy8gY2hlY2sgdGhhdCB0aGlzLnNpemUgYW5kIHNpemUgYXJlIHRoZXJlXG4gIC8vIElFOCB0cmlnZ2VycyByZXNpemUgb24gYm9keSBzaXplIGNoYW5nZSwgc28gdGhleSBtaWdodCBub3QgYmVcbiAgdmFyIGhhc1NpemVzID0gdGhpcy5zaXplICYmIHNpemU7XG4gIHJldHVybiBoYXNTaXplcyAmJiBzaXplLmlubmVyV2lkdGggIT09IHRoaXMuc2l6ZS5pbm5lcldpZHRoO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gbWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIGFkZCBpdGVtcyB0byBPdXRsYXllciBpbnN0YW5jZVxuICogQHBhcmFtIHtBcnJheSBvciBOb2RlTGlzdCBvciBFbGVtZW50fSBlbGVtc1xuICogQHJldHVybnMge0FycmF5fSBpdGVtcyAtIE91dGxheWVyLkl0ZW1zXG4qKi9cbnByb3RvLmFkZEl0ZW1zID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICB2YXIgaXRlbXMgPSB0aGlzLl9pdGVtaXplKCBlbGVtcyApO1xuICAvLyBhZGQgaXRlbXMgdG8gY29sbGVjdGlvblxuICBpZiAoIGl0ZW1zLmxlbmd0aCApIHtcbiAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcy5jb25jYXQoIGl0ZW1zICk7XG4gIH1cbiAgcmV0dXJuIGl0ZW1zO1xufTtcblxuLyoqXG4gKiBMYXlvdXQgbmV3bHktYXBwZW5kZWQgaXRlbSBlbGVtZW50c1xuICogQHBhcmFtIHtBcnJheSBvciBOb2RlTGlzdCBvciBFbGVtZW50fSBlbGVtc1xuICovXG5wcm90by5hcHBlbmRlZCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgdmFyIGl0ZW1zID0gdGhpcy5hZGRJdGVtcyggZWxlbXMgKTtcbiAgaWYgKCAhaXRlbXMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBsYXlvdXQgYW5kIHJldmVhbCBqdXN0IHRoZSBuZXcgaXRlbXNcbiAgdGhpcy5sYXlvdXRJdGVtcyggaXRlbXMsIHRydWUgKTtcbiAgdGhpcy5yZXZlYWwoIGl0ZW1zICk7XG59O1xuXG4vKipcbiAqIExheW91dCBwcmVwZW5kZWQgZWxlbWVudHNcbiAqIEBwYXJhbSB7QXJyYXkgb3IgTm9kZUxpc3Qgb3IgRWxlbWVudH0gZWxlbXNcbiAqL1xucHJvdG8ucHJlcGVuZGVkID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICB2YXIgaXRlbXMgPSB0aGlzLl9pdGVtaXplKCBlbGVtcyApO1xuICBpZiAoICFpdGVtcy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGFkZCBpdGVtcyB0byBiZWdpbm5pbmcgb2YgY29sbGVjdGlvblxuICB2YXIgcHJldmlvdXNJdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UoMCk7XG4gIHRoaXMuaXRlbXMgPSBpdGVtcy5jb25jYXQoIHByZXZpb3VzSXRlbXMgKTtcbiAgLy8gc3RhcnQgbmV3IGxheW91dFxuICB0aGlzLl9yZXNldExheW91dCgpO1xuICB0aGlzLl9tYW5hZ2VTdGFtcHMoKTtcbiAgLy8gbGF5b3V0IG5ldyBzdHVmZiB3aXRob3V0IHRyYW5zaXRpb25cbiAgdGhpcy5sYXlvdXRJdGVtcyggaXRlbXMsIHRydWUgKTtcbiAgdGhpcy5yZXZlYWwoIGl0ZW1zICk7XG4gIC8vIGxheW91dCBwcmV2aW91cyBpdGVtc1xuICB0aGlzLmxheW91dEl0ZW1zKCBwcmV2aW91c0l0ZW1zICk7XG59O1xuXG4vKipcbiAqIHJldmVhbCBhIGNvbGxlY3Rpb24gb2YgaXRlbXNcbiAqIEBwYXJhbSB7QXJyYXkgb2YgT3V0bGF5ZXIuSXRlbXN9IGl0ZW1zXG4gKi9cbnByb3RvLnJldmVhbCA9IGZ1bmN0aW9uKCBpdGVtcyApIHtcbiAgdGhpcy5fZW1pdENvbXBsZXRlT25JdGVtcyggJ3JldmVhbCcsIGl0ZW1zICk7XG4gIGlmICggIWl0ZW1zIHx8ICFpdGVtcy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBzdGFnZ2VyID0gdGhpcy51cGRhdGVTdGFnZ2VyKCk7XG4gIGl0ZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBpdGVtLCBpICkge1xuICAgIGl0ZW0uc3RhZ2dlciggaSAqIHN0YWdnZXIgKTtcbiAgICBpdGVtLnJldmVhbCgpO1xuICB9KTtcbn07XG5cbi8qKlxuICogaGlkZSBhIGNvbGxlY3Rpb24gb2YgaXRlbXNcbiAqIEBwYXJhbSB7QXJyYXkgb2YgT3V0bGF5ZXIuSXRlbXN9IGl0ZW1zXG4gKi9cbnByb3RvLmhpZGUgPSBmdW5jdGlvbiggaXRlbXMgKSB7XG4gIHRoaXMuX2VtaXRDb21wbGV0ZU9uSXRlbXMoICdoaWRlJywgaXRlbXMgKTtcbiAgaWYgKCAhaXRlbXMgfHwgIWl0ZW1zLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHN0YWdnZXIgPSB0aGlzLnVwZGF0ZVN0YWdnZXIoKTtcbiAgaXRlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGl0ZW0sIGkgKSB7XG4gICAgaXRlbS5zdGFnZ2VyKCBpICogc3RhZ2dlciApO1xuICAgIGl0ZW0uaGlkZSgpO1xuICB9KTtcbn07XG5cbi8qKlxuICogcmV2ZWFsIGl0ZW0gZWxlbWVudHNcbiAqIEBwYXJhbSB7QXJyYXl9LCB7RWxlbWVudH0sIHtOb2RlTGlzdH0gaXRlbXNcbiAqL1xucHJvdG8ucmV2ZWFsSXRlbUVsZW1lbnRzID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICB2YXIgaXRlbXMgPSB0aGlzLmdldEl0ZW1zKCBlbGVtcyApO1xuICB0aGlzLnJldmVhbCggaXRlbXMgKTtcbn07XG5cbi8qKlxuICogaGlkZSBpdGVtIGVsZW1lbnRzXG4gKiBAcGFyYW0ge0FycmF5fSwge0VsZW1lbnR9LCB7Tm9kZUxpc3R9IGl0ZW1zXG4gKi9cbnByb3RvLmhpZGVJdGVtRWxlbWVudHMgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gIHZhciBpdGVtcyA9IHRoaXMuZ2V0SXRlbXMoIGVsZW1zICk7XG4gIHRoaXMuaGlkZSggaXRlbXMgKTtcbn07XG5cbi8qKlxuICogZ2V0IE91dGxheWVyLkl0ZW0sIGdpdmVuIGFuIEVsZW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtPdXRsYXllci5JdGVtfSBpdGVtXG4gKi9cbnByb3RvLmdldEl0ZW0gPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgLy8gbG9vcCB0aHJvdWdoIGl0ZW1zIHRvIGdldCB0aGUgb25lIHRoYXQgbWF0Y2hlc1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNbaV07XG4gICAgaWYgKCBpdGVtLmVsZW1lbnQgPT0gZWxlbSApIHtcbiAgICAgIC8vIHJldHVybiBpdGVtXG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogZ2V0IGNvbGxlY3Rpb24gb2YgT3V0bGF5ZXIuSXRlbXMsIGdpdmVuIEVsZW1lbnRzXG4gKiBAcGFyYW0ge0FycmF5fSBlbGVtc1xuICogQHJldHVybnMge0FycmF5fSBpdGVtcyAtIE91dGxheWVyLkl0ZW1zXG4gKi9cbnByb3RvLmdldEl0ZW1zID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICBlbGVtcyA9IHV0aWxzLm1ha2VBcnJheSggZWxlbXMgKTtcbiAgdmFyIGl0ZW1zID0gW107XG4gIGVsZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIHZhciBpdGVtID0gdGhpcy5nZXRJdGVtKCBlbGVtICk7XG4gICAgaWYgKCBpdGVtICkge1xuICAgICAgaXRlbXMucHVzaCggaXRlbSApO1xuICAgIH1cbiAgfSwgdGhpcyApO1xuXG4gIHJldHVybiBpdGVtcztcbn07XG5cbi8qKlxuICogcmVtb3ZlIGVsZW1lbnQocykgZnJvbSBpbnN0YW5jZSBhbmQgRE9NXG4gKiBAcGFyYW0ge0FycmF5IG9yIE5vZGVMaXN0IG9yIEVsZW1lbnR9IGVsZW1zXG4gKi9cbnByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgdmFyIHJlbW92ZUl0ZW1zID0gdGhpcy5nZXRJdGVtcyggZWxlbXMgKTtcblxuICB0aGlzLl9lbWl0Q29tcGxldGVPbkl0ZW1zKCAncmVtb3ZlJywgcmVtb3ZlSXRlbXMgKTtcblxuICAvLyBiYWlsIGlmIG5vIGl0ZW1zIHRvIHJlbW92ZVxuICBpZiAoICFyZW1vdmVJdGVtcyB8fCAhcmVtb3ZlSXRlbXMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJlbW92ZUl0ZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBpdGVtICkge1xuICAgIGl0ZW0ucmVtb3ZlKCk7XG4gICAgLy8gcmVtb3ZlIGl0ZW0gZnJvbSBjb2xsZWN0aW9uXG4gICAgdXRpbHMucmVtb3ZlRnJvbSggdGhpcy5pdGVtcywgaXRlbSApO1xuICB9LCB0aGlzICk7XG59O1xuXG4vLyAtLS0tLSBkZXN0cm95IC0tLS0tIC8vXG5cbi8vIHJlbW92ZSBhbmQgZGlzYWJsZSBPdXRsYXllciBpbnN0YW5jZVxucHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAvLyBjbGVhbiB1cCBkeW5hbWljIHN0eWxlc1xuICB2YXIgc3R5bGUgPSB0aGlzLmVsZW1lbnQuc3R5bGU7XG4gIHN0eWxlLmhlaWdodCA9ICcnO1xuICBzdHlsZS5wb3NpdGlvbiA9ICcnO1xuICBzdHlsZS53aWR0aCA9ICcnO1xuICAvLyBkZXN0cm95IGl0ZW1zXG4gIHRoaXMuaXRlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgaXRlbS5kZXN0cm95KCk7XG4gIH0pO1xuXG4gIHRoaXMudW5iaW5kUmVzaXplKCk7XG5cbiAgdmFyIGlkID0gdGhpcy5lbGVtZW50Lm91dGxheWVyR1VJRDtcbiAgZGVsZXRlIGluc3RhbmNlc1sgaWQgXTsgLy8gcmVtb3ZlIHJlZmVyZW5jZSB0byBpbnN0YW5jZSBieSBpZFxuICBkZWxldGUgdGhpcy5lbGVtZW50Lm91dGxheWVyR1VJRDtcbiAgLy8gcmVtb3ZlIGRhdGEgZm9yIGpRdWVyeVxuICBpZiAoIGpRdWVyeSApIHtcbiAgICBqUXVlcnkucmVtb3ZlRGF0YSggdGhpcy5lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLm5hbWVzcGFjZSApO1xuICB9XG5cbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGRhdGEgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLyoqXG4gKiBnZXQgT3V0bGF5ZXIgaW5zdGFuY2UgZnJvbSBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1cbiAqIEByZXR1cm5zIHtPdXRsYXllcn1cbiAqL1xuT3V0bGF5ZXIuZGF0YSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICBlbGVtID0gdXRpbHMuZ2V0UXVlcnlFbGVtZW50KCBlbGVtICk7XG4gIHZhciBpZCA9IGVsZW0gJiYgZWxlbS5vdXRsYXllckdVSUQ7XG4gIHJldHVybiBpZCAmJiBpbnN0YW5jZXNbIGlkIF07XG59O1xuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGNyZWF0ZSBPdXRsYXllciBjbGFzcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIGNyZWF0ZSBhIGxheW91dCBjbGFzc1xuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICovXG5PdXRsYXllci5jcmVhdGUgPSBmdW5jdGlvbiggbmFtZXNwYWNlLCBvcHRpb25zICkge1xuICAvLyBzdWItY2xhc3MgT3V0bGF5ZXJcbiAgdmFyIExheW91dCA9IHN1YmNsYXNzKCBPdXRsYXllciApO1xuICAvLyBhcHBseSBuZXcgb3B0aW9ucyBhbmQgY29tcGF0T3B0aW9uc1xuICBMYXlvdXQuZGVmYXVsdHMgPSB1dGlscy5leHRlbmQoIHt9LCBPdXRsYXllci5kZWZhdWx0cyApO1xuICB1dGlscy5leHRlbmQoIExheW91dC5kZWZhdWx0cywgb3B0aW9ucyApO1xuICBMYXlvdXQuY29tcGF0T3B0aW9ucyA9IHV0aWxzLmV4dGVuZCgge30sIE91dGxheWVyLmNvbXBhdE9wdGlvbnMgICk7XG5cbiAgTGF5b3V0Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcblxuICBMYXlvdXQuZGF0YSA9IE91dGxheWVyLmRhdGE7XG5cbiAgLy8gc3ViLWNsYXNzIEl0ZW1cbiAgTGF5b3V0Lkl0ZW0gPSBzdWJjbGFzcyggSXRlbSApO1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGRlY2xhcmF0aXZlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgdXRpbHMuaHRtbEluaXQoIExheW91dCwgbmFtZXNwYWNlICk7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0galF1ZXJ5IGJyaWRnZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8vIG1ha2UgaW50byBqUXVlcnkgcGx1Z2luXG4gIGlmICggalF1ZXJ5ICYmIGpRdWVyeS5icmlkZ2V0ICkge1xuICAgIGpRdWVyeS5icmlkZ2V0KCBuYW1lc3BhY2UsIExheW91dCApO1xuICB9XG5cbiAgcmV0dXJuIExheW91dDtcbn07XG5cbmZ1bmN0aW9uIHN1YmNsYXNzKCBQYXJlbnQgKSB7XG4gIGZ1bmN0aW9uIFN1YkNsYXNzKCkge1xuICAgIFBhcmVudC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gIH1cblxuICBTdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBQYXJlbnQucHJvdG90eXBlICk7XG4gIFN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN1YkNsYXNzO1xuXG4gIHJldHVybiBTdWJDbGFzcztcbn1cblxuLy8gLS0tLS0gaGVscGVycyAtLS0tLSAvL1xuXG4vLyBob3cgbWFueSBtaWxsaXNlY29uZHMgYXJlIGluIGVhY2ggdW5pdFxudmFyIG1zVW5pdHMgPSB7XG4gIG1zOiAxLFxuICBzOiAxMDAwXG59O1xuXG4vLyBtdW5nZSB0aW1lLWxpa2UgcGFyYW1ldGVyIGludG8gbWlsbGlzZWNvbmQgbnVtYmVyXG4vLyAnMC40cycgLT4gNDBcbmZ1bmN0aW9uIGdldE1pbGxpc2Vjb25kcyggdGltZSApIHtcbiAgaWYgKCB0eXBlb2YgdGltZSA9PSAnbnVtYmVyJyApIHtcbiAgICByZXR1cm4gdGltZTtcbiAgfVxuICB2YXIgbWF0Y2hlcyA9IHRpbWUubWF0Y2goIC8oXlxcZCpcXC4/XFxkKikoXFx3KikvICk7XG4gIHZhciBudW0gPSBtYXRjaGVzICYmIG1hdGNoZXNbMV07XG4gIHZhciB1bml0ID0gbWF0Y2hlcyAmJiBtYXRjaGVzWzJdO1xuICBpZiAoICFudW0ubGVuZ3RoICkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIG51bSA9IHBhcnNlRmxvYXQoIG51bSApO1xuICB2YXIgbXVsdCA9IG1zVW5pdHNbIHVuaXQgXSB8fCAxO1xuICByZXR1cm4gbnVtICogbXVsdDtcbn1cblxuLy8gLS0tLS0gZmluIC0tLS0tIC8vXG5cbi8vIGJhY2sgaW4gZ2xvYmFsXG5PdXRsYXllci5JdGVtID0gSXRlbTtcblxucmV0dXJuIE91dGxheWVyO1xuXG59KSk7XG5cbi8qKlxuICogSXNvdG9wZSBJdGVtXG4qKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCAnaXNvdG9wZS1sYXlvdXQvanMvaXRlbScsW1xuICAgICAgICAnb3V0bGF5ZXIvb3V0bGF5ZXInXG4gICAgICBdLFxuICAgICAgZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgcmVxdWlyZSgnb3V0bGF5ZXInKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuSXNvdG9wZSA9IHdpbmRvdy5Jc290b3BlIHx8IHt9O1xuICAgIHdpbmRvdy5Jc290b3BlLkl0ZW0gPSBmYWN0b3J5KFxuICAgICAgd2luZG93Lk91dGxheWVyXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIE91dGxheWVyICkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBJdGVtIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIHN1Yi1jbGFzcyBPdXRsYXllciBJdGVtXG5mdW5jdGlvbiBJdGVtKCkge1xuICBPdXRsYXllci5JdGVtLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbn1cblxudmFyIHByb3RvID0gSXRlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBPdXRsYXllci5JdGVtLnByb3RvdHlwZSApO1xuXG52YXIgX2NyZWF0ZSA9IHByb3RvLl9jcmVhdGU7XG5wcm90by5fY3JlYXRlID0gZnVuY3Rpb24oKSB7XG4gIC8vIGFzc2lnbiBpZCwgdXNlZCBmb3Igb3JpZ2luYWwtb3JkZXIgc29ydGluZ1xuICB0aGlzLmlkID0gdGhpcy5sYXlvdXQuaXRlbUdVSUQrKztcbiAgX2NyZWF0ZS5jYWxsKCB0aGlzICk7XG4gIHRoaXMuc29ydERhdGEgPSB7fTtcbn07XG5cbnByb3RvLnVwZGF0ZVNvcnREYXRhID0gZnVuY3Rpb24oKSB7XG4gIGlmICggdGhpcy5pc0lnbm9yZWQgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGRlZmF1bHQgc29ydGVyc1xuICB0aGlzLnNvcnREYXRhLmlkID0gdGhpcy5pZDtcbiAgLy8gZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgdGhpcy5zb3J0RGF0YVsnb3JpZ2luYWwtb3JkZXInXSA9IHRoaXMuaWQ7XG4gIHRoaXMuc29ydERhdGEucmFuZG9tID0gTWF0aC5yYW5kb20oKTtcbiAgLy8gZ28gdGhydSBnZXRTb3J0RGF0YSBvYmogYW5kIGFwcGx5IHRoZSBzb3J0ZXJzXG4gIHZhciBnZXRTb3J0RGF0YSA9IHRoaXMubGF5b3V0Lm9wdGlvbnMuZ2V0U29ydERhdGE7XG4gIHZhciBzb3J0ZXJzID0gdGhpcy5sYXlvdXQuX3NvcnRlcnM7XG4gIGZvciAoIHZhciBrZXkgaW4gZ2V0U29ydERhdGEgKSB7XG4gICAgdmFyIHNvcnRlciA9IHNvcnRlcnNbIGtleSBdO1xuICAgIHRoaXMuc29ydERhdGFbIGtleSBdID0gc29ydGVyKCB0aGlzLmVsZW1lbnQsIHRoaXMgKTtcbiAgfVxufTtcblxudmFyIF9kZXN0cm95ID0gcHJvdG8uZGVzdHJveTtcbnByb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgLy8gY2FsbCBzdXBlclxuICBfZGVzdHJveS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gIC8vIHJlc2V0IGRpc3BsYXksICM3NDFcbiAgdGhpcy5jc3Moe1xuICAgIGRpc3BsYXk6ICcnXG4gIH0pO1xufTtcblxucmV0dXJuIEl0ZW07XG5cbn0pKTtcblxuLyoqXG4gKiBJc290b3BlIExheW91dE1vZGVcbiAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKmdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoICdpc290b3BlLWxheW91dC9qcy9sYXlvdXQtbW9kZScsW1xuICAgICAgICAnZ2V0LXNpemUvZ2V0LXNpemUnLFxuICAgICAgICAnb3V0bGF5ZXIvb3V0bGF5ZXInXG4gICAgICBdLFxuICAgICAgZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgcmVxdWlyZSgnZ2V0LXNpemUnKSxcbiAgICAgIHJlcXVpcmUoJ291dGxheWVyJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93Lklzb3RvcGUgPSB3aW5kb3cuSXNvdG9wZSB8fCB7fTtcbiAgICB3aW5kb3cuSXNvdG9wZS5MYXlvdXRNb2RlID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdy5nZXRTaXplLFxuICAgICAgd2luZG93Lk91dGxheWVyXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIGdldFNpemUsIE91dGxheWVyICkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gbGF5b3V0IG1vZGUgY2xhc3NcbiAgZnVuY3Rpb24gTGF5b3V0TW9kZSggaXNvdG9wZSApIHtcbiAgICB0aGlzLmlzb3RvcGUgPSBpc290b3BlO1xuICAgIC8vIGxpbmsgcHJvcGVydGllc1xuICAgIGlmICggaXNvdG9wZSApIHtcbiAgICAgIHRoaXMub3B0aW9ucyA9IGlzb3RvcGUub3B0aW9uc1sgdGhpcy5uYW1lc3BhY2UgXTtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGlzb3RvcGUuZWxlbWVudDtcbiAgICAgIHRoaXMuaXRlbXMgPSBpc290b3BlLmZpbHRlcmVkSXRlbXM7XG4gICAgICB0aGlzLnNpemUgPSBpc290b3BlLnNpemU7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gTGF5b3V0TW9kZS5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIHNvbWUgbWV0aG9kcyBzaG91bGQganVzdCBkZWZlciB0byBkZWZhdWx0IE91dGxheWVyIG1ldGhvZFxuICAgKiBhbmQgcmVmZXJlbmNlIHRoZSBJc290b3BlIGluc3RhbmNlIGFzIGB0aGlzYFxuICAqKi9cbiAgdmFyIGZhY2FkZU1ldGhvZHMgPSBbXG4gICAgJ19yZXNldExheW91dCcsXG4gICAgJ19nZXRJdGVtTGF5b3V0UG9zaXRpb24nLFxuICAgICdfbWFuYWdlU3RhbXAnLFxuICAgICdfZ2V0Q29udGFpbmVyU2l6ZScsXG4gICAgJ19nZXRFbGVtZW50T2Zmc2V0JyxcbiAgICAnbmVlZHNSZXNpemVMYXlvdXQnLFxuICAgICdfZ2V0T3B0aW9uJ1xuICBdO1xuXG4gIGZhY2FkZU1ldGhvZHMuZm9yRWFjaCggZnVuY3Rpb24oIG1ldGhvZE5hbWUgKSB7XG4gICAgcHJvdG9bIG1ldGhvZE5hbWUgXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE91dGxheWVyLnByb3RvdHlwZVsgbWV0aG9kTmFtZSBdLmFwcGx5KCB0aGlzLmlzb3RvcGUsIGFyZ3VtZW50cyApO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIC0tLS0tICAtLS0tLSAvL1xuXG4gIC8vIGZvciBob3Jpem9udGFsIGxheW91dCBtb2RlcywgY2hlY2sgdmVydGljYWwgc2l6ZVxuICBwcm90by5uZWVkc1ZlcnRpY2FsUmVzaXplTGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gZG9uJ3QgdHJpZ2dlciBpZiBzaXplIGRpZCBub3QgY2hhbmdlXG4gICAgdmFyIHNpemUgPSBnZXRTaXplKCB0aGlzLmlzb3RvcGUuZWxlbWVudCApO1xuICAgIC8vIGNoZWNrIHRoYXQgdGhpcy5zaXplIGFuZCBzaXplIGFyZSB0aGVyZVxuICAgIC8vIElFOCB0cmlnZ2VycyByZXNpemUgb24gYm9keSBzaXplIGNoYW5nZSwgc28gdGhleSBtaWdodCBub3QgYmVcbiAgICB2YXIgaGFzU2l6ZXMgPSB0aGlzLmlzb3RvcGUuc2l6ZSAmJiBzaXplO1xuICAgIHJldHVybiBoYXNTaXplcyAmJiBzaXplLmlubmVySGVpZ2h0ICE9IHRoaXMuaXNvdG9wZS5zaXplLmlubmVySGVpZ2h0O1xuICB9O1xuXG4gIC8vIC0tLS0tIG1lYXN1cmVtZW50cyAtLS0tLSAvL1xuXG4gIHByb3RvLl9nZXRNZWFzdXJlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaXNvdG9wZS5fZ2V0TWVhc3VyZW1lbnQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuICB9O1xuXG4gIHByb3RvLmdldENvbHVtbldpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5nZXRTZWdtZW50U2l6ZSggJ2NvbHVtbicsICdXaWR0aCcgKTtcbiAgfTtcblxuICBwcm90by5nZXRSb3dIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmdldFNlZ21lbnRTaXplKCAncm93JywgJ0hlaWdodCcgKTtcbiAgfTtcblxuICAvKipcbiAgICogZ2V0IGNvbHVtbldpZHRoIG9yIHJvd0hlaWdodFxuICAgKiBzZWdtZW50OiAnY29sdW1uJyBvciAncm93J1xuICAgKiBzaXplICdXaWR0aCcgb3IgJ0hlaWdodCdcbiAgKiovXG4gIHByb3RvLmdldFNlZ21lbnRTaXplID0gZnVuY3Rpb24oIHNlZ21lbnQsIHNpemUgKSB7XG4gICAgdmFyIHNlZ21lbnROYW1lID0gc2VnbWVudCArIHNpemU7XG4gICAgdmFyIG91dGVyU2l6ZSA9ICdvdXRlcicgKyBzaXplO1xuICAgIC8vIGNvbHVtbldpZHRoIC8gb3V0ZXJXaWR0aCAvLyByb3dIZWlnaHQgLyBvdXRlckhlaWdodFxuICAgIHRoaXMuX2dldE1lYXN1cmVtZW50KCBzZWdtZW50TmFtZSwgb3V0ZXJTaXplICk7XG4gICAgLy8gZ290IHJvd0hlaWdodCBvciBjb2x1bW5XaWR0aCwgd2UgY2FuIGNoaWxsXG4gICAgaWYgKCB0aGlzWyBzZWdtZW50TmFtZSBdICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBmYWxsIGJhY2sgdG8gaXRlbSBvZiBmaXJzdCBlbGVtZW50XG4gICAgdmFyIGZpcnN0SXRlbVNpemUgPSB0aGlzLmdldEZpcnN0SXRlbVNpemUoKTtcbiAgICB0aGlzWyBzZWdtZW50TmFtZSBdID0gZmlyc3RJdGVtU2l6ZSAmJiBmaXJzdEl0ZW1TaXplWyBvdXRlclNpemUgXSB8fFxuICAgICAgLy8gb3Igc2l6ZSBvZiBjb250YWluZXJcbiAgICAgIHRoaXMuaXNvdG9wZS5zaXplWyAnaW5uZXInICsgc2l6ZSBdO1xuICB9O1xuXG4gIHByb3RvLmdldEZpcnN0SXRlbVNpemUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZmlyc3RJdGVtID0gdGhpcy5pc290b3BlLmZpbHRlcmVkSXRlbXNbMF07XG4gICAgcmV0dXJuIGZpcnN0SXRlbSAmJiBmaXJzdEl0ZW0uZWxlbWVudCAmJiBnZXRTaXplKCBmaXJzdEl0ZW0uZWxlbWVudCApO1xuICB9O1xuXG4gIC8vIC0tLS0tIG1ldGhvZHMgdGhhdCBzaG91bGQgcmVmZXJlbmNlIGlzb3RvcGUgLS0tLS0gLy9cblxuICBwcm90by5sYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlzb3RvcGUubGF5b3V0LmFwcGx5KCB0aGlzLmlzb3RvcGUsIGFyZ3VtZW50cyApO1xuICB9O1xuXG4gIHByb3RvLmdldFNpemUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlzb3RvcGUuZ2V0U2l6ZSgpO1xuICAgIHRoaXMuc2l6ZSA9IHRoaXMuaXNvdG9wZS5zaXplO1xuICB9O1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGNyZWF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIExheW91dE1vZGUubW9kZXMgPSB7fTtcblxuICBMYXlvdXRNb2RlLmNyZWF0ZSA9IGZ1bmN0aW9uKCBuYW1lc3BhY2UsIG9wdGlvbnMgKSB7XG5cbiAgICBmdW5jdGlvbiBNb2RlKCkge1xuICAgICAgTGF5b3V0TW9kZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gICAgfVxuXG4gICAgTW9kZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBwcm90byApO1xuICAgIE1vZGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTW9kZTtcblxuICAgIC8vIGRlZmF1bHQgb3B0aW9uc1xuICAgIGlmICggb3B0aW9ucyApIHtcbiAgICAgIE1vZGUub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuXG4gICAgTW9kZS5wcm90b3R5cGUubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICAgIC8vIHJlZ2lzdGVyIGluIElzb3RvcGVcbiAgICBMYXlvdXRNb2RlLm1vZGVzWyBuYW1lc3BhY2UgXSA9IE1vZGU7XG5cbiAgICByZXR1cm4gTW9kZTtcbiAgfTtcblxuICByZXR1cm4gTGF5b3V0TW9kZTtcblxufSkpO1xuXG4vKiFcbiAqIE1hc29ucnkgdjQuMi4xXG4gKiBDYXNjYWRpbmcgZ3JpZCBsYXlvdXQgbGlicmFyeVxuICogaHR0cHM6Ly9tYXNvbnJ5LmRlc2FuZHJvLmNvbVxuICogTUlUIExpY2Vuc2VcbiAqIGJ5IERhdmlkIERlU2FuZHJvXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCAnbWFzb25yeS1sYXlvdXQvbWFzb25yeScsW1xuICAgICAgICAnb3V0bGF5ZXIvb3V0bGF5ZXInLFxuICAgICAgICAnZ2V0LXNpemUvZ2V0LXNpemUnXG4gICAgICBdLFxuICAgICAgZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgcmVxdWlyZSgnb3V0bGF5ZXInKSxcbiAgICAgIHJlcXVpcmUoJ2dldC1zaXplJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93Lk1hc29ucnkgPSBmYWN0b3J5KFxuICAgICAgd2luZG93Lk91dGxheWVyLFxuICAgICAgd2luZG93LmdldFNpemVcbiAgICApO1xuICB9XG5cbn0oIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSggT3V0bGF5ZXIsIGdldFNpemUgKSB7XG5cblxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBtYXNvbnJ5RGVmaW5pdGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8vIGNyZWF0ZSBhbiBPdXRsYXllciBsYXlvdXQgY2xhc3NcbiAgdmFyIE1hc29ucnkgPSBPdXRsYXllci5jcmVhdGUoJ21hc29ucnknKTtcbiAgLy8gaXNGaXRXaWR0aCAtPiBmaXRXaWR0aFxuICBNYXNvbnJ5LmNvbXBhdE9wdGlvbnMuZml0V2lkdGggPSAnaXNGaXRXaWR0aCc7XG5cbiAgdmFyIHByb3RvID0gTWFzb25yeS5wcm90b3R5cGU7XG5cbiAgcHJvdG8uX3Jlc2V0TGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5nZXRTaXplKCk7XG4gICAgdGhpcy5fZ2V0TWVhc3VyZW1lbnQoICdjb2x1bW5XaWR0aCcsICdvdXRlcldpZHRoJyApO1xuICAgIHRoaXMuX2dldE1lYXN1cmVtZW50KCAnZ3V0dGVyJywgJ291dGVyV2lkdGgnICk7XG4gICAgdGhpcy5tZWFzdXJlQ29sdW1ucygpO1xuXG4gICAgLy8gcmVzZXQgY29sdW1uIFlcbiAgICB0aGlzLmNvbFlzID0gW107XG4gICAgZm9yICggdmFyIGk9MDsgaSA8IHRoaXMuY29sczsgaSsrICkge1xuICAgICAgdGhpcy5jb2xZcy5wdXNoKCAwICk7XG4gICAgfVxuXG4gICAgdGhpcy5tYXhZID0gMDtcbiAgICB0aGlzLmhvcml6b250YWxDb2xJbmRleCA9IDA7XG4gIH07XG5cbiAgcHJvdG8ubWVhc3VyZUNvbHVtbnMgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmdldENvbnRhaW5lcldpZHRoKCk7XG4gICAgLy8gaWYgY29sdW1uV2lkdGggaXMgMCwgZGVmYXVsdCB0byBvdXRlcldpZHRoIG9mIGZpcnN0IGl0ZW1cbiAgICBpZiAoICF0aGlzLmNvbHVtbldpZHRoICkge1xuICAgICAgdmFyIGZpcnN0SXRlbSA9IHRoaXMuaXRlbXNbMF07XG4gICAgICB2YXIgZmlyc3RJdGVtRWxlbSA9IGZpcnN0SXRlbSAmJiBmaXJzdEl0ZW0uZWxlbWVudDtcbiAgICAgIC8vIGNvbHVtbldpZHRoIGZhbGwgYmFjayB0byBpdGVtIG9mIGZpcnN0IGVsZW1lbnRcbiAgICAgIHRoaXMuY29sdW1uV2lkdGggPSBmaXJzdEl0ZW1FbGVtICYmIGdldFNpemUoIGZpcnN0SXRlbUVsZW0gKS5vdXRlcldpZHRoIHx8XG4gICAgICAgIC8vIGlmIGZpcnN0IGVsZW0gaGFzIG5vIHdpZHRoLCBkZWZhdWx0IHRvIHNpemUgb2YgY29udGFpbmVyXG4gICAgICAgIHRoaXMuY29udGFpbmVyV2lkdGg7XG4gICAgfVxuXG4gICAgdmFyIGNvbHVtbldpZHRoID0gdGhpcy5jb2x1bW5XaWR0aCArPSB0aGlzLmd1dHRlcjtcblxuICAgIC8vIGNhbGN1bGF0ZSBjb2x1bW5zXG4gICAgdmFyIGNvbnRhaW5lcldpZHRoID0gdGhpcy5jb250YWluZXJXaWR0aCArIHRoaXMuZ3V0dGVyO1xuICAgIHZhciBjb2xzID0gY29udGFpbmVyV2lkdGggLyBjb2x1bW5XaWR0aDtcbiAgICAvLyBmaXggcm91bmRpbmcgZXJyb3JzLCB0eXBpY2FsbHkgd2l0aCBndXR0ZXJzXG4gICAgdmFyIGV4Y2VzcyA9IGNvbHVtbldpZHRoIC0gY29udGFpbmVyV2lkdGggJSBjb2x1bW5XaWR0aDtcbiAgICAvLyBpZiBvdmVyc2hvb3QgaXMgbGVzcyB0aGFuIGEgcGl4ZWwsIHJvdW5kIHVwLCBvdGhlcndpc2UgZmxvb3IgaXRcbiAgICB2YXIgbWF0aE1ldGhvZCA9IGV4Y2VzcyAmJiBleGNlc3MgPCAxID8gJ3JvdW5kJyA6ICdmbG9vcic7XG4gICAgY29scyA9IE1hdGhbIG1hdGhNZXRob2QgXSggY29scyApO1xuICAgIHRoaXMuY29scyA9IE1hdGgubWF4KCBjb2xzLCAxICk7XG4gIH07XG5cbiAgcHJvdG8uZ2V0Q29udGFpbmVyV2lkdGggPSBmdW5jdGlvbigpIHtcbiAgICAvLyBjb250YWluZXIgaXMgcGFyZW50IGlmIGZpdCB3aWR0aFxuICAgIHZhciBpc0ZpdFdpZHRoID0gdGhpcy5fZ2V0T3B0aW9uKCdmaXRXaWR0aCcpO1xuICAgIHZhciBjb250YWluZXIgPSBpc0ZpdFdpZHRoID8gdGhpcy5lbGVtZW50LnBhcmVudE5vZGUgOiB0aGlzLmVsZW1lbnQ7XG4gICAgLy8gY2hlY2sgdGhhdCB0aGlzLnNpemUgYW5kIHNpemUgYXJlIHRoZXJlXG4gICAgLy8gSUU4IHRyaWdnZXJzIHJlc2l6ZSBvbiBib2R5IHNpemUgY2hhbmdlLCBzbyB0aGV5IG1pZ2h0IG5vdCBiZVxuICAgIHZhciBzaXplID0gZ2V0U2l6ZSggY29udGFpbmVyICk7XG4gICAgdGhpcy5jb250YWluZXJXaWR0aCA9IHNpemUgJiYgc2l6ZS5pbm5lcldpZHRoO1xuICB9O1xuXG4gIHByb3RvLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24gPSBmdW5jdGlvbiggaXRlbSApIHtcbiAgICBpdGVtLmdldFNpemUoKTtcbiAgICAvLyBob3cgbWFueSBjb2x1bW5zIGRvZXMgdGhpcyBicmljayBzcGFuXG4gICAgdmFyIHJlbWFpbmRlciA9IGl0ZW0uc2l6ZS5vdXRlcldpZHRoICUgdGhpcy5jb2x1bW5XaWR0aDtcbiAgICB2YXIgbWF0aE1ldGhvZCA9IHJlbWFpbmRlciAmJiByZW1haW5kZXIgPCAxID8gJ3JvdW5kJyA6ICdjZWlsJztcbiAgICAvLyByb3VuZCBpZiBvZmYgYnkgMSBwaXhlbCwgb3RoZXJ3aXNlIHVzZSBjZWlsXG4gICAgdmFyIGNvbFNwYW4gPSBNYXRoWyBtYXRoTWV0aG9kIF0oIGl0ZW0uc2l6ZS5vdXRlcldpZHRoIC8gdGhpcy5jb2x1bW5XaWR0aCApO1xuICAgIGNvbFNwYW4gPSBNYXRoLm1pbiggY29sU3BhbiwgdGhpcy5jb2xzICk7XG4gICAgLy8gdXNlIGhvcml6b250YWwgb3IgdG9wIGNvbHVtbiBwb3NpdGlvblxuICAgIHZhciBjb2xQb3NNZXRob2QgPSB0aGlzLm9wdGlvbnMuaG9yaXpvbnRhbE9yZGVyID9cbiAgICAgICdfZ2V0SG9yaXpvbnRhbENvbFBvc2l0aW9uJyA6ICdfZ2V0VG9wQ29sUG9zaXRpb24nO1xuICAgIHZhciBjb2xQb3NpdGlvbiA9IHRoaXNbIGNvbFBvc01ldGhvZCBdKCBjb2xTcGFuLCBpdGVtICk7XG4gICAgLy8gcG9zaXRpb24gdGhlIGJyaWNrXG4gICAgdmFyIHBvc2l0aW9uID0ge1xuICAgICAgeDogdGhpcy5jb2x1bW5XaWR0aCAqIGNvbFBvc2l0aW9uLmNvbCxcbiAgICAgIHk6IGNvbFBvc2l0aW9uLnlcbiAgICB9O1xuICAgIC8vIGFwcGx5IHNldEhlaWdodCB0byBuZWNlc3NhcnkgY29sdW1uc1xuICAgIHZhciBzZXRIZWlnaHQgPSBjb2xQb3NpdGlvbi55ICsgaXRlbS5zaXplLm91dGVySGVpZ2h0O1xuICAgIHZhciBzZXRNYXggPSBjb2xTcGFuICsgY29sUG9zaXRpb24uY29sO1xuICAgIGZvciAoIHZhciBpID0gY29sUG9zaXRpb24uY29sOyBpIDwgc2V0TWF4OyBpKysgKSB7XG4gICAgICB0aGlzLmNvbFlzW2ldID0gc2V0SGVpZ2h0O1xuICAgIH1cblxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfTtcblxuICBwcm90by5fZ2V0VG9wQ29sUG9zaXRpb24gPSBmdW5jdGlvbiggY29sU3BhbiApIHtcbiAgICB2YXIgY29sR3JvdXAgPSB0aGlzLl9nZXRUb3BDb2xHcm91cCggY29sU3BhbiApO1xuICAgIC8vIGdldCB0aGUgbWluaW11bSBZIHZhbHVlIGZyb20gdGhlIGNvbHVtbnNcbiAgICB2YXIgbWluaW11bVkgPSBNYXRoLm1pbi5hcHBseSggTWF0aCwgY29sR3JvdXAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICBjb2w6IGNvbEdyb3VwLmluZGV4T2YoIG1pbmltdW1ZICksXG4gICAgICB5OiBtaW5pbXVtWSxcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge051bWJlcn0gY29sU3BhbiAtIG51bWJlciBvZiBjb2x1bW5zIHRoZSBlbGVtZW50IHNwYW5zXG4gICAqIEByZXR1cm5zIHtBcnJheX0gY29sR3JvdXBcbiAgICovXG4gIHByb3RvLl9nZXRUb3BDb2xHcm91cCA9IGZ1bmN0aW9uKCBjb2xTcGFuICkge1xuICAgIGlmICggY29sU3BhbiA8IDIgKSB7XG4gICAgICAvLyBpZiBicmljayBzcGFucyBvbmx5IG9uZSBjb2x1bW4sIHVzZSBhbGwgdGhlIGNvbHVtbiBZc1xuICAgICAgcmV0dXJuIHRoaXMuY29sWXM7XG4gICAgfVxuXG4gICAgdmFyIGNvbEdyb3VwID0gW107XG4gICAgLy8gaG93IG1hbnkgZGlmZmVyZW50IHBsYWNlcyBjb3VsZCB0aGlzIGJyaWNrIGZpdCBob3Jpem9udGFsbHlcbiAgICB2YXIgZ3JvdXBDb3VudCA9IHRoaXMuY29scyArIDEgLSBjb2xTcGFuO1xuICAgIC8vIGZvciBlYWNoIGdyb3VwIHBvdGVudGlhbCBob3Jpem9udGFsIHBvc2l0aW9uXG4gICAgZm9yICggdmFyIGkgPSAwOyBpIDwgZ3JvdXBDb3VudDsgaSsrICkge1xuICAgICAgY29sR3JvdXBbaV0gPSB0aGlzLl9nZXRDb2xHcm91cFkoIGksIGNvbFNwYW4gKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbEdyb3VwO1xuICB9O1xuXG4gIHByb3RvLl9nZXRDb2xHcm91cFkgPSBmdW5jdGlvbiggY29sLCBjb2xTcGFuICkge1xuICAgIGlmICggY29sU3BhbiA8IDIgKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb2xZc1sgY29sIF07XG4gICAgfVxuICAgIC8vIG1ha2UgYW4gYXJyYXkgb2YgY29sWSB2YWx1ZXMgZm9yIHRoYXQgb25lIGdyb3VwXG4gICAgdmFyIGdyb3VwQ29sWXMgPSB0aGlzLmNvbFlzLnNsaWNlKCBjb2wsIGNvbCArIGNvbFNwYW4gKTtcbiAgICAvLyBhbmQgZ2V0IHRoZSBtYXggdmFsdWUgb2YgdGhlIGFycmF5XG4gICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KCBNYXRoLCBncm91cENvbFlzICk7XG4gIH07XG5cbiAgLy8gZ2V0IGNvbHVtbiBwb3NpdGlvbiBiYXNlZCBvbiBob3Jpem9udGFsIGluZGV4LiAjODczXG4gIHByb3RvLl9nZXRIb3Jpem9udGFsQ29sUG9zaXRpb24gPSBmdW5jdGlvbiggY29sU3BhbiwgaXRlbSApIHtcbiAgICB2YXIgY29sID0gdGhpcy5ob3Jpem9udGFsQ29sSW5kZXggJSB0aGlzLmNvbHM7XG4gICAgdmFyIGlzT3ZlciA9IGNvbFNwYW4gPiAxICYmIGNvbCArIGNvbFNwYW4gPiB0aGlzLmNvbHM7XG4gICAgLy8gc2hpZnQgdG8gbmV4dCByb3cgaWYgaXRlbSBjYW4ndCBmaXQgb24gY3VycmVudCByb3dcbiAgICBjb2wgPSBpc092ZXIgPyAwIDogY29sO1xuICAgIC8vIGRvbid0IGxldCB6ZXJvLXNpemUgaXRlbXMgdGFrZSB1cCBzcGFjZVxuICAgIHZhciBoYXNTaXplID0gaXRlbS5zaXplLm91dGVyV2lkdGggJiYgaXRlbS5zaXplLm91dGVySGVpZ2h0O1xuICAgIHRoaXMuaG9yaXpvbnRhbENvbEluZGV4ID0gaGFzU2l6ZSA/IGNvbCArIGNvbFNwYW4gOiB0aGlzLmhvcml6b250YWxDb2xJbmRleDtcblxuICAgIHJldHVybiB7XG4gICAgICBjb2w6IGNvbCxcbiAgICAgIHk6IHRoaXMuX2dldENvbEdyb3VwWSggY29sLCBjb2xTcGFuICksXG4gICAgfTtcbiAgfTtcblxuICBwcm90by5fbWFuYWdlU3RhbXAgPSBmdW5jdGlvbiggc3RhbXAgKSB7XG4gICAgdmFyIHN0YW1wU2l6ZSA9IGdldFNpemUoIHN0YW1wICk7XG4gICAgdmFyIG9mZnNldCA9IHRoaXMuX2dldEVsZW1lbnRPZmZzZXQoIHN0YW1wICk7XG4gICAgLy8gZ2V0IHRoZSBjb2x1bW5zIHRoYXQgdGhpcyBzdGFtcCBhZmZlY3RzXG4gICAgdmFyIGlzT3JpZ2luTGVmdCA9IHRoaXMuX2dldE9wdGlvbignb3JpZ2luTGVmdCcpO1xuICAgIHZhciBmaXJzdFggPSBpc09yaWdpbkxlZnQgPyBvZmZzZXQubGVmdCA6IG9mZnNldC5yaWdodDtcbiAgICB2YXIgbGFzdFggPSBmaXJzdFggKyBzdGFtcFNpemUub3V0ZXJXaWR0aDtcbiAgICB2YXIgZmlyc3RDb2wgPSBNYXRoLmZsb29yKCBmaXJzdFggLyB0aGlzLmNvbHVtbldpZHRoICk7XG4gICAgZmlyc3RDb2wgPSBNYXRoLm1heCggMCwgZmlyc3RDb2wgKTtcbiAgICB2YXIgbGFzdENvbCA9IE1hdGguZmxvb3IoIGxhc3RYIC8gdGhpcy5jb2x1bW5XaWR0aCApO1xuICAgIC8vIGxhc3RDb2wgc2hvdWxkIG5vdCBnbyBvdmVyIGlmIG11bHRpcGxlIG9mIGNvbHVtbldpZHRoICM0MjVcbiAgICBsYXN0Q29sIC09IGxhc3RYICUgdGhpcy5jb2x1bW5XaWR0aCA/IDAgOiAxO1xuICAgIGxhc3RDb2wgPSBNYXRoLm1pbiggdGhpcy5jb2xzIC0gMSwgbGFzdENvbCApO1xuICAgIC8vIHNldCBjb2xZcyB0byBib3R0b20gb2YgdGhlIHN0YW1wXG5cbiAgICB2YXIgaXNPcmlnaW5Ub3AgPSB0aGlzLl9nZXRPcHRpb24oJ29yaWdpblRvcCcpO1xuICAgIHZhciBzdGFtcE1heFkgPSAoIGlzT3JpZ2luVG9wID8gb2Zmc2V0LnRvcCA6IG9mZnNldC5ib3R0b20gKSArXG4gICAgICBzdGFtcFNpemUub3V0ZXJIZWlnaHQ7XG4gICAgZm9yICggdmFyIGkgPSBmaXJzdENvbDsgaSA8PSBsYXN0Q29sOyBpKysgKSB7XG4gICAgICB0aGlzLmNvbFlzW2ldID0gTWF0aC5tYXgoIHN0YW1wTWF4WSwgdGhpcy5jb2xZc1tpXSApO1xuICAgIH1cbiAgfTtcblxuICBwcm90by5fZ2V0Q29udGFpbmVyU2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubWF4WSA9IE1hdGgubWF4LmFwcGx5KCBNYXRoLCB0aGlzLmNvbFlzICk7XG4gICAgdmFyIHNpemUgPSB7XG4gICAgICBoZWlnaHQ6IHRoaXMubWF4WVxuICAgIH07XG5cbiAgICBpZiAoIHRoaXMuX2dldE9wdGlvbignZml0V2lkdGgnKSApIHtcbiAgICAgIHNpemUud2lkdGggPSB0aGlzLl9nZXRDb250YWluZXJGaXRXaWR0aCgpO1xuICAgIH1cblxuICAgIHJldHVybiBzaXplO1xuICB9O1xuXG4gIHByb3RvLl9nZXRDb250YWluZXJGaXRXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1bnVzZWRDb2xzID0gMDtcbiAgICAvLyBjb3VudCB1bnVzZWQgY29sdW1uc1xuICAgIHZhciBpID0gdGhpcy5jb2xzO1xuICAgIHdoaWxlICggLS1pICkge1xuICAgICAgaWYgKCB0aGlzLmNvbFlzW2ldICE9PSAwICkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHVudXNlZENvbHMrKztcbiAgICB9XG4gICAgLy8gZml0IGNvbnRhaW5lciB0byBjb2x1bW5zIHRoYXQgaGF2ZSBiZWVuIHVzZWRcbiAgICByZXR1cm4gKCB0aGlzLmNvbHMgLSB1bnVzZWRDb2xzICkgKiB0aGlzLmNvbHVtbldpZHRoIC0gdGhpcy5ndXR0ZXI7XG4gIH07XG5cbiAgcHJvdG8ubmVlZHNSZXNpemVMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcHJldmlvdXNXaWR0aCA9IHRoaXMuY29udGFpbmVyV2lkdGg7XG4gICAgdGhpcy5nZXRDb250YWluZXJXaWR0aCgpO1xuICAgIHJldHVybiBwcmV2aW91c1dpZHRoICE9IHRoaXMuY29udGFpbmVyV2lkdGg7XG4gIH07XG5cbiAgcmV0dXJuIE1hc29ucnk7XG5cbn0pKTtcblxuLyohXG4gKiBNYXNvbnJ5IGxheW91dCBtb2RlXG4gKiBzdWItY2xhc3NlcyBNYXNvbnJ5XG4gKiBodHRwczovL21hc29ucnkuZGVzYW5kcm8uY29tXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCAnaXNvdG9wZS1sYXlvdXQvanMvbGF5b3V0LW1vZGVzL21hc29ucnknLFtcbiAgICAgICAgJy4uL2xheW91dC1tb2RlJyxcbiAgICAgICAgJ21hc29ucnktbGF5b3V0L21hc29ucnknXG4gICAgICBdLFxuICAgICAgZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgcmVxdWlyZSgnLi4vbGF5b3V0LW1vZGUnKSxcbiAgICAgIHJlcXVpcmUoJ21hc29ucnktbGF5b3V0JylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgZmFjdG9yeShcbiAgICAgIHdpbmRvdy5Jc290b3BlLkxheW91dE1vZGUsXG4gICAgICB3aW5kb3cuTWFzb25yeVxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCBMYXlvdXRNb2RlLCBNYXNvbnJ5ICkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBtYXNvbnJ5RGVmaW5pdGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8vIGNyZWF0ZSBhbiBPdXRsYXllciBsYXlvdXQgY2xhc3NcbiAgdmFyIE1hc29ucnlNb2RlID0gTGF5b3V0TW9kZS5jcmVhdGUoJ21hc29ucnknKTtcblxuICB2YXIgcHJvdG8gPSBNYXNvbnJ5TW9kZS5wcm90b3R5cGU7XG5cbiAgdmFyIGtlZXBNb2RlTWV0aG9kcyA9IHtcbiAgICBfZ2V0RWxlbWVudE9mZnNldDogdHJ1ZSxcbiAgICBsYXlvdXQ6IHRydWUsXG4gICAgX2dldE1lYXN1cmVtZW50OiB0cnVlXG4gIH07XG5cbiAgLy8gaW5oZXJpdCBNYXNvbnJ5IHByb3RvdHlwZVxuICBmb3IgKCB2YXIgbWV0aG9kIGluIE1hc29ucnkucHJvdG90eXBlICkge1xuICAgIC8vIGRvIG5vdCBpbmhlcml0IG1vZGUgbWV0aG9kc1xuICAgIGlmICggIWtlZXBNb2RlTWV0aG9kc1sgbWV0aG9kIF0gKSB7XG4gICAgICBwcm90b1sgbWV0aG9kIF0gPSBNYXNvbnJ5LnByb3RvdHlwZVsgbWV0aG9kIF07XG4gICAgfVxuICB9XG5cbiAgdmFyIG1lYXN1cmVDb2x1bW5zID0gcHJvdG8ubWVhc3VyZUNvbHVtbnM7XG4gIHByb3RvLm1lYXN1cmVDb2x1bW5zID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gc2V0IGl0ZW1zLCB1c2VkIGlmIG1lYXN1cmluZyBmaXJzdCBpdGVtXG4gICAgdGhpcy5pdGVtcyA9IHRoaXMuaXNvdG9wZS5maWx0ZXJlZEl0ZW1zO1xuICAgIG1lYXN1cmVDb2x1bW5zLmNhbGwoIHRoaXMgKTtcbiAgfTtcblxuICAvLyBwb2ludCB0byBtb2RlIG9wdGlvbnMgZm9yIGZpdFdpZHRoXG4gIHZhciBfZ2V0T3B0aW9uID0gcHJvdG8uX2dldE9wdGlvbjtcbiAgcHJvdG8uX2dldE9wdGlvbiA9IGZ1bmN0aW9uKCBvcHRpb24gKSB7XG4gICAgaWYgKCBvcHRpb24gPT0gJ2ZpdFdpZHRoJyApIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaXNGaXRXaWR0aCAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgdGhpcy5vcHRpb25zLmlzRml0V2lkdGggOiB0aGlzLm9wdGlvbnMuZml0V2lkdGg7XG4gICAgfVxuICAgIHJldHVybiBfZ2V0T3B0aW9uLmFwcGx5KCB0aGlzLmlzb3RvcGUsIGFyZ3VtZW50cyApO1xuICB9O1xuXG4gIHJldHVybiBNYXNvbnJ5TW9kZTtcblxufSkpO1xuXG4vKipcbiAqIGZpdFJvd3MgbGF5b3V0IG1vZGVcbiAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKmdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoICdpc290b3BlLWxheW91dC9qcy9sYXlvdXQtbW9kZXMvZml0LXJvd3MnLFtcbiAgICAgICAgJy4uL2xheW91dC1tb2RlJ1xuICAgICAgXSxcbiAgICAgIGZhY3RvcnkgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICByZXF1aXJlKCcuLi9sYXlvdXQtbW9kZScpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIGZhY3RvcnkoXG4gICAgICB3aW5kb3cuSXNvdG9wZS5MYXlvdXRNb2RlXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIExheW91dE1vZGUgKSB7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBGaXRSb3dzID0gTGF5b3V0TW9kZS5jcmVhdGUoJ2ZpdFJvd3MnKTtcblxudmFyIHByb3RvID0gRml0Um93cy5wcm90b3R5cGU7XG5cbnByb3RvLl9yZXNldExheW91dCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnggPSAwO1xuICB0aGlzLnkgPSAwO1xuICB0aGlzLm1heFkgPSAwO1xuICB0aGlzLl9nZXRNZWFzdXJlbWVudCggJ2d1dHRlcicsICdvdXRlcldpZHRoJyApO1xufTtcblxucHJvdG8uX2dldEl0ZW1MYXlvdXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCBpdGVtICkge1xuICBpdGVtLmdldFNpemUoKTtcblxuICB2YXIgaXRlbVdpZHRoID0gaXRlbS5zaXplLm91dGVyV2lkdGggKyB0aGlzLmd1dHRlcjtcbiAgLy8gaWYgdGhpcyBlbGVtZW50IGNhbm5vdCBmaXQgaW4gdGhlIGN1cnJlbnQgcm93XG4gIHZhciBjb250YWluZXJXaWR0aCA9IHRoaXMuaXNvdG9wZS5zaXplLmlubmVyV2lkdGggKyB0aGlzLmd1dHRlcjtcbiAgaWYgKCB0aGlzLnggIT09IDAgJiYgaXRlbVdpZHRoICsgdGhpcy54ID4gY29udGFpbmVyV2lkdGggKSB7XG4gICAgdGhpcy54ID0gMDtcbiAgICB0aGlzLnkgPSB0aGlzLm1heFk7XG4gIH1cblxuICB2YXIgcG9zaXRpb24gPSB7XG4gICAgeDogdGhpcy54LFxuICAgIHk6IHRoaXMueVxuICB9O1xuXG4gIHRoaXMubWF4WSA9IE1hdGgubWF4KCB0aGlzLm1heFksIHRoaXMueSArIGl0ZW0uc2l6ZS5vdXRlckhlaWdodCApO1xuICB0aGlzLnggKz0gaXRlbVdpZHRoO1xuXG4gIHJldHVybiBwb3NpdGlvbjtcbn07XG5cbnByb3RvLl9nZXRDb250YWluZXJTaXplID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7IGhlaWdodDogdGhpcy5tYXhZIH07XG59O1xuXG5yZXR1cm4gRml0Um93cztcblxufSkpO1xuXG4vKipcbiAqIHZlcnRpY2FsIGxheW91dCBtb2RlXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCAnaXNvdG9wZS1sYXlvdXQvanMvbGF5b3V0LW1vZGVzL3ZlcnRpY2FsJyxbXG4gICAgICAgICcuLi9sYXlvdXQtbW9kZSdcbiAgICAgIF0sXG4gICAgICBmYWN0b3J5ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICByZXF1aXJlKCcuLi9sYXlvdXQtbW9kZScpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIGZhY3RvcnkoXG4gICAgICB3aW5kb3cuSXNvdG9wZS5MYXlvdXRNb2RlXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIExheW91dE1vZGUgKSB7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBWZXJ0aWNhbCA9IExheW91dE1vZGUuY3JlYXRlKCAndmVydGljYWwnLCB7XG4gIGhvcml6b250YWxBbGlnbm1lbnQ6IDBcbn0pO1xuXG52YXIgcHJvdG8gPSBWZXJ0aWNhbC5wcm90b3R5cGU7XG5cbnByb3RvLl9yZXNldExheW91dCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnkgPSAwO1xufTtcblxucHJvdG8uX2dldEl0ZW1MYXlvdXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCBpdGVtICkge1xuICBpdGVtLmdldFNpemUoKTtcbiAgdmFyIHggPSAoIHRoaXMuaXNvdG9wZS5zaXplLmlubmVyV2lkdGggLSBpdGVtLnNpemUub3V0ZXJXaWR0aCApICpcbiAgICB0aGlzLm9wdGlvbnMuaG9yaXpvbnRhbEFsaWdubWVudDtcbiAgdmFyIHkgPSB0aGlzLnk7XG4gIHRoaXMueSArPSBpdGVtLnNpemUub3V0ZXJIZWlnaHQ7XG4gIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbn07XG5cbnByb3RvLl9nZXRDb250YWluZXJTaXplID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7IGhlaWdodDogdGhpcy55IH07XG59O1xuXG5yZXR1cm4gVmVydGljYWw7XG5cbn0pKTtcblxuLyohXG4gKiBJc290b3BlIHYzLjAuNlxuICpcbiAqIExpY2Vuc2VkIEdQTHYzIGZvciBvcGVuIHNvdXJjZSB1c2VcbiAqIG9yIElzb3RvcGUgQ29tbWVyY2lhbCBMaWNlbnNlIGZvciBjb21tZXJjaWFsIHVzZVxuICpcbiAqIGh0dHBzOi8vaXNvdG9wZS5tZXRhZml6enkuY29cbiAqIENvcHlyaWdodCAyMDEwLTIwMTggTWV0YWZpenp5XG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAgICdvdXRsYXllci9vdXRsYXllcicsXG4gICAgICAgICdnZXQtc2l6ZS9nZXQtc2l6ZScsXG4gICAgICAgICdkZXNhbmRyby1tYXRjaGVzLXNlbGVjdG9yL21hdGNoZXMtc2VsZWN0b3InLFxuICAgICAgICAnZml6enktdWktdXRpbHMvdXRpbHMnLFxuICAgICAgICAnaXNvdG9wZS1sYXlvdXQvanMvaXRlbScsXG4gICAgICAgICdpc290b3BlLWxheW91dC9qcy9sYXlvdXQtbW9kZScsXG4gICAgICAgIC8vIGluY2x1ZGUgZGVmYXVsdCBsYXlvdXQgbW9kZXNcbiAgICAgICAgJ2lzb3RvcGUtbGF5b3V0L2pzL2xheW91dC1tb2Rlcy9tYXNvbnJ5JyxcbiAgICAgICAgJ2lzb3RvcGUtbGF5b3V0L2pzL2xheW91dC1tb2Rlcy9maXQtcm93cycsXG4gICAgICAgICdpc290b3BlLWxheW91dC9qcy9sYXlvdXQtbW9kZXMvdmVydGljYWwnXG4gICAgICBdLFxuICAgICAgZnVuY3Rpb24oIE91dGxheWVyLCBnZXRTaXplLCBtYXRjaGVzU2VsZWN0b3IsIHV0aWxzLCBJdGVtLCBMYXlvdXRNb2RlICkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBPdXRsYXllciwgZ2V0U2l6ZSwgbWF0Y2hlc1NlbGVjdG9yLCB1dGlscywgSXRlbSwgTGF5b3V0TW9kZSApO1xuICAgICAgfSk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICByZXF1aXJlKCdvdXRsYXllcicpLFxuICAgICAgcmVxdWlyZSgnZ2V0LXNpemUnKSxcbiAgICAgIHJlcXVpcmUoJ2Rlc2FuZHJvLW1hdGNoZXMtc2VsZWN0b3InKSxcbiAgICAgIHJlcXVpcmUoJ2Zpenp5LXVpLXV0aWxzJyksXG4gICAgICByZXF1aXJlKCdpc290b3BlLWxheW91dC9qcy9pdGVtJyksXG4gICAgICByZXF1aXJlKCdpc290b3BlLWxheW91dC9qcy9sYXlvdXQtbW9kZScpLFxuICAgICAgLy8gaW5jbHVkZSBkZWZhdWx0IGxheW91dCBtb2Rlc1xuICAgICAgcmVxdWlyZSgnaXNvdG9wZS1sYXlvdXQvanMvbGF5b3V0LW1vZGVzL21hc29ucnknKSxcbiAgICAgIHJlcXVpcmUoJ2lzb3RvcGUtbGF5b3V0L2pzL2xheW91dC1tb2Rlcy9maXQtcm93cycpLFxuICAgICAgcmVxdWlyZSgnaXNvdG9wZS1sYXlvdXQvanMvbGF5b3V0LW1vZGVzL3ZlcnRpY2FsJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93Lklzb3RvcGUgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgd2luZG93Lk91dGxheWVyLFxuICAgICAgd2luZG93LmdldFNpemUsXG4gICAgICB3aW5kb3cubWF0Y2hlc1NlbGVjdG9yLFxuICAgICAgd2luZG93LmZpenp5VUlVdGlscyxcbiAgICAgIHdpbmRvdy5Jc290b3BlLkl0ZW0sXG4gICAgICB3aW5kb3cuSXNvdG9wZS5MYXlvdXRNb2RlXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgT3V0bGF5ZXIsIGdldFNpemUsIG1hdGNoZXNTZWxlY3RvciwgdXRpbHMsXG4gIEl0ZW0sIExheW91dE1vZGUgKSB7XG5cblxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB2YXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbnZhciBqUXVlcnkgPSB3aW5kb3cualF1ZXJ5O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBoZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbnZhciB0cmltID0gU3RyaW5nLnByb3RvdHlwZS50cmltID9cbiAgZnVuY3Rpb24oIHN0ciApIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKTtcbiAgfSA6XG4gIGZ1bmN0aW9uKCBzdHIgKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKCAvXlxccyt8XFxzKyQvZywgJycgKTtcbiAgfTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaXNvdG9wZURlZmluaXRpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAvLyBjcmVhdGUgYW4gT3V0bGF5ZXIgbGF5b3V0IGNsYXNzXG4gIHZhciBJc290b3BlID0gT3V0bGF5ZXIuY3JlYXRlKCAnaXNvdG9wZScsIHtcbiAgICBsYXlvdXRNb2RlOiAnbWFzb25yeScsXG4gICAgaXNKUXVlcnlGaWx0ZXJpbmc6IHRydWUsXG4gICAgc29ydEFzY2VuZGluZzogdHJ1ZVxuICB9KTtcblxuICBJc290b3BlLkl0ZW0gPSBJdGVtO1xuICBJc290b3BlLkxheW91dE1vZGUgPSBMYXlvdXRNb2RlO1xuXG4gIHZhciBwcm90byA9IElzb3RvcGUucHJvdG90eXBlO1xuXG4gIHByb3RvLl9jcmVhdGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLml0ZW1HVUlEID0gMDtcbiAgICAvLyBmdW5jdGlvbnMgdGhhdCBzb3J0IGl0ZW1zXG4gICAgdGhpcy5fc29ydGVycyA9IHt9O1xuICAgIHRoaXMuX2dldFNvcnRlcnMoKTtcbiAgICAvLyBjYWxsIHN1cGVyXG4gICAgT3V0bGF5ZXIucHJvdG90eXBlLl9jcmVhdGUuY2FsbCggdGhpcyApO1xuXG4gICAgLy8gY3JlYXRlIGxheW91dCBtb2Rlc1xuICAgIHRoaXMubW9kZXMgPSB7fTtcbiAgICAvLyBzdGFydCBmaWx0ZXJlZEl0ZW1zIHdpdGggYWxsIGl0ZW1zXG4gICAgdGhpcy5maWx0ZXJlZEl0ZW1zID0gdGhpcy5pdGVtcztcbiAgICAvLyBrZWVwIG9mIHRyYWNrIG9mIHNvcnRCeXNcbiAgICB0aGlzLnNvcnRIaXN0b3J5ID0gWyAnb3JpZ2luYWwtb3JkZXInIF07XG4gICAgLy8gY3JlYXRlIGZyb20gcmVnaXN0ZXJlZCBsYXlvdXQgbW9kZXNcbiAgICBmb3IgKCB2YXIgbmFtZSBpbiBMYXlvdXRNb2RlLm1vZGVzICkge1xuICAgICAgdGhpcy5faW5pdExheW91dE1vZGUoIG5hbWUgKTtcbiAgICB9XG4gIH07XG5cbiAgcHJvdG8ucmVsb2FkSXRlbXMgPSBmdW5jdGlvbigpIHtcbiAgICAvLyByZXNldCBpdGVtIElEIGNvdW50ZXJcbiAgICB0aGlzLml0ZW1HVUlEID0gMDtcbiAgICAvLyBjYWxsIHN1cGVyXG4gICAgT3V0bGF5ZXIucHJvdG90eXBlLnJlbG9hZEl0ZW1zLmNhbGwoIHRoaXMgKTtcbiAgfTtcblxuICBwcm90by5faXRlbWl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IE91dGxheWVyLnByb3RvdHlwZS5faXRlbWl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gICAgLy8gYXNzaWduIElEIGZvciBvcmlnaW5hbC1vcmRlclxuICAgIGZvciAoIHZhciBpPTA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XG4gICAgICBpdGVtLmlkID0gdGhpcy5pdGVtR1VJRCsrO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVJdGVtc1NvcnREYXRhKCBpdGVtcyApO1xuICAgIHJldHVybiBpdGVtcztcbiAgfTtcblxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGxheW91dCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIHByb3RvLl9pbml0TGF5b3V0TW9kZSA9IGZ1bmN0aW9uKCBuYW1lICkge1xuICAgIHZhciBNb2RlID0gTGF5b3V0TW9kZS5tb2Rlc1sgbmFtZSBdO1xuICAgIC8vIHNldCBtb2RlIG9wdGlvbnNcbiAgICAvLyBIQUNLIGV4dGVuZCBpbml0aWFsIG9wdGlvbnMsIGJhY2stZmlsbCBpbiBkZWZhdWx0IG9wdGlvbnNcbiAgICB2YXIgaW5pdGlhbE9wdHMgPSB0aGlzLm9wdGlvbnNbIG5hbWUgXSB8fCB7fTtcbiAgICB0aGlzLm9wdGlvbnNbIG5hbWUgXSA9IE1vZGUub3B0aW9ucyA/XG4gICAgICB1dGlscy5leHRlbmQoIE1vZGUub3B0aW9ucywgaW5pdGlhbE9wdHMgKSA6IGluaXRpYWxPcHRzO1xuICAgIC8vIGluaXQgbGF5b3V0IG1vZGUgaW5zdGFuY2VcbiAgICB0aGlzLm1vZGVzWyBuYW1lIF0gPSBuZXcgTW9kZSggdGhpcyApO1xuICB9O1xuXG5cbiAgcHJvdG8ubGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gaWYgZmlyc3QgdGltZSBkb2luZyBsYXlvdXQsIGRvIGFsbCBtYWdpY1xuICAgIGlmICggIXRoaXMuX2lzTGF5b3V0SW5pdGVkICYmIHRoaXMuX2dldE9wdGlvbignaW5pdExheW91dCcpICkge1xuICAgICAgdGhpcy5hcnJhbmdlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2xheW91dCgpO1xuICB9O1xuXG4gIC8vIHByaXZhdGUgbWV0aG9kIHRvIGJlIHVzZWQgaW4gbGF5b3V0KCkgJiBtYWdpYygpXG4gIHByb3RvLl9sYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBkb24ndCBhbmltYXRlIGZpcnN0IGxheW91dFxuICAgIHZhciBpc0luc3RhbnQgPSB0aGlzLl9nZXRJc0luc3RhbnQoKTtcbiAgICAvLyBsYXlvdXQgZmxvd1xuICAgIHRoaXMuX3Jlc2V0TGF5b3V0KCk7XG4gICAgdGhpcy5fbWFuYWdlU3RhbXBzKCk7XG4gICAgdGhpcy5sYXlvdXRJdGVtcyggdGhpcy5maWx0ZXJlZEl0ZW1zLCBpc0luc3RhbnQgKTtcblxuICAgIC8vIGZsYWcgZm9yIGluaXRhbGl6ZWRcbiAgICB0aGlzLl9pc0xheW91dEluaXRlZCA9IHRydWU7XG4gIH07XG5cbiAgLy8gZmlsdGVyICsgc29ydCArIGxheW91dFxuICBwcm90by5hcnJhbmdlID0gZnVuY3Rpb24oIG9wdHMgKSB7XG4gICAgLy8gc2V0IGFueSBvcHRpb25zIHBhc3NcbiAgICB0aGlzLm9wdGlvbiggb3B0cyApO1xuICAgIHRoaXMuX2dldElzSW5zdGFudCgpO1xuICAgIC8vIGZpbHRlciwgc29ydCwgYW5kIGxheW91dFxuXG4gICAgLy8gZmlsdGVyXG4gICAgdmFyIGZpbHRlcmVkID0gdGhpcy5fZmlsdGVyKCB0aGlzLml0ZW1zICk7XG4gICAgdGhpcy5maWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWQubWF0Y2hlcztcblxuICAgIHRoaXMuX2JpbmRBcnJhbmdlQ29tcGxldGUoKTtcblxuICAgIGlmICggdGhpcy5faXNJbnN0YW50ICkge1xuICAgICAgdGhpcy5fbm9UcmFuc2l0aW9uKCB0aGlzLl9oaWRlUmV2ZWFsLCBbIGZpbHRlcmVkIF0gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZVJldmVhbCggZmlsdGVyZWQgKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zb3J0KCk7XG4gICAgdGhpcy5fbGF5b3V0KCk7XG4gIH07XG4gIC8vIGFsaWFzIHRvIF9pbml0IGZvciBtYWluIHBsdWdpbiBtZXRob2RcbiAgcHJvdG8uX2luaXQgPSBwcm90by5hcnJhbmdlO1xuXG4gIHByb3RvLl9oaWRlUmV2ZWFsID0gZnVuY3Rpb24oIGZpbHRlcmVkICkge1xuICAgIHRoaXMucmV2ZWFsKCBmaWx0ZXJlZC5uZWVkUmV2ZWFsICk7XG4gICAgdGhpcy5oaWRlKCBmaWx0ZXJlZC5uZWVkSGlkZSApO1xuICB9O1xuXG4gIC8vIEhBQ0tcbiAgLy8gRG9uJ3QgYW5pbWF0ZS90cmFuc2l0aW9uIGZpcnN0IGxheW91dFxuICAvLyBPciBkb24ndCBhbmltYXRlL3RyYW5zaXRpb24gb3RoZXIgbGF5b3V0c1xuICBwcm90by5fZ2V0SXNJbnN0YW50ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlzTGF5b3V0SW5zdGFudCA9IHRoaXMuX2dldE9wdGlvbignbGF5b3V0SW5zdGFudCcpO1xuICAgIHZhciBpc0luc3RhbnQgPSBpc0xheW91dEluc3RhbnQgIT09IHVuZGVmaW5lZCA/IGlzTGF5b3V0SW5zdGFudCA6XG4gICAgICAhdGhpcy5faXNMYXlvdXRJbml0ZWQ7XG4gICAgdGhpcy5faXNJbnN0YW50ID0gaXNJbnN0YW50O1xuICAgIHJldHVybiBpc0luc3RhbnQ7XG4gIH07XG5cbiAgLy8gbGlzdGVuIGZvciBsYXlvdXRDb21wbGV0ZSwgaGlkZUNvbXBsZXRlIGFuZCByZXZlYWxDb21wbGV0ZVxuICAvLyB0byB0cmlnZ2VyIGFycmFuZ2VDb21wbGV0ZVxuICBwcm90by5fYmluZEFycmFuZ2VDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIGxpc3RlbiBmb3IgMyBldmVudHMgdG8gdHJpZ2dlciBhcnJhbmdlQ29tcGxldGVcbiAgICB2YXIgaXNMYXlvdXRDb21wbGV0ZSwgaXNIaWRlQ29tcGxldGUsIGlzUmV2ZWFsQ29tcGxldGU7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBmdW5jdGlvbiBhcnJhbmdlUGFyYWxsZWxDYWxsYmFjaygpIHtcbiAgICAgIGlmICggaXNMYXlvdXRDb21wbGV0ZSAmJiBpc0hpZGVDb21wbGV0ZSAmJiBpc1JldmVhbENvbXBsZXRlICkge1xuICAgICAgICBfdGhpcy5kaXNwYXRjaEV2ZW50KCAnYXJyYW5nZUNvbXBsZXRlJywgbnVsbCwgWyBfdGhpcy5maWx0ZXJlZEl0ZW1zIF0gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5vbmNlKCAnbGF5b3V0Q29tcGxldGUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlzTGF5b3V0Q29tcGxldGUgPSB0cnVlO1xuICAgICAgYXJyYW5nZVBhcmFsbGVsQ2FsbGJhY2soKTtcbiAgICB9KTtcbiAgICB0aGlzLm9uY2UoICdoaWRlQ29tcGxldGUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlzSGlkZUNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgIGFycmFuZ2VQYXJhbGxlbENhbGxiYWNrKCk7XG4gICAgfSk7XG4gICAgdGhpcy5vbmNlKCAncmV2ZWFsQ29tcGxldGUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlzUmV2ZWFsQ29tcGxldGUgPSB0cnVlO1xuICAgICAgYXJyYW5nZVBhcmFsbGVsQ2FsbGJhY2soKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBmaWx0ZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICBwcm90by5fZmlsdGVyID0gZnVuY3Rpb24oIGl0ZW1zICkge1xuICAgIHZhciBmaWx0ZXIgPSB0aGlzLm9wdGlvbnMuZmlsdGVyO1xuICAgIGZpbHRlciA9IGZpbHRlciB8fCAnKic7XG4gICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICB2YXIgaGlkZGVuTWF0Y2hlZCA9IFtdO1xuICAgIHZhciB2aXNpYmxlVW5tYXRjaGVkID0gW107XG5cbiAgICB2YXIgdGVzdCA9IHRoaXMuX2dldEZpbHRlclRlc3QoIGZpbHRlciApO1xuXG4gICAgLy8gdGVzdCBlYWNoIGl0ZW1cbiAgICBmb3IgKCB2YXIgaT0wOyBpIDwgaXRlbXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgaWYgKCBpdGVtLmlzSWdub3JlZCApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyBhZGQgaXRlbSB0byBlaXRoZXIgbWF0Y2hlZCBvciB1bm1hdGNoZWQgZ3JvdXBcbiAgICAgIHZhciBpc01hdGNoZWQgPSB0ZXN0KCBpdGVtICk7XG4gICAgICAvLyBpdGVtLmlzRmlsdGVyTWF0Y2hlZCA9IGlzTWF0Y2hlZDtcbiAgICAgIC8vIGFkZCB0byBtYXRjaGVzIGlmIGl0cyBhIG1hdGNoXG4gICAgICBpZiAoIGlzTWF0Y2hlZCApIHtcbiAgICAgICAgbWF0Y2hlcy5wdXNoKCBpdGVtICk7XG4gICAgICB9XG4gICAgICAvLyBhZGQgdG8gYWRkaXRpb25hbCBncm91cCBpZiBpdGVtIG5lZWRzIHRvIGJlIGhpZGRlbiBvciByZXZlYWxlZFxuICAgICAgaWYgKCBpc01hdGNoZWQgJiYgaXRlbS5pc0hpZGRlbiApIHtcbiAgICAgICAgaGlkZGVuTWF0Y2hlZC5wdXNoKCBpdGVtICk7XG4gICAgICB9IGVsc2UgaWYgKCAhaXNNYXRjaGVkICYmICFpdGVtLmlzSGlkZGVuICkge1xuICAgICAgICB2aXNpYmxlVW5tYXRjaGVkLnB1c2goIGl0ZW0gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZXR1cm4gY29sbGVjdGlvbnMgb2YgaXRlbXMgdG8gYmUgbWFuaXB1bGF0ZWRcbiAgICByZXR1cm4ge1xuICAgICAgbWF0Y2hlczogbWF0Y2hlcyxcbiAgICAgIG5lZWRSZXZlYWw6IGhpZGRlbk1hdGNoZWQsXG4gICAgICBuZWVkSGlkZTogdmlzaWJsZVVubWF0Y2hlZFxuICAgIH07XG4gIH07XG5cbiAgLy8gZ2V0IGEgalF1ZXJ5LCBmdW5jdGlvbiwgb3IgYSBtYXRjaGVzU2VsZWN0b3IgdGVzdCBnaXZlbiB0aGUgZmlsdGVyXG4gIHByb3RvLl9nZXRGaWx0ZXJUZXN0ID0gZnVuY3Rpb24oIGZpbHRlciApIHtcbiAgICBpZiAoIGpRdWVyeSAmJiB0aGlzLm9wdGlvbnMuaXNKUXVlcnlGaWx0ZXJpbmcgKSB7XG4gICAgICAvLyB1c2UgalF1ZXJ5XG4gICAgICByZXR1cm4gZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgICAgIHJldHVybiBqUXVlcnkoIGl0ZW0uZWxlbWVudCApLmlzKCBmaWx0ZXIgKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICggdHlwZW9mIGZpbHRlciA9PSAnZnVuY3Rpb24nICkge1xuICAgICAgLy8gdXNlIGZpbHRlciBhcyBmdW5jdGlvblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCBpdGVtICkge1xuICAgICAgICByZXR1cm4gZmlsdGVyKCBpdGVtLmVsZW1lbnQgKTtcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIGRlZmF1bHQsIHVzZSBmaWx0ZXIgYXMgc2VsZWN0b3Igc3RyaW5nXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCBpdGVtICkge1xuICAgICAgcmV0dXJuIG1hdGNoZXNTZWxlY3RvciggaXRlbS5lbGVtZW50LCBmaWx0ZXIgKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHNvcnRpbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAvKipcbiAgICogQHBhcmFtcyB7QXJyYXl9IGVsZW1zXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHByb3RvLnVwZGF0ZVNvcnREYXRhID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICAgIC8vIGdldCBpdGVtc1xuICAgIHZhciBpdGVtcztcbiAgICBpZiAoIGVsZW1zICkge1xuICAgICAgZWxlbXMgPSB1dGlscy5tYWtlQXJyYXkoIGVsZW1zICk7XG4gICAgICBpdGVtcyA9IHRoaXMuZ2V0SXRlbXMoIGVsZW1zICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVwZGF0ZSBhbGwgaXRlbXMgaWYgbm8gZWxlbXMgcHJvdmlkZWRcbiAgICAgIGl0ZW1zID0gdGhpcy5pdGVtcztcbiAgICB9XG5cbiAgICB0aGlzLl9nZXRTb3J0ZXJzKCk7XG4gICAgdGhpcy5fdXBkYXRlSXRlbXNTb3J0RGF0YSggaXRlbXMgKTtcbiAgfTtcblxuICBwcm90by5fZ2V0U29ydGVycyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBnZXRTb3J0RGF0YSA9IHRoaXMub3B0aW9ucy5nZXRTb3J0RGF0YTtcbiAgICBmb3IgKCB2YXIga2V5IGluIGdldFNvcnREYXRhICkge1xuICAgICAgdmFyIHNvcnRlciA9IGdldFNvcnREYXRhWyBrZXkgXTtcbiAgICAgIHRoaXMuX3NvcnRlcnNbIGtleSBdID0gbXVuZ2VTb3J0ZXIoIHNvcnRlciApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtcyB7QXJyYXl9IGl0ZW1zIC0gb2YgSXNvdG9wZS5JdGVtc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJvdG8uX3VwZGF0ZUl0ZW1zU29ydERhdGEgPSBmdW5jdGlvbiggaXRlbXMgKSB7XG4gICAgLy8gZG8gbm90IHVwZGF0ZSBpZiBubyBpdGVtc1xuICAgIHZhciBsZW4gPSBpdGVtcyAmJiBpdGVtcy5sZW5ndGg7XG5cbiAgICBmb3IgKCB2YXIgaT0wOyBsZW4gJiYgaSA8IGxlbjsgaSsrICkge1xuICAgICAgdmFyIGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgIGl0ZW0udXBkYXRlU29ydERhdGEoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gLS0tLS0gbXVuZ2Ugc29ydGVyIC0tLS0tIC8vXG5cbiAgLy8gZW5jYXBzdWxhdGUgdGhpcywgYXMgd2UganVzdCBuZWVkIG11bmdlU29ydGVyXG4gIC8vIG90aGVyIGZ1bmN0aW9ucyBpbiBoZXJlIGFyZSBqdXN0IGZvciBtdW5naW5nXG4gIHZhciBtdW5nZVNvcnRlciA9ICggZnVuY3Rpb24oKSB7XG4gICAgLy8gYWRkIGEgbWFnaWMgbGF5ZXIgdG8gc29ydGVycyBmb3IgY29udmllbmVudCBzaG9ydGhhbmRzXG4gICAgLy8gYC5mb28tYmFyYCB3aWxsIHVzZSB0aGUgdGV4dCBvZiAuZm9vLWJhciBxdWVyeVNlbGVjdG9yXG4gICAgLy8gYFtmb28tYmFyXWAgd2lsbCB1c2UgYXR0cmlidXRlXG4gICAgLy8geW91IGNhbiBhbHNvIGFkZCBwYXJzZXJcbiAgICAvLyBgLmZvby1iYXIgcGFyc2VJbnRgIHdpbGwgcGFyc2UgdGhhdCBhcyBhIG51bWJlclxuICAgIGZ1bmN0aW9uIG11bmdlU29ydGVyKCBzb3J0ZXIgKSB7XG4gICAgICAvLyBpZiBub3QgYSBzdHJpbmcsIHJldHVybiBmdW5jdGlvbiBvciB3aGF0ZXZlciBpdCBpc1xuICAgICAgaWYgKCB0eXBlb2Ygc29ydGVyICE9ICdzdHJpbmcnICkge1xuICAgICAgICByZXR1cm4gc29ydGVyO1xuICAgICAgfVxuICAgICAgLy8gcGFyc2UgdGhlIHNvcnRlciBzdHJpbmdcbiAgICAgIHZhciBhcmdzID0gdHJpbSggc29ydGVyICkuc3BsaXQoJyAnKTtcbiAgICAgIHZhciBxdWVyeSA9IGFyZ3NbMF07XG4gICAgICAvLyBjaGVjayBpZiBxdWVyeSBsb29rcyBsaWtlIFthbi1hdHRyaWJ1dGVdXG4gICAgICB2YXIgYXR0ck1hdGNoID0gcXVlcnkubWF0Y2goIC9eXFxbKC4rKVxcXSQvICk7XG4gICAgICB2YXIgYXR0ciA9IGF0dHJNYXRjaCAmJiBhdHRyTWF0Y2hbMV07XG4gICAgICB2YXIgZ2V0VmFsdWUgPSBnZXRWYWx1ZUdldHRlciggYXR0ciwgcXVlcnkgKTtcbiAgICAgIC8vIHVzZSBzZWNvbmQgYXJndW1lbnQgYXMgYSBwYXJzZXJcbiAgICAgIHZhciBwYXJzZXIgPSBJc290b3BlLnNvcnREYXRhUGFyc2Vyc1sgYXJnc1sxXSBdO1xuICAgICAgLy8gcGFyc2UgdGhlIHZhbHVlLCBpZiB0aGVyZSB3YXMgYSBwYXJzZXJcbiAgICAgIHNvcnRlciA9IHBhcnNlciA/IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgICByZXR1cm4gZWxlbSAmJiBwYXJzZXIoIGdldFZhbHVlKCBlbGVtICkgKTtcbiAgICAgIH0gOlxuICAgICAgLy8gb3RoZXJ3aXNlIGp1c3QgcmV0dXJuIHZhbHVlXG4gICAgICBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgICAgcmV0dXJuIGVsZW0gJiYgZ2V0VmFsdWUoIGVsZW0gKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBzb3J0ZXI7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGFuIGF0dHJpYnV0ZSBnZXR0ZXIsIG9yIGdldCB0ZXh0IG9mIHRoZSBxdWVyeVNlbGVjdG9yXG4gICAgZnVuY3Rpb24gZ2V0VmFsdWVHZXR0ZXIoIGF0dHIsIHF1ZXJ5ICkge1xuICAgICAgLy8gaWYgcXVlcnkgbG9va3MgbGlrZSBbZm9vLWJhcl0sIGdldCBhdHRyaWJ1dGVcbiAgICAgIGlmICggYXR0ciApIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZSggZWxlbSApIHtcbiAgICAgICAgICByZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIGF0dHIgKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gb3RoZXJ3aXNlLCBhc3N1bWUgaXRzIGEgcXVlcnlTZWxlY3RvciwgYW5kIGdldCBpdHMgdGV4dFxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGdldENoaWxkVGV4dCggZWxlbSApIHtcbiAgICAgICAgdmFyIGNoaWxkID0gZWxlbS5xdWVyeVNlbGVjdG9yKCBxdWVyeSApO1xuICAgICAgICByZXR1cm4gY2hpbGQgJiYgY2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBtdW5nZVNvcnRlcjtcbiAgfSkoKTtcblxuICAvLyBwYXJzZXJzIHVzZWQgaW4gZ2V0U29ydERhdGEgc2hvcnRjdXQgc3RyaW5nc1xuICBJc290b3BlLnNvcnREYXRhUGFyc2VycyA9IHtcbiAgICAncGFyc2VJbnQnOiBmdW5jdGlvbiggdmFsICkge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KCB2YWwsIDEwICk7XG4gICAgfSxcbiAgICAncGFyc2VGbG9hdCc6IGZ1bmN0aW9uKCB2YWwgKSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCggdmFsICk7XG4gICAgfVxuICB9O1xuXG4gIC8vIC0tLS0tIHNvcnQgbWV0aG9kIC0tLS0tIC8vXG5cbiAgLy8gc29ydCBmaWx0ZXJlZEl0ZW0gb3JkZXJcbiAgcHJvdG8uX3NvcnQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoICF0aGlzLm9wdGlvbnMuc29ydEJ5ICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBrZWVwIHRyYWNrIG9mIHNvcnRCeSBIaXN0b3J5XG4gICAgdmFyIHNvcnRCeXMgPSB1dGlscy5tYWtlQXJyYXkoIHRoaXMub3B0aW9ucy5zb3J0QnkgKTtcbiAgICBpZiAoICF0aGlzLl9nZXRJc1NhbWVTb3J0QnkoIHNvcnRCeXMgKSApIHtcbiAgICAgIC8vIGNvbmNhdCBhbGwgc29ydEJ5IGFuZCBzb3J0SGlzdG9yeSwgYWRkIHRvIGZyb250LCBvbGRlc3QgZ29lcyBpbiBsYXN0XG4gICAgICB0aGlzLnNvcnRIaXN0b3J5ID0gc29ydEJ5cy5jb25jYXQoIHRoaXMuc29ydEhpc3RvcnkgKTtcbiAgICB9XG4gICAgLy8gc29ydCBtYWdpY1xuICAgIHZhciBpdGVtU29ydGVyID0gZ2V0SXRlbVNvcnRlciggdGhpcy5zb3J0SGlzdG9yeSwgdGhpcy5vcHRpb25zLnNvcnRBc2NlbmRpbmcgKTtcbiAgICB0aGlzLmZpbHRlcmVkSXRlbXMuc29ydCggaXRlbVNvcnRlciApO1xuICB9O1xuXG4gIC8vIGNoZWNrIGlmIHNvcnRCeXMgaXMgc2FtZSBhcyBzdGFydCBvZiBzb3J0SGlzdG9yeVxuICBwcm90by5fZ2V0SXNTYW1lU29ydEJ5ID0gZnVuY3Rpb24oIHNvcnRCeXMgKSB7XG4gICAgZm9yICggdmFyIGk9MDsgaSA8IHNvcnRCeXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICBpZiAoIHNvcnRCeXNbaV0gIT0gdGhpcy5zb3J0SGlzdG9yeVtpXSApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyByZXR1cm5zIGEgZnVuY3Rpb24gdXNlZCBmb3Igc29ydGluZ1xuICBmdW5jdGlvbiBnZXRJdGVtU29ydGVyKCBzb3J0QnlzLCBzb3J0QXNjICkge1xuICAgIHJldHVybiBmdW5jdGlvbiBzb3J0ZXIoIGl0ZW1BLCBpdGVtQiApIHtcbiAgICAgIC8vIGN5Y2xlIHRocm91Z2ggYWxsIHNvcnRLZXlzXG4gICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBzb3J0QnlzLmxlbmd0aDsgaSsrICkge1xuICAgICAgICB2YXIgc29ydEJ5ID0gc29ydEJ5c1tpXTtcbiAgICAgICAgdmFyIGEgPSBpdGVtQS5zb3J0RGF0YVsgc29ydEJ5IF07XG4gICAgICAgIHZhciBiID0gaXRlbUIuc29ydERhdGFbIHNvcnRCeSBdO1xuICAgICAgICBpZiAoIGEgPiBiIHx8IGEgPCBiICkge1xuICAgICAgICAgIC8vIGlmIHNvcnRBc2MgaXMgYW4gb2JqZWN0LCB1c2UgdGhlIHZhbHVlIGdpdmVuIHRoZSBzb3J0Qnkga2V5XG4gICAgICAgICAgdmFyIGlzQXNjZW5kaW5nID0gc29ydEFzY1sgc29ydEJ5IF0gIT09IHVuZGVmaW5lZCA/IHNvcnRBc2NbIHNvcnRCeSBdIDogc29ydEFzYztcbiAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gaXNBc2NlbmRpbmcgPyAxIDogLTE7XG4gICAgICAgICAgcmV0dXJuICggYSA+IGIgPyAxIDogLTEgKSAqIGRpcmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIG1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAvLyBnZXQgbGF5b3V0IG1vZGVcbiAgcHJvdG8uX21vZGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGF5b3V0TW9kZSA9IHRoaXMub3B0aW9ucy5sYXlvdXRNb2RlO1xuICAgIHZhciBtb2RlID0gdGhpcy5tb2Rlc1sgbGF5b3V0TW9kZSBdO1xuICAgIGlmICggIW1vZGUgKSB7XG4gICAgICAvLyBUT0RPIGNvbnNvbGUuZXJyb3JcbiAgICAgIHRocm93IG5ldyBFcnJvciggJ05vIGxheW91dCBtb2RlOiAnICsgbGF5b3V0TW9kZSApO1xuICAgIH1cbiAgICAvLyBIQUNLIHN5bmMgbW9kZSdzIG9wdGlvbnNcbiAgICAvLyBhbnkgb3B0aW9ucyBzZXQgYWZ0ZXIgaW5pdCBmb3IgbGF5b3V0IG1vZGUgbmVlZCB0byBiZSBzeW5jZWRcbiAgICBtb2RlLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnNbIGxheW91dE1vZGUgXTtcbiAgICByZXR1cm4gbW9kZTtcbiAgfTtcblxuICBwcm90by5fcmVzZXRMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAvLyB0cmlnZ2VyIG9yaWdpbmFsIHJlc2V0IGxheW91dFxuICAgIE91dGxheWVyLnByb3RvdHlwZS5fcmVzZXRMYXlvdXQuY2FsbCggdGhpcyApO1xuICAgIHRoaXMuX21vZGUoKS5fcmVzZXRMYXlvdXQoKTtcbiAgfTtcblxuICBwcm90by5fZ2V0SXRlbUxheW91dFBvc2l0aW9uID0gZnVuY3Rpb24oIGl0ZW0gICkge1xuICAgIHJldHVybiB0aGlzLl9tb2RlKCkuX2dldEl0ZW1MYXlvdXRQb3NpdGlvbiggaXRlbSApO1xuICB9O1xuXG4gIHByb3RvLl9tYW5hZ2VTdGFtcCA9IGZ1bmN0aW9uKCBzdGFtcCApIHtcbiAgICB0aGlzLl9tb2RlKCkuX21hbmFnZVN0YW1wKCBzdGFtcCApO1xuICB9O1xuXG4gIHByb3RvLl9nZXRDb250YWluZXJTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX21vZGUoKS5fZ2V0Q29udGFpbmVyU2l6ZSgpO1xuICB9O1xuXG4gIHByb3RvLm5lZWRzUmVzaXplTGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX21vZGUoKS5uZWVkc1Jlc2l6ZUxheW91dCgpO1xuICB9O1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGFkZGluZyAmIHJlbW92aW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgLy8gSEVBRFMgVVAgb3ZlcndyaXRlcyBkZWZhdWx0IE91dGxheWVyIGFwcGVuZGVkXG4gIHByb3RvLmFwcGVuZGVkID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICAgIHZhciBpdGVtcyA9IHRoaXMuYWRkSXRlbXMoIGVsZW1zICk7XG4gICAgaWYgKCAhaXRlbXMubGVuZ3RoICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBmaWx0ZXIsIGxheW91dCwgcmV2ZWFsIG5ldyBpdGVtc1xuICAgIHZhciBmaWx0ZXJlZEl0ZW1zID0gdGhpcy5fZmlsdGVyUmV2ZWFsQWRkZWQoIGl0ZW1zICk7XG4gICAgLy8gYWRkIHRvIGZpbHRlcmVkSXRlbXNcbiAgICB0aGlzLmZpbHRlcmVkSXRlbXMgPSB0aGlzLmZpbHRlcmVkSXRlbXMuY29uY2F0KCBmaWx0ZXJlZEl0ZW1zICk7XG4gIH07XG5cbiAgLy8gSEVBRFMgVVAgb3ZlcndyaXRlcyBkZWZhdWx0IE91dGxheWVyIHByZXBlbmRlZFxuICBwcm90by5wcmVwZW5kZWQgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gICAgdmFyIGl0ZW1zID0gdGhpcy5faXRlbWl6ZSggZWxlbXMgKTtcbiAgICBpZiAoICFpdGVtcy5sZW5ndGggKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHN0YXJ0IG5ldyBsYXlvdXRcbiAgICB0aGlzLl9yZXNldExheW91dCgpO1xuICAgIHRoaXMuX21hbmFnZVN0YW1wcygpO1xuICAgIC8vIGZpbHRlciwgbGF5b3V0LCByZXZlYWwgbmV3IGl0ZW1zXG4gICAgdmFyIGZpbHRlcmVkSXRlbXMgPSB0aGlzLl9maWx0ZXJSZXZlYWxBZGRlZCggaXRlbXMgKTtcbiAgICAvLyBsYXlvdXQgcHJldmlvdXMgaXRlbXNcbiAgICB0aGlzLmxheW91dEl0ZW1zKCB0aGlzLmZpbHRlcmVkSXRlbXMgKTtcbiAgICAvLyBhZGQgdG8gaXRlbXMgYW5kIGZpbHRlcmVkSXRlbXNcbiAgICB0aGlzLmZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLmNvbmNhdCggdGhpcy5maWx0ZXJlZEl0ZW1zICk7XG4gICAgdGhpcy5pdGVtcyA9IGl0ZW1zLmNvbmNhdCggdGhpcy5pdGVtcyApO1xuICB9O1xuXG4gIHByb3RvLl9maWx0ZXJSZXZlYWxBZGRlZCA9IGZ1bmN0aW9uKCBpdGVtcyApIHtcbiAgICB2YXIgZmlsdGVyZWQgPSB0aGlzLl9maWx0ZXIoIGl0ZW1zICk7XG4gICAgdGhpcy5oaWRlKCBmaWx0ZXJlZC5uZWVkSGlkZSApO1xuICAgIC8vIHJldmVhbCBhbGwgbmV3IGl0ZW1zXG4gICAgdGhpcy5yZXZlYWwoIGZpbHRlcmVkLm1hdGNoZXMgKTtcbiAgICAvLyBsYXlvdXQgbmV3IGl0ZW1zLCBubyB0cmFuc2l0aW9uXG4gICAgdGhpcy5sYXlvdXRJdGVtcyggZmlsdGVyZWQubWF0Y2hlcywgdHJ1ZSApO1xuICAgIHJldHVybiBmaWx0ZXJlZC5tYXRjaGVzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGaWx0ZXIsIHNvcnQsIGFuZCBsYXlvdXQgbmV3bHktYXBwZW5kZWQgaXRlbSBlbGVtZW50c1xuICAgKiBAcGFyYW0ge0FycmF5IG9yIE5vZGVMaXN0IG9yIEVsZW1lbnR9IGVsZW1zXG4gICAqL1xuICBwcm90by5pbnNlcnQgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gICAgdmFyIGl0ZW1zID0gdGhpcy5hZGRJdGVtcyggZWxlbXMgKTtcbiAgICBpZiAoICFpdGVtcy5sZW5ndGggKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGFwcGVuZCBpdGVtIGVsZW1lbnRzXG4gICAgdmFyIGksIGl0ZW07XG4gICAgdmFyIGxlbiA9IGl0ZW1zLmxlbmd0aDtcbiAgICBmb3IgKCBpPTA7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgIGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCggaXRlbS5lbGVtZW50ICk7XG4gICAgfVxuICAgIC8vIGZpbHRlciBuZXcgc3R1ZmZcbiAgICB2YXIgZmlsdGVyZWRJbnNlcnRJdGVtcyA9IHRoaXMuX2ZpbHRlciggaXRlbXMgKS5tYXRjaGVzO1xuICAgIC8vIHNldCBmbGFnXG4gICAgZm9yICggaT0wOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgICBpdGVtc1tpXS5pc0xheW91dEluc3RhbnQgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLmFycmFuZ2UoKTtcbiAgICAvLyByZXNldCBmbGFnXG4gICAgZm9yICggaT0wOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgICBkZWxldGUgaXRlbXNbaV0uaXNMYXlvdXRJbnN0YW50O1xuICAgIH1cbiAgICB0aGlzLnJldmVhbCggZmlsdGVyZWRJbnNlcnRJdGVtcyApO1xuICB9O1xuXG4gIHZhciBfcmVtb3ZlID0gcHJvdG8ucmVtb3ZlO1xuICBwcm90by5yZW1vdmUgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gICAgZWxlbXMgPSB1dGlscy5tYWtlQXJyYXkoIGVsZW1zICk7XG4gICAgdmFyIHJlbW92ZUl0ZW1zID0gdGhpcy5nZXRJdGVtcyggZWxlbXMgKTtcbiAgICAvLyBkbyByZWd1bGFyIHRoaW5nXG4gICAgX3JlbW92ZS5jYWxsKCB0aGlzLCBlbGVtcyApO1xuICAgIC8vIGJhaWwgaWYgbm8gaXRlbXMgdG8gcmVtb3ZlXG4gICAgdmFyIGxlbiA9IHJlbW92ZUl0ZW1zICYmIHJlbW92ZUl0ZW1zLmxlbmd0aDtcbiAgICAvLyByZW1vdmUgZWxlbXMgZnJvbSBmaWx0ZXJlZEl0ZW1zXG4gICAgZm9yICggdmFyIGk9MDsgbGVuICYmIGkgPCBsZW47IGkrKyApIHtcbiAgICAgIHZhciBpdGVtID0gcmVtb3ZlSXRlbXNbaV07XG4gICAgICAvLyByZW1vdmUgaXRlbSBmcm9tIGNvbGxlY3Rpb25cbiAgICAgIHV0aWxzLnJlbW92ZUZyb20oIHRoaXMuZmlsdGVyZWRJdGVtcywgaXRlbSApO1xuICAgIH1cbiAgfTtcblxuICBwcm90by5zaHVmZmxlID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gdXBkYXRlIHJhbmRvbSBzb3J0RGF0YVxuICAgIGZvciAoIHZhciBpPTA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrICkge1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW2ldO1xuICAgICAgaXRlbS5zb3J0RGF0YS5yYW5kb20gPSBNYXRoLnJhbmRvbSgpO1xuICAgIH1cbiAgICB0aGlzLm9wdGlvbnMuc29ydEJ5ID0gJ3JhbmRvbSc7XG4gICAgdGhpcy5fc29ydCgpO1xuICAgIHRoaXMuX2xheW91dCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiB0cmlnZ2VyIGZuIHdpdGhvdXQgdHJhbnNpdGlvblxuICAgKiBraW5kIG9mIGhhY2t5IHRvIGhhdmUgdGhpcyBpbiB0aGUgZmlyc3QgcGxhY2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAgICogQHBhcmFtIHtBcnJheX0gYXJnc1xuICAgKiBAcmV0dXJucyByZXRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByb3RvLl9ub1RyYW5zaXRpb24gPSBmdW5jdGlvbiggZm4sIGFyZ3MgKSB7XG4gICAgLy8gc2F2ZSB0cmFuc2l0aW9uRHVyYXRpb24gYmVmb3JlIGRpc2FibGluZ1xuICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbkR1cmF0aW9uO1xuICAgIC8vIGRpc2FibGUgdHJhbnNpdGlvblxuICAgIHRoaXMub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb24gPSAwO1xuICAgIC8vIGRvIGl0XG4gICAgdmFyIHJldHVyblZhbHVlID0gZm4uYXBwbHkoIHRoaXMsIGFyZ3MgKTtcbiAgICAvLyByZS1lbmFibGUgdHJhbnNpdGlvbiBmb3IgcmV2ZWFsXG4gICAgdGhpcy5vcHRpb25zLnRyYW5zaXRpb25EdXJhdGlvbiA9IHRyYW5zaXRpb25EdXJhdGlvbjtcbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH07XG5cbiAgLy8gLS0tLS0gaGVscGVyIG1ldGhvZHMgLS0tLS0gLy9cblxuICAvKipcbiAgICogZ2V0dGVyIG1ldGhvZCBmb3IgZ2V0dGluZyBmaWx0ZXJlZCBpdGVtIGVsZW1lbnRzXG4gICAqIEByZXR1cm5zIHtBcnJheX0gZWxlbXMgLSBjb2xsZWN0aW9uIG9mIGl0ZW0gZWxlbWVudHNcbiAgICovXG4gIHByb3RvLmdldEZpbHRlcmVkSXRlbUVsZW1lbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRJdGVtcy5tYXAoIGZ1bmN0aW9uKCBpdGVtICkge1xuICAgICAgcmV0dXJuIGl0ZW0uZWxlbWVudDtcbiAgICB9KTtcbiAgfTtcblxuICAvLyAtLS0tLSAgLS0tLS0gLy9cblxuICByZXR1cm4gSXNvdG9wZTtcblxufSkpO1xuXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGpRdWVyeTsiLCJ2YXIgVmFuaWxsYVRpbHQgPSAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGVkIGJ5IFNlcmdpdSDImGFuZG9yIChtaWNrdTd6dSkgb24gMS8yNy8yMDE3LlxuICAgICAqIE9yaWdpbmFsIGlkZWE6IGh0dHBzOi8vZ2l0aHViLmNvbS9naWpzcm9nZS90aWx0LmpzXG4gICAgICogTUlUIExpY2Vuc2UuXG4gICAgICogVmVyc2lvbiAxLjcuMFxuICAgICAqL1xuICAgIFxuICAgIGNsYXNzIFZhbmlsbGFUaWx0IHtcbiAgICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHNldHRpbmdzID0ge30pIHtcbiAgICAgICAgaWYgKCEoZWxlbWVudCBpbnN0YW5jZW9mIE5vZGUpKSB7XG4gICAgICAgICAgdGhyb3cgKFwiQ2FuJ3QgaW5pdGlhbGl6ZSBWYW5pbGxhVGlsdCBiZWNhdXNlIFwiICsgZWxlbWVudCArIFwiIGlzIG5vdCBhIE5vZGUuXCIpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHRoaXMud2lkdGggPSBudWxsO1xuICAgICAgICB0aGlzLmhlaWdodCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2xpZW50V2lkdGggPSBudWxsO1xuICAgICAgICB0aGlzLmNsaWVudEhlaWdodCA9IG51bGw7XG4gICAgICAgIHRoaXMubGVmdCA9IG51bGw7XG4gICAgICAgIHRoaXMudG9wID0gbnVsbDtcbiAgICBcbiAgICAgICAgLy8gZm9yIEd5cm9zY29wZSBzYW1wbGluZ1xuICAgICAgICB0aGlzLmdhbW1hemVybyA9IG51bGw7XG4gICAgICAgIHRoaXMuYmV0YXplcm8gPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RnYW1tYXplcm8gPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RiZXRhemVybyA9IG51bGw7XG4gICAgXG4gICAgICAgIHRoaXMudHJhbnNpdGlvblRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnVwZGF0ZUNhbGwgPSBudWxsO1xuICAgICAgICB0aGlzLmV2ZW50ID0gbnVsbDtcbiAgICBcbiAgICAgICAgdGhpcy51cGRhdGVCaW5kID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZXNldEJpbmQgPSB0aGlzLnJlc2V0LmJpbmQodGhpcyk7XG4gICAgXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB0aGlzLmV4dGVuZFNldHRpbmdzKHNldHRpbmdzKTtcbiAgICBcbiAgICAgICAgdGhpcy5yZXZlcnNlID0gdGhpcy5zZXR0aW5ncy5yZXZlcnNlID8gLTEgOiAxO1xuICAgICAgICB0aGlzLmdsYXJlID0gVmFuaWxsYVRpbHQuaXNTZXR0aW5nVHJ1ZSh0aGlzLnNldHRpbmdzLmdsYXJlKTtcbiAgICAgICAgdGhpcy5nbGFyZVByZXJlbmRlciA9IFZhbmlsbGFUaWx0LmlzU2V0dGluZ1RydWUodGhpcy5zZXR0aW5nc1tcImdsYXJlLXByZXJlbmRlclwiXSk7XG4gICAgICAgIHRoaXMuZnVsbFBhZ2VMaXN0ZW5pbmcgPSBWYW5pbGxhVGlsdC5pc1NldHRpbmdUcnVlKHRoaXMuc2V0dGluZ3NbXCJmdWxsLXBhZ2UtbGlzdGVuaW5nXCJdKTtcbiAgICAgICAgdGhpcy5neXJvc2NvcGUgPSBWYW5pbGxhVGlsdC5pc1NldHRpbmdUcnVlKHRoaXMuc2V0dGluZ3MuZ3lyb3Njb3BlKTtcbiAgICAgICAgdGhpcy5neXJvc2NvcGVTYW1wbGVzID0gdGhpcy5zZXR0aW5ncy5neXJvc2NvcGVTYW1wbGVzO1xuICAgIFxuICAgICAgICB0aGlzLmVsZW1lbnRMaXN0ZW5lciA9IHRoaXMuZ2V0RWxlbWVudExpc3RlbmVyKCk7XG4gICAgXG4gICAgICAgIGlmICh0aGlzLmdsYXJlKSB7XG4gICAgICAgICAgdGhpcy5wcmVwYXJlR2xhcmUoKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBpZiAodGhpcy5mdWxsUGFnZUxpc3RlbmluZykge1xuICAgICAgICAgIHRoaXMudXBkYXRlQ2xpZW50U2l6ZSgpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVJbml0aWFsUG9zaXRpb24oKTtcbiAgICAgIH1cbiAgICBcbiAgICAgIHN0YXRpYyBpc1NldHRpbmdUcnVlKHNldHRpbmcpIHtcbiAgICAgICAgcmV0dXJuIHNldHRpbmcgPT09IFwiXCIgfHwgc2V0dGluZyA9PT0gdHJ1ZSB8fCBzZXR0aW5nID09PSAxO1xuICAgICAgfVxuICAgIFxuICAgICAgLyoqXG4gICAgICAgKiBNZXRob2QgcmV0dXJucyBlbGVtZW50IHdoYXQgd2lsbCBiZSBsaXN0ZW4gbW91c2UgZXZlbnRzXG4gICAgICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgICAgICovXG4gICAgICBnZXRFbGVtZW50TGlzdGVuZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmZ1bGxQYWdlTGlzdGVuaW5nKSB7XG4gICAgICAgICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudDtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3NbXCJtb3VzZS1ldmVudC1lbGVtZW50XCJdID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY29uc3QgbW91c2VFdmVudEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2V0dGluZ3NbXCJtb3VzZS1ldmVudC1lbGVtZW50XCJdKTtcbiAgICBcbiAgICAgICAgICBpZiAobW91c2VFdmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBtb3VzZUV2ZW50RWxlbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NbXCJtb3VzZS1ldmVudC1lbGVtZW50XCJdIGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzW1wibW91c2UtZXZlbnQtZWxlbWVudFwiXTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuICAgICAgfVxuICAgIFxuICAgICAgLyoqXG4gICAgICAgKiBNZXRob2Qgc2V0IGxpc3RlbiBtZXRob2RzIGZvciB0aGlzLmVsZW1lbnRMaXN0ZW5lclxuICAgICAgICogQHJldHVybiB7Tm9kZX1cbiAgICAgICAqL1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMub25Nb3VzZUVudGVyQmluZCA9IHRoaXMub25Nb3VzZUVudGVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmVCaW5kID0gdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uTW91c2VMZWF2ZUJpbmQgPSB0aGlzLm9uTW91c2VMZWF2ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uV2luZG93UmVzaXplQmluZCA9IHRoaXMub25XaW5kb3dSZXNpemUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkRldmljZU9yaWVudGF0aW9uQmluZCA9IHRoaXMub25EZXZpY2VPcmllbnRhdGlvbi5iaW5kKHRoaXMpO1xuICAgIFxuICAgICAgICB0aGlzLmVsZW1lbnRMaXN0ZW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCB0aGlzLm9uTW91c2VFbnRlckJpbmQpO1xuICAgICAgICB0aGlzLmVsZW1lbnRMaXN0ZW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLm9uTW91c2VMZWF2ZUJpbmQpO1xuICAgICAgICB0aGlzLmVsZW1lbnRMaXN0ZW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmVCaW5kKTtcbiAgICBcbiAgICAgICAgaWYgKHRoaXMuZ2xhcmUgfHwgdGhpcy5mdWxsUGFnZUxpc3RlbmluZykge1xuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMub25XaW5kb3dSZXNpemVCaW5kKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBpZiAodGhpcy5neXJvc2NvcGUpIHtcbiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZW9yaWVudGF0aW9uXCIsIHRoaXMub25EZXZpY2VPcmllbnRhdGlvbkJpbmQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXG4gICAgICAvKipcbiAgICAgICAqIE1ldGhvZCByZW1vdmUgZXZlbnQgbGlzdGVuZXJzIGZyb20gY3VycmVudCB0aGlzLmVsZW1lbnRMaXN0ZW5lclxuICAgICAgICovXG4gICAgICByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50TGlzdGVuZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgdGhpcy5vbk1vdXNlRW50ZXJCaW5kKTtcbiAgICAgICAgdGhpcy5lbGVtZW50TGlzdGVuZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5vbk1vdXNlTGVhdmVCaW5kKTtcbiAgICAgICAgdGhpcy5lbGVtZW50TGlzdGVuZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlQmluZCk7XG4gICAgXG4gICAgICAgIGlmICh0aGlzLmd5cm9zY29wZSkge1xuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25cIiwgdGhpcy5vbkRldmljZU9yaWVudGF0aW9uQmluZCk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKHRoaXMuZ2xhcmUgfHwgdGhpcy5mdWxsUGFnZUxpc3RlbmluZykge1xuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMub25XaW5kb3dSZXNpemVCaW5kKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIFxuICAgICAgZGVzdHJveSgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudHJhbnNpdGlvblRpbWVvdXQpO1xuICAgICAgICBpZiAodGhpcy51cGRhdGVDYWxsICE9PSBudWxsKSB7XG4gICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVDYWxsKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgXG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LnZhbmlsbGFUaWx0ID0gbnVsbDtcbiAgICAgICAgZGVsZXRlIHRoaXMuZWxlbWVudC52YW5pbGxhVGlsdDtcbiAgICBcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICBcbiAgICAgIG9uRGV2aWNlT3JpZW50YXRpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmdhbW1hID09PSBudWxsIHx8IGV2ZW50LmJldGEgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50UG9zaXRpb24oKTtcbiAgICBcbiAgICAgICAgaWYgKHRoaXMuZ3lyb3Njb3BlU2FtcGxlcyA+IDApIHtcbiAgICAgICAgICB0aGlzLmxhc3RnYW1tYXplcm8gPSB0aGlzLmdhbW1hemVybztcbiAgICAgICAgICB0aGlzLmxhc3RiZXRhemVybyA9IHRoaXMuYmV0YXplcm87XG4gICAgXG4gICAgICAgICAgaWYgKHRoaXMuZ2FtbWF6ZXJvID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmdhbW1hemVybyA9IGV2ZW50LmdhbW1hO1xuICAgICAgICAgICAgdGhpcy5iZXRhemVybyA9IGV2ZW50LmJldGE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtbWF6ZXJvID0gKGV2ZW50LmdhbW1hICsgdGhpcy5sYXN0Z2FtbWF6ZXJvKSAvIDI7XG4gICAgICAgICAgICB0aGlzLmJldGF6ZXJvID0gKGV2ZW50LmJldGEgKyB0aGlzLmxhc3RiZXRhemVybykgLyAyO1xuICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICB0aGlzLmd5cm9zY29wZVNhbXBsZXMgLT0gMTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBjb25zdCB0b3RhbEFuZ2xlWCA9IHRoaXMuc2V0dGluZ3MuZ3lyb3Njb3BlTWF4QW5nbGVYIC0gdGhpcy5zZXR0aW5ncy5neXJvc2NvcGVNaW5BbmdsZVg7XG4gICAgICAgIGNvbnN0IHRvdGFsQW5nbGVZID0gdGhpcy5zZXR0aW5ncy5neXJvc2NvcGVNYXhBbmdsZVkgLSB0aGlzLnNldHRpbmdzLmd5cm9zY29wZU1pbkFuZ2xlWTtcbiAgICBcbiAgICAgICAgY29uc3QgZGVncmVlc1BlclBpeGVsWCA9IHRvdGFsQW5nbGVYIC8gdGhpcy53aWR0aDtcbiAgICAgICAgY29uc3QgZGVncmVlc1BlclBpeGVsWSA9IHRvdGFsQW5nbGVZIC8gdGhpcy5oZWlnaHQ7XG4gICAgXG4gICAgICAgIGNvbnN0IGFuZ2xlWCA9IGV2ZW50LmdhbW1hIC0gKHRoaXMuc2V0dGluZ3MuZ3lyb3Njb3BlTWluQW5nbGVYICsgdGhpcy5nYW1tYXplcm8pO1xuICAgICAgICBjb25zdCBhbmdsZVkgPSBldmVudC5iZXRhIC0gKHRoaXMuc2V0dGluZ3MuZ3lyb3Njb3BlTWluQW5nbGVZICsgdGhpcy5iZXRhemVybyk7XG4gICAgXG4gICAgICAgIGNvbnN0IHBvc1ggPSBhbmdsZVggLyBkZWdyZWVzUGVyUGl4ZWxYO1xuICAgICAgICBjb25zdCBwb3NZID0gYW5nbGVZIC8gZGVncmVlc1BlclBpeGVsWTtcbiAgICBcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlQ2FsbCAhPT0gbnVsbCkge1xuICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlQ2FsbCk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgdGhpcy5ldmVudCA9IHtcbiAgICAgICAgICBjbGllbnRYOiBwb3NYICsgdGhpcy5sZWZ0LFxuICAgICAgICAgIGNsaWVudFk6IHBvc1kgKyB0aGlzLnRvcCxcbiAgICAgICAgfTtcbiAgICBcbiAgICAgICAgdGhpcy51cGRhdGVDYWxsID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlQmluZCk7XG4gICAgICB9XG4gICAgXG4gICAgICBvbk1vdXNlRW50ZXIoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWxsQ2hhbmdlID0gXCJ0cmFuc2Zvcm1cIjtcbiAgICAgICAgdGhpcy5zZXRUcmFuc2l0aW9uKCk7XG4gICAgICB9XG4gICAgXG4gICAgICBvbk1vdXNlTW92ZShldmVudCkge1xuICAgICAgICBpZiAodGhpcy51cGRhdGVDYWxsICE9PSBudWxsKSB7XG4gICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVDYWxsKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlQ2FsbCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUJpbmQpO1xuICAgICAgfVxuICAgIFxuICAgICAgb25Nb3VzZUxlYXZlKCkge1xuICAgICAgICB0aGlzLnNldFRyYW5zaXRpb24oKTtcbiAgICBcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucmVzZXQpIHtcbiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZXNldEJpbmQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXG4gICAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5ldmVudCA9IHtcbiAgICAgICAgICBjbGllbnRYOiB0aGlzLmxlZnQgKyB0aGlzLndpZHRoIC8gMixcbiAgICAgICAgICBjbGllbnRZOiB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC8gMlxuICAgICAgICB9O1xuICAgIFxuICAgICAgICBpZiAodGhpcy5lbGVtZW50ICYmIHRoaXMuZWxlbWVudC5zdHlsZSkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBgcGVyc3BlY3RpdmUoJHt0aGlzLnNldHRpbmdzLnBlcnNwZWN0aXZlfXB4KSBgICtcbiAgICAgICAgICAgIGByb3RhdGVYKDBkZWcpIGAgK1xuICAgICAgICAgICAgYHJvdGF0ZVkoMGRlZykgYCArXG4gICAgICAgICAgICBgc2NhbGUzZCgxLCAxLCAxKWA7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgdGhpcy5yZXNldEdsYXJlKCk7XG4gICAgICB9XG4gICAgXG4gICAgICByZXNldEdsYXJlKCkge1xuICAgICAgICBpZiAodGhpcy5nbGFyZSkge1xuICAgICAgICAgIHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKDE4MGRlZykgdHJhbnNsYXRlKC01MCUsIC01MCUpXCI7XG4gICAgICAgICAgdGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXG4gICAgICB1cGRhdGVJbml0aWFsUG9zaXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnN0YXJ0WCA9PT0gMCAmJiB0aGlzLnNldHRpbmdzLnN0YXJ0WSA9PT0gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICB0aGlzLm9uTW91c2VFbnRlcigpO1xuICAgIFxuICAgICAgICBpZiAodGhpcy5mdWxsUGFnZUxpc3RlbmluZykge1xuICAgICAgICAgIHRoaXMuZXZlbnQgPSB7XG4gICAgICAgICAgICBjbGllbnRYOiAodGhpcy5zZXR0aW5ncy5zdGFydFggKyB0aGlzLnNldHRpbmdzLm1heCkgLyAoMiAqIHRoaXMuc2V0dGluZ3MubWF4KSAqIHRoaXMuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICBjbGllbnRZOiAodGhpcy5zZXR0aW5ncy5zdGFydFkgKyB0aGlzLnNldHRpbmdzLm1heCkgLyAoMiAqIHRoaXMuc2V0dGluZ3MubWF4KSAqIHRoaXMuY2xpZW50SGVpZ2h0XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmV2ZW50ID0ge1xuICAgICAgICAgICAgY2xpZW50WDogdGhpcy5sZWZ0ICsgKCh0aGlzLnNldHRpbmdzLnN0YXJ0WCArIHRoaXMuc2V0dGluZ3MubWF4KSAvICgyICogdGhpcy5zZXR0aW5ncy5tYXgpICogdGhpcy53aWR0aCksXG4gICAgICAgICAgICBjbGllbnRZOiB0aGlzLnRvcCArICgodGhpcy5zZXR0aW5ncy5zdGFydFkgKyB0aGlzLnNldHRpbmdzLm1heCkgLyAoMiAqIHRoaXMuc2V0dGluZ3MubWF4KSAqIHRoaXMuaGVpZ2h0KVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICBcbiAgICBcbiAgICAgICAgbGV0IGJhY2t1cFNjYWxlID0gdGhpcy5zZXR0aW5ncy5zY2FsZTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5zY2FsZSA9IDE7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Muc2NhbGUgPSBiYWNrdXBTY2FsZTtcbiAgICAgICAgdGhpcy5yZXNldEdsYXJlKCk7XG4gICAgICB9XG4gICAgXG4gICAgICBnZXRWYWx1ZXMoKSB7XG4gICAgICAgIGxldCB4LCB5O1xuICAgIFxuICAgICAgICBpZiAodGhpcy5mdWxsUGFnZUxpc3RlbmluZykge1xuICAgICAgICAgIHggPSB0aGlzLmV2ZW50LmNsaWVudFggLyB0aGlzLmNsaWVudFdpZHRoO1xuICAgICAgICAgIHkgPSB0aGlzLmV2ZW50LmNsaWVudFkgLyB0aGlzLmNsaWVudEhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB4ID0gKHRoaXMuZXZlbnQuY2xpZW50WCAtIHRoaXMubGVmdCkgLyB0aGlzLndpZHRoO1xuICAgICAgICAgIHkgPSAodGhpcy5ldmVudC5jbGllbnRZIC0gdGhpcy50b3ApIC8gdGhpcy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgeCA9IE1hdGgubWluKE1hdGgubWF4KHgsIDApLCAxKTtcbiAgICAgICAgeSA9IE1hdGgubWluKE1hdGgubWF4KHksIDApLCAxKTtcbiAgICBcbiAgICAgICAgbGV0IHRpbHRYID0gKHRoaXMucmV2ZXJzZSAqICh0aGlzLnNldHRpbmdzLm1heCAtIHggKiB0aGlzLnNldHRpbmdzLm1heCAqIDIpKS50b0ZpeGVkKDIpO1xuICAgICAgICBsZXQgdGlsdFkgPSAodGhpcy5yZXZlcnNlICogKHkgKiB0aGlzLnNldHRpbmdzLm1heCAqIDIgLSB0aGlzLnNldHRpbmdzLm1heCkpLnRvRml4ZWQoMik7XG4gICAgICAgIGxldCBhbmdsZSA9IE1hdGguYXRhbjIodGhpcy5ldmVudC5jbGllbnRYIC0gKHRoaXMubGVmdCArIHRoaXMud2lkdGggLyAyKSwgLSh0aGlzLmV2ZW50LmNsaWVudFkgLSAodGhpcy50b3AgKyB0aGlzLmhlaWdodCAvIDIpKSkgKiAoMTgwIC8gTWF0aC5QSSk7XG4gICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGlsdFg6IHRpbHRYLFxuICAgICAgICAgIHRpbHRZOiB0aWx0WSxcbiAgICAgICAgICBwZXJjZW50YWdlWDogeCAqIDEwMCxcbiAgICAgICAgICBwZXJjZW50YWdlWTogeSAqIDEwMCxcbiAgICAgICAgICBhbmdsZTogYW5nbGVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICBcbiAgICAgIHVwZGF0ZUVsZW1lbnRQb3NpdGlvbigpIHtcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy5sZWZ0ID0gcmVjdC5sZWZ0O1xuICAgICAgICB0aGlzLnRvcCA9IHJlY3QudG9wO1xuICAgICAgfVxuICAgIFxuICAgICAgdXBkYXRlKCkge1xuICAgICAgICBsZXQgdmFsdWVzID0gdGhpcy5nZXRWYWx1ZXMoKTtcbiAgICBcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IFwicGVyc3BlY3RpdmUoXCIgKyB0aGlzLnNldHRpbmdzLnBlcnNwZWN0aXZlICsgXCJweCkgXCIgK1xuICAgICAgICAgIFwicm90YXRlWChcIiArICh0aGlzLnNldHRpbmdzLmF4aXMgPT09IFwieFwiID8gMCA6IHZhbHVlcy50aWx0WSkgKyBcImRlZykgXCIgK1xuICAgICAgICAgIFwicm90YXRlWShcIiArICh0aGlzLnNldHRpbmdzLmF4aXMgPT09IFwieVwiID8gMCA6IHZhbHVlcy50aWx0WCkgKyBcImRlZykgXCIgK1xuICAgICAgICAgIFwic2NhbGUzZChcIiArIHRoaXMuc2V0dGluZ3Muc2NhbGUgKyBcIiwgXCIgKyB0aGlzLnNldHRpbmdzLnNjYWxlICsgXCIsIFwiICsgdGhpcy5zZXR0aW5ncy5zY2FsZSArIFwiKVwiO1xuICAgIFxuICAgICAgICBpZiAodGhpcy5nbGFyZSkge1xuICAgICAgICAgIHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGUoJHt2YWx1ZXMuYW5nbGV9ZGVnKSB0cmFuc2xhdGUoLTUwJSwgLTUwJSlgO1xuICAgICAgICAgIHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSBgJHt2YWx1ZXMucGVyY2VudGFnZVkgKiB0aGlzLnNldHRpbmdzW1wibWF4LWdsYXJlXCJdIC8gMTAwfWA7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwidGlsdENoYW5nZVwiLCB7XG4gICAgICAgICAgXCJkZXRhaWxcIjogdmFsdWVzXG4gICAgICAgIH0pKTtcbiAgICBcbiAgICAgICAgdGhpcy51cGRhdGVDYWxsID0gbnVsbDtcbiAgICAgIH1cbiAgICBcbiAgICAgIC8qKlxuICAgICAgICogQXBwZW5kcyB0aGUgZ2xhcmUgZWxlbWVudCAoaWYgZ2xhcmVQcmVyZW5kZXIgZXF1YWxzIGZhbHNlKVxuICAgICAgICogYW5kIHNldHMgdGhlIGRlZmF1bHQgc3R5bGVcbiAgICAgICAqL1xuICAgICAgcHJlcGFyZUdsYXJlKCkge1xuICAgICAgICAvLyBJZiBvcHRpb24gcHJlLXJlbmRlciBpcyBlbmFibGVkIHdlIGFzc3VtZSBhbGwgaHRtbC9jc3MgaXMgcHJlc2VudCBmb3IgYW4gb3B0aW1hbCBnbGFyZSBlZmZlY3QuXG4gICAgICAgIGlmICghdGhpcy5nbGFyZVByZXJlbmRlcikge1xuICAgICAgICAgIC8vIENyZWF0ZSBnbGFyZSBlbGVtZW50XG4gICAgICAgICAgY29uc3QganNUaWx0R2xhcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIGpzVGlsdEdsYXJlLmNsYXNzTGlzdC5hZGQoXCJqcy10aWx0LWdsYXJlXCIpO1xuICAgIFxuICAgICAgICAgIGNvbnN0IGpzVGlsdEdsYXJlSW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIGpzVGlsdEdsYXJlSW5uZXIuY2xhc3NMaXN0LmFkZChcImpzLXRpbHQtZ2xhcmUtaW5uZXJcIik7XG4gICAgXG4gICAgICAgICAganNUaWx0R2xhcmUuYXBwZW5kQ2hpbGQoanNUaWx0R2xhcmVJbm5lcik7XG4gICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGpzVGlsdEdsYXJlKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICB0aGlzLmdsYXJlRWxlbWVudFdyYXBwZXIgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy10aWx0LWdsYXJlXCIpO1xuICAgICAgICB0aGlzLmdsYXJlRWxlbWVudCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXRpbHQtZ2xhcmUtaW5uZXJcIik7XG4gICAgXG4gICAgICAgIGlmICh0aGlzLmdsYXJlUHJlcmVuZGVyKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5nbGFyZUVsZW1lbnRXcmFwcGVyLnN0eWxlLCB7XG4gICAgICAgICAgXCJwb3NpdGlvblwiOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgXCJ0b3BcIjogXCIwXCIsXG4gICAgICAgICAgXCJsZWZ0XCI6IFwiMFwiLFxuICAgICAgICAgIFwid2lkdGhcIjogXCIxMDAlXCIsXG4gICAgICAgICAgXCJoZWlnaHRcIjogXCIxMDAlXCIsXG4gICAgICAgICAgXCJvdmVyZmxvd1wiOiBcImhpZGRlblwiLFxuICAgICAgICAgIFwicG9pbnRlci1ldmVudHNcIjogXCJub25lXCJcbiAgICAgICAgfSk7XG4gICAgXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUsIHtcbiAgICAgICAgICBcInBvc2l0aW9uXCI6IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICBcInRvcFwiOiBcIjUwJVwiLFxuICAgICAgICAgIFwibGVmdFwiOiBcIjUwJVwiLFxuICAgICAgICAgIFwicG9pbnRlci1ldmVudHNcIjogXCJub25lXCIsXG4gICAgICAgICAgXCJiYWNrZ3JvdW5kLWltYWdlXCI6IGBsaW5lYXItZ3JhZGllbnQoMGRlZywgcmdiYSgyNTUsMjU1LDI1NSwwKSAwJSwgcmdiYSgyNTUsMjU1LDI1NSwxKSAxMDAlKWAsXG4gICAgICAgICAgXCJ3aWR0aFwiOiBgJHt0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGggKiAyfXB4YCxcbiAgICAgICAgICBcImhlaWdodFwiOiBgJHt0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGggKiAyfXB4YCxcbiAgICAgICAgICBcInRyYW5zZm9ybVwiOiBcInJvdGF0ZSgxODBkZWcpIHRyYW5zbGF0ZSgtNTAlLCAtNTAlKVwiLFxuICAgICAgICAgIFwidHJhbnNmb3JtLW9yaWdpblwiOiBcIjAlIDAlXCIsXG4gICAgICAgICAgXCJvcGFjaXR5XCI6IFwiMFwiLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICBcbiAgICAgIHVwZGF0ZUdsYXJlU2l6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2xhcmUpIHtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLCB7XG4gICAgICAgICAgICBcIndpZHRoXCI6IGAke3RoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCAqIDJ9YCxcbiAgICAgICAgICAgIFwiaGVpZ2h0XCI6IGAke3RoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCAqIDJ9YCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIFxuICAgICAgdXBkYXRlQ2xpZW50U2l6ZSgpIHtcbiAgICAgICAgdGhpcy5jbGllbnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgICAgICAgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoXG4gICAgICAgICAgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDtcbiAgICBcbiAgICAgICAgdGhpcy5jbGllbnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgICAgICB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XG4gICAgICAgICAgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7XG4gICAgICB9XG4gICAgXG4gICAgICBvbldpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVHbGFyZVNpemUoKTtcbiAgICAgICAgdGhpcy51cGRhdGVDbGllbnRTaXplKCk7XG4gICAgICB9XG4gICAgXG4gICAgICBzZXRUcmFuc2l0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50cmFuc2l0aW9uVGltZW91dCk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gdGhpcy5zZXR0aW5ncy5zcGVlZCArIFwibXMgXCIgKyB0aGlzLnNldHRpbmdzLmVhc2luZztcbiAgICAgICAgaWYgKHRoaXMuZ2xhcmUpIHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSBgb3BhY2l0eSAke3RoaXMuc2V0dGluZ3Muc3BlZWR9bXMgJHt0aGlzLnNldHRpbmdzLmVhc2luZ31gO1xuICAgIFxuICAgICAgICB0aGlzLnRyYW5zaXRpb25UaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSBcIlwiO1xuICAgICAgICAgIGlmICh0aGlzLmdsYXJlKSB7XG4gICAgICAgICAgICB0aGlzLmdsYXJlRWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3Muc3BlZWQpO1xuICAgIFxuICAgICAgfVxuICAgIFxuICAgICAgLyoqXG4gICAgICAgKiBNZXRob2QgcmV0dXJuIHBhdGNoZWQgc2V0dGluZ3Mgb2YgaW5zdGFuY2VcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2V0dGluZ3MucmV2ZXJzZSAtIHJldmVyc2UgdGhlIHRpbHQgZGlyZWN0aW9uXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gc2V0dGluZ3MubWF4IC0gbWF4IHRpbHQgcm90YXRpb24gKGRlZ3JlZXMpXG4gICAgICAgKiBAcGFyYW0ge3N0YXJ0WH0gc2V0dGluZ3Muc3RhcnRYIC0gdGhlIHN0YXJ0aW5nIHRpbHQgb24gdGhlIFggYXhpcywgaW4gZGVncmVlcy4gRGVmYXVsdDogMFxuICAgICAgICogQHBhcmFtIHtzdGFydFl9IHNldHRpbmdzLnN0YXJ0WSAtIHRoZSBzdGFydGluZyB0aWx0IG9uIHRoZSBZIGF4aXMsIGluIGRlZ3JlZXMuIERlZmF1bHQ6IDBcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZXR0aW5ncy5wZXJzcGVjdGl2ZSAtIFRyYW5zZm9ybSBwZXJzcGVjdGl2ZSwgdGhlIGxvd2VyIHRoZSBtb3JlIGV4dHJlbWUgdGhlIHRpbHQgZ2V0c1xuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHNldHRpbmdzLmVhc2luZyAtIEVhc2luZyBvbiBlbnRlci9leGl0XG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gc2V0dGluZ3Muc2NhbGUgLSAyID0gMjAwJSwgMS41ID0gMTUwJSwgZXRjLi5cbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZXR0aW5ncy5zcGVlZCAtIFNwZWVkIG9mIHRoZSBlbnRlci9leGl0IHRyYW5zaXRpb25cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2V0dGluZ3MudHJhbnNpdGlvbiAtIFNldCBhIHRyYW5zaXRpb24gb24gZW50ZXIvZXhpdFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8bnVsbH0gc2V0dGluZ3MuYXhpcyAtIFdoYXQgYXhpcyBzaG91bGQgYmUgZGlzYWJsZWQuIENhbiBiZSBYIG9yIFlcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2V0dGluZ3MuZ2xhcmUgLSBXaGF0IGF4aXMgc2hvdWxkIGJlIGRpc2FibGVkLiBDYW4gYmUgWCBvciBZXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gc2V0dGluZ3MubWF4LWdsYXJlIC0gdGhlIG1heGltdW0gXCJnbGFyZVwiIG9wYWNpdHkgKDEgPSAxMDAlLCAwLjUgPSA1MCUpXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNldHRpbmdzLmdsYXJlLXByZXJlbmRlciAtIGZhbHNlID0gVmFuaWxsYVRpbHQgY3JlYXRlcyB0aGUgZ2xhcmUgZWxlbWVudHMgZm9yIHlvdSwgb3RoZXJ3aXNlXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNldHRpbmdzLmZ1bGwtcGFnZS1saXN0ZW5pbmcgLSBJZiB0cnVlLCBwYXJhbGxheCBlZmZlY3Qgd2lsbCBsaXN0ZW4gdG8gbW91c2UgbW92ZSBldmVudHMgb24gdGhlIHdob2xlIGRvY3VtZW50LCBub3Qgb25seSB0aGUgc2VsZWN0ZWQgZWxlbWVudFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBzZXR0aW5ncy5tb3VzZS1ldmVudC1lbGVtZW50IC0gU3RyaW5nIHNlbGVjdG9yIG9yIGxpbmsgdG8gSFRNTC1lbGVtZW50IHdoYXQgd2lsbCBiZSBsaXN0ZW4gbW91c2UgZXZlbnRzXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNldHRpbmdzLnJlc2V0IC0gZmFsc2UgPSBJZiB0aGUgdGlsdCBlZmZlY3QgaGFzIHRvIGJlIHJlc2V0IG9uIGV4aXRcbiAgICAgICAqIEBwYXJhbSB7Z3lyb3Njb3BlfSBzZXR0aW5ncy5neXJvc2NvcGUgLSBFbmFibGUgdGlsdGluZyBieSBkZXZpY2VvcmllbnRhdGlvbiBldmVudHNcbiAgICAgICAqIEBwYXJhbSB7Z3lyb3Njb3BlU2Vuc2l0aXZpdHl9IHNldHRpbmdzLmd5cm9zY29wZVNlbnNpdGl2aXR5IC0gQmV0d2VlbiAwIGFuZCAxIC0gVGhlIGFuZ2xlIGF0IHdoaWNoIG1heCB0aWx0IHBvc2l0aW9uIGlzIHJlYWNoZWQuIDEgPSA5MGRlZywgMC41ID0gNDVkZWcsIGV0Yy4uXG4gICAgICAgKiBAcGFyYW0ge2d5cm9zY29wZVNhbXBsZXN9IHNldHRpbmdzLmd5cm9zY29wZVNhbXBsZXMgLSBIb3cgbWFueSBneXJvc2NvcGUgbW92ZXMgdG8gZGVjaWRlIHRoZSBzdGFydGluZyBwb3NpdGlvbi5cbiAgICAgICAqL1xuICAgICAgZXh0ZW5kU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgICAgICAgbGV0IGRlZmF1bHRTZXR0aW5ncyA9IHtcbiAgICAgICAgICByZXZlcnNlOiBmYWxzZSxcbiAgICAgICAgICBtYXg6IDE1LFxuICAgICAgICAgIHN0YXJ0WDogMCxcbiAgICAgICAgICBzdGFydFk6IDAsXG4gICAgICAgICAgcGVyc3BlY3RpdmU6IDEwMDAsXG4gICAgICAgICAgZWFzaW5nOiBcImN1YmljLWJlemllciguMDMsLjk4LC41MiwuOTkpXCIsXG4gICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgc3BlZWQ6IDMwMCxcbiAgICAgICAgICB0cmFuc2l0aW9uOiB0cnVlLFxuICAgICAgICAgIGF4aXM6IG51bGwsXG4gICAgICAgICAgZ2xhcmU6IGZhbHNlLFxuICAgICAgICAgIFwibWF4LWdsYXJlXCI6IDEsXG4gICAgICAgICAgXCJnbGFyZS1wcmVyZW5kZXJcIjogZmFsc2UsXG4gICAgICAgICAgXCJmdWxsLXBhZ2UtbGlzdGVuaW5nXCI6IGZhbHNlLFxuICAgICAgICAgIFwibW91c2UtZXZlbnQtZWxlbWVudFwiOiBudWxsLFxuICAgICAgICAgIHJlc2V0OiB0cnVlLFxuICAgICAgICAgIGd5cm9zY29wZTogdHJ1ZSxcbiAgICAgICAgICBneXJvc2NvcGVNaW5BbmdsZVg6IC00NSxcbiAgICAgICAgICBneXJvc2NvcGVNYXhBbmdsZVg6IDQ1LFxuICAgICAgICAgIGd5cm9zY29wZU1pbkFuZ2xlWTogLTQ1LFxuICAgICAgICAgIGd5cm9zY29wZU1heEFuZ2xlWTogNDUsXG4gICAgICAgICAgZ3lyb3Njb3BlU2FtcGxlczogMTBcbiAgICAgICAgfTtcbiAgICBcbiAgICAgICAgbGV0IG5ld1NldHRpbmdzID0ge307XG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGRlZmF1bHRTZXR0aW5ncykge1xuICAgICAgICAgIGlmIChwcm9wZXJ0eSBpbiBzZXR0aW5ncykge1xuICAgICAgICAgICAgbmV3U2V0dGluZ3NbcHJvcGVydHldID0gc2V0dGluZ3NbcHJvcGVydHldO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRhdGEtdGlsdC1cIiArIHByb3BlcnR5KSkge1xuICAgICAgICAgICAgbGV0IGF0dHJpYnV0ZSA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRpbHQtXCIgKyBwcm9wZXJ0eSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBuZXdTZXR0aW5nc1twcm9wZXJ0eV0gPSBKU09OLnBhcnNlKGF0dHJpYnV0ZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIG5ld1NldHRpbmdzW3Byb3BlcnR5XSA9IGF0dHJpYnV0ZTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3U2V0dGluZ3NbcHJvcGVydHldID0gZGVmYXVsdFNldHRpbmdzW3Byb3BlcnR5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgcmV0dXJuIG5ld1NldHRpbmdzO1xuICAgICAgfVxuICAgIFxuICAgICAgc3RhdGljIGluaXQoZWxlbWVudHMsIHNldHRpbmdzKSB7XG4gICAgICAgIGlmIChlbGVtZW50cyBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICBlbGVtZW50cyA9IFtlbGVtZW50c107XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKGVsZW1lbnRzIGluc3RhbmNlb2YgTm9kZUxpc3QpIHtcbiAgICAgICAgICBlbGVtZW50cyA9IFtdLnNsaWNlLmNhbGwoZWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGlmICghKGVsZW1lbnRzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICBpZiAoIShcInZhbmlsbGFUaWx0XCIgaW4gZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQudmFuaWxsYVRpbHQgPSBuZXcgVmFuaWxsYVRpbHQoZWxlbWVudCwgc2V0dGluZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIC8qIGV4cG9zZSB0aGUgY2xhc3MgdG8gd2luZG93ICovXG4gICAgICB3aW5kb3cuVmFuaWxsYVRpbHQgPSBWYW5pbGxhVGlsdDtcbiAgICBcbiAgICAgIC8qKlxuICAgICAgICogQXV0byBsb2FkXG4gICAgICAgKi9cbiAgICAgIFZhbmlsbGFUaWx0LmluaXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXRpbHRdXCIpKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIFZhbmlsbGFUaWx0O1xuICAgIFxuICAgIH0oKSk7XG4gICAgIiwiLy8gUm90YXRlIG9uIHNjcm9sbFxyXG5cclxud2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgc2Nyb2xsUm90YXRlKCk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBzY3JvbGxSb3RhdGUoKSB7XHJcbiAgICBsZXQgaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvdGF0ZS0tc2Nyb2xsXCIpO1xyXG4gICAgaW1hZ2Uuc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoXCIgKyB3aW5kb3cucGFnZVlPZmZzZXQvNCArIFwiZGVnKVwiO1xyXG59XHJcblxyXG5cclxudmFyIHJlbGxheCA9IG5ldyBSZWxsYXgoJy5yZWxsYXgnKTsiLCIoZnVuY3Rpb24oJCkge1xyXG5cclxuICAgIGxldCAkd2luZG93ID0gJCh3aW5kb3cpO1xyXG4gICAgbGV0IGxhc3RXaW5kb3dXaWR0aCA9ICR3aW5kb3cud2lkdGgoKTtcclxuICAgIGxldCB0b2dnbGUgPSAkKCAnLm5hdmJhci10b2dnbGVyJyApO1xyXG4gICAgbGV0IGhlYWRlciA9ICQoICcuc2l0ZS1oZWFkZXInICk7XHJcbiAgICBsZXQgbmF2aWdhdGlvbiA9ICQoICcubmF2YmFyLW5hdicgKTtcclxuICAgIGxldCBkcm9wZG93bkJ0biA9ICQoICcuZHJvcGRvd24tYnRuJyApO1xyXG4gICAgbGV0IGRyb3Bkb3duID0gJCggJy5kcm9wZG93bi1tZW51JyApO1xyXG5cclxuICAgIC8vIEZ1bmN0aW9uc1xyXG4gICAgZnVuY3Rpb24gdG9nZ2xlTWVudSgpIHtcclxuICAgICAgICAvLyBUb2dnbGUgLm9wZW4gdG8gLm5hdmJhci1uYXZcclxuICAgICAgICAkKG5hdmlnYXRpb24pLnRvZ2dsZUNsYXNzKCAnaXMtb3BlbicgKTtcclxuICAgICAgICAvLyBUb2dnbGUgLmlzLWFjdGl2ZSB0byB0aGUgaGFtYnVyZ2VyIGljb25cclxuICAgICAgICAkKHRvZ2dsZSkudG9nZ2xlQ2xhc3MoICdpcy1hY3RpdmUnICk7XHJcbiAgICAgICAgLy8gVG9nZ2xlIC5pcy1hY3RpdmUgb24gc2l0ZS1oZWFkZXJcclxuICAgICAgICAkKGhlYWRlcikudG9nZ2xlQ2xhc3MoICdleHBhbmRlZCcgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbG9zZUFsbERyb3Bkb3ducygpIHtcclxuICAgICAgICBpZiAoJChkcm9wZG93bikuaGFzQ2xhc3MoICdzaG93JyApKSB7XHJcbiAgICAgICAgICAgICQoZHJvcGRvd24pLnJlbW92ZUNsYXNzKCAnc2hvdycgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCQoZHJvcGRvd25CdG4pLmhhc0NsYXNzKCAndG9nZ2xlZCcgKSkge1xyXG4gICAgICAgICAgICAkKGRyb3Bkb3duQnRuKS5yZW1vdmVDbGFzcyggJ3RvZ2dsZWQnICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoZHJvcGRvd24pLmF0dHIoIFwic3R5bGVcIiwgXCIgXCIgKTtcclxuICAgICAgICAkKG5hdmlnYXRpb24pLmF0dHIoIFwic3R5bGVcIiwgXCIgXCIgKTtcclxuICAgICAgICAkKHRvZ2dsZSkucmVtb3ZlQ2xhc3MoICdpcy1hY3RpdmUnICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT3BlbiBtb2JpbGUgbWVudVxyXG4gICAgJCh0b2dnbGUpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IFxyXG5cclxuICAgICAgICB0b2dnbGVNZW51KCk7XHJcbiAgXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBPcGVuIGRyb3Bkb3duIG1lbnVzXHJcbiAgICAkKGRyb3Bkb3duQnRuKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBcclxuXHJcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIC8gcmVtb3ZlIC50b2dnbGVkIGZyb20gZHJvcGRvd24gYnV0dG9uXHJcblx0XHRpZiAoJHRoaXMuaGFzQ2xhc3MoICd0b2dnbGVkJyApKSB7XHJcblx0XHRcdCR0aGlzLnJlbW92ZUNsYXNzKCAndG9nZ2xlZCcgKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdCR0aGlzLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoICcuZHJvcGRvd24tYnRuJyApLnJlbW92ZUNsYXNzKCAndG9nZ2xlZCcgKTtcclxuXHRcdFx0JHRoaXMudG9nZ2xlQ2xhc3MoICd0b2dnbGVkJyApO1xyXG5cdFx0fVxyXG5cclxuICAgICAgICAvLyBBZGQgLyByZW1vdmUgLnNob3cgZnJvbSBkcm9wZG93bi1tZW51XHJcbiAgICAgICAgaWYgKCR0aGlzLm5leHQoKS5oYXNDbGFzcyggJ3Nob3cnICkpIHtcclxuICAgICAgICAgICAgJHRoaXMubmV4dCgpLnJlbW92ZUNsYXNzKCAnc2hvdycgKTtcclxuICAgICAgICAgICAgJHRoaXMubmV4dCgpLnNsaWRlVXAoIDM1MCApO1xyXG4gICAgICAgICAgICAkdGhpcy5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCAnLmRyb3Bkb3duLW1lbnUnICkucmVtb3ZlQ2xhc3MoICdzaG93JyApO1xyXG4gICAgICAgICAgICAkdGhpcy5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCAnLmRyb3Bkb3duLW1lbnUnICkuc2xpZGVVcCggMzUwICk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICR0aGlzLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoICcuZHJvcGRvd24tbWVudScgKS5yZW1vdmVDbGFzcyggJ3Nob3cnICk7XHJcblx0XHRcdCR0aGlzLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoICcuZHJvcGRvd24tbWVudScgKS5zbGlkZVVwKCAzNTAgKTtcclxuXHRcdFx0JHRoaXMubmV4dCgpLnRvZ2dsZUNsYXNzKCAnc2hvdycgKTtcclxuICAgICAgICAgICAgJHRoaXMubmV4dCgpLnNsaWRlVG9nZ2xlKCAzNTAgKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDbG9zZSBhbmQgcmVzZXQgb24gd2luZG93IHdpZHRoIGNoYW5nZVxyXG4gICAgJHdpbmRvdy5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICB2YXIgd2luZG93V2lkdGggPSAkd2luZG93LndpZHRoKCk7XHJcblxyXG4gICAgICAgIGlmIChsYXN0V2luZG93V2lkdGggIT09IHdpbmRvd1dpZHRoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCQobmF2aWdhdGlvbikuaGFzQ2xhc3MoICdpcy1vcGVuJyApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlTWVudSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjbG9zZUFsbERyb3Bkb3ducygpO1xyXG4gICAgICAgICAgICAgICAgJChuYXZpZ2F0aW9uKS5yZW1vdmVBdHRyKCAnc3R5bGUnICk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAgIFxyXG59KSggalF1ZXJ5ICk7XHJcbiIsImpRdWVyeShmdW5jdGlvbiAoJCkge1xyXG5cclxuICB2YXIgZmlsdGVyRm5zID0ge1xyXG4gICAgLy8gc2hvdyBpZiBudW1iZXIgaXMgZ3JlYXRlciB0aGFuIDUwXHJcbiAgICBudW1iZXJHcmVhdGVyVGhhbjUwOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIG51bWJlciA9ICQodGhpcykuZmluZCgnLm51bWJlcicpLnRleHQoKTtcclxuICAgICAgcmV0dXJuIHBhcnNlSW50KCBudW1iZXIsIDEwICkgPiA1MDtcclxuICAgIH0sXHJcbiAgICAvLyBzaG93IGlmIG5hbWUgZW5kcyB3aXRoIC1pdW1cclxuICAgIGl1bTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBuYW1lID0gJCh0aGlzKS5maW5kKCcubmFtZScpLnRleHQoKTtcclxuICAgICAgY29uc29sZS5sb2cobmFtZSk7XHJcbiAgICAgIHJldHVybiBuYW1lLm1hdGNoKCAva2VzJC8gKTtcclxuICAgIFxyXG4gICAgfSxcclxuICAgIHRlc3RGdW5jOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGF0dHIgPSAkKHRoaXMpLmhhc0NsYXNzKCd3ZWJidXR2ZWNrbGluZycpO1xyXG4gICAgICBjb25zb2xlLmxvZyhhdHRyKTtcclxuICAgICAgcmV0dXJuIGF0dHI7XHJcbiAgICAgXHJcbiAgICB9LFxyXG4gICAgdGVzdFNlbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBhdHRyID0gJCh0aGlzKS5oYXNDbGFzcygnc2VvJyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGF0dHIpO1xyXG4gICAgICByZXR1cm4gYXR0cjtcclxuICAgICBcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIGZ1bmN0aW9uIGdldEhhc2hGaWx0ZXIoKSB7XHJcbiAgICAvLyBnZXQgZmlsdGVyPWZpbHRlck5hbWVcclxuICAgIHZhciBtYXRjaGVzID0gbG9jYXRpb24uaGFzaC5tYXRjaCggLyhbXiZdKykvaSApO1xyXG4gICAgdmFyIGhhc2hGaWx0ZXIgPSBtYXRjaGVzICYmIG1hdGNoZXNbMV07XHJcbiAgICByZXR1cm4gaGFzaEZpbHRlciAmJiBkZWNvZGVVUklDb21wb25lbnQoIGhhc2hGaWx0ZXIgKS5zdWJzdHIoMSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIGluaXQgSXNvdG9wZVxyXG4gIHZhciAkZ3JpZCA9ICQoJy5nYWxsZXJ5Jyk7XHJcbiAgXHJcbiAgLy8gYmluZCBmaWx0ZXIgYnV0dG9uIGNsaWNrXHJcbiAgdmFyICRmaWx0ZXJCdXR0b25Hcm91cCA9ICQoJy5idG4tZmlsdGVyLWdyb3VwJyk7XHJcbiAgJGZpbHRlckJ1dHRvbkdyb3VwLm9uKCAnY2xpY2snLCAnYnV0dG9uJywgZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZmlsdGVyQXR0ciA9ICQoIHRoaXMgKS5hdHRyKCdkYXRhLWZpbHRlcicpO1xyXG4gICAgLy8gc2V0IGZpbHRlciBpbiBoYXNoXHJcbiAgICBsb2NhdGlvbi5oYXNoID0gJycgKyBlbmNvZGVVUklDb21wb25lbnQoIGZpbHRlckF0dHIgKTtcclxuICB9KTtcclxuICBcclxuICB2YXIgaXNJc290b3BlSW5pdCA9IGZhbHNlO1xyXG4gIFxyXG4gIGZ1bmN0aW9uIG9uSGFzaGNoYW5nZSgpIHtcclxuICAgIHZhciBoYXNoRmlsdGVyID0gZ2V0SGFzaEZpbHRlcigpO1xyXG4gICAgaWYgKCAhaGFzaEZpbHRlciAmJiBpc0lzb3RvcGVJbml0ICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpc0lzb3RvcGVJbml0ID0gdHJ1ZTtcclxuICAgIC8vIGZpbHRlciBpc290b3BlXHJcbiAgICAkZ3JpZC5pc290b3BlKHtcclxuICAgICAgaXRlbVNlbGVjdG9yOiAnLmdhbGxlcnktaXRlbScsXHJcbiAgICAgIGxheW91dE1vZGUgOiAnbWFzb25yeScsXHJcbiAgICAgIG1hc29ucnkgOiB7XHJcbiAgICAgICAgZ3V0dGVyIDogJy5nYWxsZXJ5LWl0ZW0tZ3V0dGVyJ1xyXG4gICAgICB9LFxyXG4gICAgICAvLyB1c2UgZmlsdGVyRm5zXHJcbiAgICAgIGZpbHRlcjogZmlsdGVyRm5zWyBoYXNoRmlsdGVyIF0gfHwgaGFzaEZpbHRlclxyXG4gICAgfSk7XHJcbiAgICAvLyBzZXQgc2VsZWN0ZWQgY2xhc3Mgb24gYnV0dG9uXHJcbiAgICBpZiAoIGhhc2hGaWx0ZXIgKSB7XHJcbiAgICAgICRmaWx0ZXJCdXR0b25Hcm91cC5maW5kKCcuc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcclxuICAgICAgJGZpbHRlckJ1dHRvbkdyb3VwLmZpbmQoJ1tkYXRhLWZpbHRlcj1cIicgKyBoYXNoRmlsdGVyICsgJ1wiXScpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAkKHdpbmRvdykub24oICdoYXNoY2hhbmdlJywgb25IYXNoY2hhbmdlICk7XHJcbiAgXHJcbiAgLy8gdHJpZ2dlciBldmVudCBoYW5kbGVyIHRvIGluaXQgSXNvdG9wZVxyXG4gIG9uSGFzaGNoYW5nZSgpO1xyXG4gIFxyXG4gIFxyXG5cclxufSk7XHJcblxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==