!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";n.r(t);n(2),n(3),n(4)},function(e,t){!function(e){var t=e(window),n=t.width(),a=e(".navbar-toggler"),r=e(".site-header"),o=e(".navbar-nav"),i=e(".dropdown-btn"),s=e(".dropdown-menu");function l(){e(o).toggleClass("is-open"),e(a).toggleClass("is-active"),e(r).toggleClass("expanded")}e(a).click((function(e){e.preventDefault(),l()})),e(i).click((function(t){t.preventDefault();var n=e(this);n.hasClass("toggled")?n.removeClass("toggled"):(n.parent().parent().find(".dropdown-btn").removeClass("toggled"),n.toggleClass("toggled")),n.next().hasClass("show")?(n.next().removeClass("show"),n.next().slideUp(350),n.parent().parent().find(".dropdown-menu").removeClass("show"),n.parent().parent().find(".dropdown-menu").slideUp(350)):(n.parent().parent().find(".dropdown-menu").removeClass("show"),n.parent().parent().find(".dropdown-menu").slideUp(350),n.next().toggleClass("show"),n.next().slideToggle(350))})),t.resize((function(){var r=t.width();n!==r&&(e(o).hasClass("is-open")&&l(),e(s).hasClass("show")&&e(s).removeClass("show"),e(i).hasClass("toggled")&&e(i).removeClass("toggled"),e(s).attr("style"," "),e(o).attr("style"," "),e(a).removeClass("is-active"),e(o).removeAttr("style"))}))}(jQuery)},function(e,t){jQuery((function(e){var t=e(".gallery").isotope({itemSelector:".gallery-item",layoutMode:"masonry",masonry:{gutter:".gallery-item-gutter"}}),n={numberGreaterThan50:function(){var t=e(this).find(".number").text();return parseInt(t,10)>50},ium:function(){return e(this).find(".name").text().match(/ium$/)}};e(".btn-filter-group").on("click","button",(function(){var a=e(this).attr("data-filter");a=n[a]||a,t.isotope({filter:a})})),e(".btn-group").each((function(t,n){var a=e(n);a.on("click","button",(function(){a.find(".selected").removeClass("selected"),e(this).addClass("selected")}))}))}))},function(e,t){document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementsByClassName("slide-in-ltr");if(e)for(var t=0;t<e.length;t++)new Waypoint({element:e[t],handler:function(){anime({targets:this.element,opacity:[0,1],translateX:[-250,0],delay:anime.stagger(100),duration:2e3,easing:"easeOutExpo"}),this.destroy()},offset:"80%"});var n=document.getElementsByClassName("slide-in-rtl");if(n)for(t=0;t<n.length;t++)new Waypoint({element:n[t],handler:function(){anime({targets:this.element,opacity:[0,1],translateX:[250,0],delay:anime.stagger(100),duration:2e3,easing:"easeOutExpo"}),this.destroy()},offset:"80%"});anime({targets:".site-header",translateY:[-250,0],opacity:[0,1],easing:"easeOutExpo"}),anime({targets:".four-zero-four:nth-of-type(2)",rotate:".1turn",translateY:"25",duration:2e3,easing:"spring(1, 80, 2, 0)",delay:1e3});var a=document.querySelector(".block-overlay"),r=document.querySelector(".title"),o=document.querySelector(".page-title");a&&r&&o&&function(e,t,n){var a=t.clientHeight,r=t.offsetWidth;e.style.height=a+"px",anime.timeline({easing:"easeInOutQuad",duration:500}).add({targets:e,width:r,complete:function(n){e.style.right="0",t.style.opacity="1"}}).add({targets:e,width:"0"})}(a,r);var i=document.querySelector(".lead-block-overlay"),s=document.querySelector(".lead"),l=document.querySelector(".page-lead");i&&s&&l&&function(e,t,n){var a=t.clientHeight,r=t.offsetWidth;e.style.height=a+"px",anime.timeline({easing:"easeInOutQuad",duration:500}).add({targets:e,width:r,complete:function(n){e.style.right="0",t.style.opacity="1"},delay:250}).add({targets:e,width:"0"})}(i,s),document.querySelectorAll(".nav-item").forEach((function(e){e.addEventListener("mouseenter",(function(t){anime({targets:e.querySelector(".nav-link"),translateY:-3,easing:"easeOutExpo",duration:400})})),e.addEventListener("mouseleave",(function(t){anime({targets:e.querySelector(".nav-link"),translateY:0,easing:"easeOutExpo",duration:500})}))})),document.querySelectorAll(".dropdown-item").forEach((function(e){e.addEventListener("mouseenter",(function(t){anime({targets:e.querySelector(".nav-link"),translateX:3,easing:"easeOutExpo",duration:400})})),e.addEventListener("mouseleave",(function(t){anime({targets:e.querySelector(".nav-link"),translateX:0,easing:"easeOutExpo",duration:500})}))}))})),document.querySelectorAll(".social-item").forEach((function(e){e.addEventListener("mouseenter",(function(t){anime({targets:e.querySelector("a"),translateY:-3,easing:"easeOutExpo",duration:400})})),e.addEventListener("mouseleave",(function(t){anime({targets:e.querySelector("a"),translateY:0,easing:"easeOutExpo",duration:500})}))})),document.querySelectorAll(".footer-nav .menu-item").forEach((function(e){e.addEventListener("mouseenter",(function(t){anime({targets:e.querySelector("a"),translateY:-3,easing:"easeOutExpo",duration:400})})),e.addEventListener("mouseleave",(function(t){anime({targets:e.querySelector("a"),translateY:0,easing:"easeOutExpo",duration:500})}))})),window.onscroll=function(){document.getElementsByClassName("custom-logo")[0].style.transform="rotate("+window.pageYOffset/4+"deg)"};var n,a;document.addEventListener("input",(function(e){"textarea"===e.target.tagName.toLowerCase()&&function(e){e.style.height="inherit";var t=window.getComputedStyle(e),n=parseInt(t.getPropertyValue("border-top-width"),10)+parseInt(t.getPropertyValue("padding-top"),10)+e.scrollHeight+parseInt(t.getPropertyValue("padding-bottom"),10)+parseInt(t.getPropertyValue("border-bottom-width"),10);e.style.height=n-14+"px"}(e.target)}),!1),n=jQuery,a=n(".wpcf7-form p"),n(".wpcf7-form-control").focus((function(){n(this).parents(a).addClass("focused")})),n(".wpcf7-form-control").blur((function(){""==n(this).val()?(n(this).removeClass("filled"),n(this).parents(a).removeClass("focused")):n(this).addClass("filled")}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3NjcmlwdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy9uYXZpZ2F0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9tb2R1bGVzL2lzb3RvcGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21vZHVsZXMvYW5pbWF0aW9uLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiJCIsIiR3aW5kb3ciLCJ3aW5kb3ciLCJsYXN0V2luZG93V2lkdGgiLCJ3aWR0aCIsInRvZ2dsZSIsImhlYWRlciIsIm5hdmlnYXRpb24iLCJkcm9wZG93bkJ0biIsImRyb3Bkb3duIiwidG9nZ2xlTWVudSIsInRvZ2dsZUNsYXNzIiwiY2xpY2siLCJlIiwicHJldmVudERlZmF1bHQiLCIkdGhpcyIsInRoaXMiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwicGFyZW50IiwiZmluZCIsIm5leHQiLCJzbGlkZVVwIiwic2xpZGVUb2dnbGUiLCJyZXNpemUiLCJ3aW5kb3dXaWR0aCIsImF0dHIiLCJyZW1vdmVBdHRyIiwialF1ZXJ5IiwiJGdyaWQiLCJpc290b3BlIiwiaXRlbVNlbGVjdG9yIiwibGF5b3V0TW9kZSIsIm1hc29ucnkiLCJndXR0ZXIiLCJmaWx0ZXJGbnMiLCJudW1iZXJHcmVhdGVyVGhhbjUwIiwibnVtYmVyIiwidGV4dCIsInBhcnNlSW50IiwiaXVtIiwibWF0Y2giLCJvbiIsImZpbHRlclZhbHVlIiwiZmlsdGVyIiwiZWFjaCIsImJ1dHRvbkdyb3VwIiwiJGJ1dHRvbkdyb3VwIiwiYWRkQ2xhc3MiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzbGlkZUluUmlnaHQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwibGVuZ3RoIiwiV2F5cG9pbnQiLCJlbGVtZW50IiwiaGFuZGxlciIsImFuaW1lIiwidGFyZ2V0cyIsIm9wYWNpdHkiLCJ0cmFuc2xhdGVYIiwiZGVsYXkiLCJzdGFnZ2VyIiwiZHVyYXRpb24iLCJlYXNpbmciLCJkZXN0cm95Iiwib2Zmc2V0Iiwic2xpZGVJbkxlZnQiLCJ0cmFuc2xhdGVZIiwicm90YXRlIiwiYmxvY2siLCJxdWVyeVNlbGVjdG9yIiwidGl0bGUiLCJ0aXRsZUNvbnRhaW5lciIsImJsb2NrSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiYmxvY2tXaWR0aCIsIm9mZnNldFdpZHRoIiwic3R5bGUiLCJoZWlnaHQiLCJ0aW1lbGluZSIsImFkZCIsImNvbXBsZXRlIiwidGwiLCJyaWdodCIsInRpdGxlUmV2ZWFsIiwibGVhZEJsb2NrIiwibGVhZCIsImxlYWRDb250YWluZXIiLCJsZWFkQmxvY2tIZWlnaHQiLCJsZWFkQmxvY2tXaWR0aCIsImxlYWRSZXZlYWwiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsIm5hdkl0ZW0iLCJldmVudCIsImRkSXRlbSIsInNvY2lhbEl0ZW0iLCJmb290ZXJJdGVtIiwib25zY3JvbGwiLCJ0cmFuc2Zvcm0iLCJwYWdlWU9mZnNldCIsImZvcm1Hcm91cCIsInRhcmdldCIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsImZpZWxkIiwiY29tcHV0ZWQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNjcm9sbEhlaWdodCIs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VzNCLGNBQWMsS0FDbENILFdBQVksRUFDWkosT0FBUSxjQUNSRCxTQUFVLFlBWWxCN0QsT0FBT2lHLFNBQVcsV0FKSmxELFNBQVNHLHVCQUF1QixlQUFlLEdBQ3JEMEIsTUFBTXNCLFVBQVksVUFBWWxHLE9BQU9tRyxZQUFjLEVBQUksUUFTL0QsSUF3QldyRyxFQUlMc0csRUFiTnJELFNBQVNDLGlCQUFpQixTQUFTLFNBQVU2QyxHQUNBLGFBQXZDQSxFQUFNUSxPQUFPQyxRQUFRQyxlQWhCVixTQUFVQyxHQUV6QkEsRUFBTTVCLE1BQU1DLE9BQVMsVUFFckIsSUFBSTRCLEVBQVd6RyxPQUFPMEcsaUJBQWlCRixHQUNuQzNCLEVBQVN4QyxTQUFTb0UsRUFBU0UsaUJBQWlCLG9CQUFxQixJQUNuRXRFLFNBQVNvRSxFQUFTRSxpQkFBaUIsZUFBZ0IsSUFDbkRILEVBQU1JLGFBQ052RSxTQUFTb0UsRUFBU0UsaUJBQWlCLGtCQUFtQixJQUN0RHRFLFNBQVNvRSxFQUFTRSxpQkFBaUIsdUJBQXdCLElBRTdESCxFQUFNNUIsTUFBTUMsT0FBU0EsRUFBUyxHQUFLLEtBTW5DZ0MsQ0FBV2hCLEVBQU1RLFdBQ2hCLEdBTVF2RyxFQW9CUjRCLE9BaEJHMEUsRUFBWXRHLEVBQUUsaUJBRWxCQSxFQUFFLHVCQUF1QmdILE9BQU0sV0FDN0JoSCxFQUFFZ0IsTUFBTWlHLFFBQVFYLEdBQVd0RCxTQUFTLGNBR3RDaEQsRUFBRSx1QkFBdUJrSCxNQUFLLFdBRVYsSUFERGxILEVBQUVnQixNQUFNbUcsT0FFdkJuSCxFQUFFZ0IsTUFBTUUsWUFBWSxVQUNwQmxCLEVBQUVnQixNQUFNaUcsUUFBUVgsR0FBV3BGLFlBQVksWUFFdkNsQixFQUFFZ0IsTUFBTWdDLFNBQVMiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0ICcuL21vZHVsZXMvbmF2aWdhdGlvbidcclxuaW1wb3J0ICcuL21vZHVsZXMvaXNvdG9wZSdcclxuaW1wb3J0ICcuL21vZHVsZXMvYW5pbWF0aW9uJ1xyXG4iLCIoZnVuY3Rpb24oJCkge1xyXG5cclxuICAgIGxldCAkd2luZG93ID0gJCh3aW5kb3cpO1xyXG4gICAgbGV0IGxhc3RXaW5kb3dXaWR0aCA9ICR3aW5kb3cud2lkdGgoKTtcclxuICAgIGxldCB0b2dnbGUgPSAkKCAnLm5hdmJhci10b2dnbGVyJyApO1xyXG4gICAgbGV0IGhlYWRlciA9ICQoICcuc2l0ZS1oZWFkZXInICk7XHJcbiAgICBsZXQgbmF2aWdhdGlvbiA9ICQoICcubmF2YmFyLW5hdicgKTtcclxuICAgIGxldCBkcm9wZG93bkJ0biA9ICQoICcuZHJvcGRvd24tYnRuJyApO1xyXG4gICAgbGV0IGRyb3Bkb3duID0gJCggJy5kcm9wZG93bi1tZW51JyApO1xyXG5cclxuICAgIC8vIEZ1bmN0aW9uc1xyXG4gICAgZnVuY3Rpb24gdG9nZ2xlTWVudSgpIHtcclxuICAgICAgICAvLyBUb2dnbGUgLm9wZW4gdG8gLm5hdmJhci1uYXZcclxuICAgICAgICAkKG5hdmlnYXRpb24pLnRvZ2dsZUNsYXNzKCAnaXMtb3BlbicgKTtcclxuICAgICAgICAvLyBUb2dnbGUgLmlzLWFjdGl2ZSB0byB0aGUgaGFtYnVyZ2VyIGljb25cclxuICAgICAgICAkKHRvZ2dsZSkudG9nZ2xlQ2xhc3MoICdpcy1hY3RpdmUnICk7XHJcbiAgICAgICAgLy8gVG9nZ2xlIC5pcy1hY3RpdmUgb24gc2l0ZS1oZWFkZXJcclxuICAgICAgICAkKGhlYWRlcikudG9nZ2xlQ2xhc3MoICdleHBhbmRlZCcgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbG9zZUFsbERyb3Bkb3ducygpIHtcclxuICAgICAgICBpZiAoJChkcm9wZG93bikuaGFzQ2xhc3MoICdzaG93JyApKSB7XHJcbiAgICAgICAgICAgICQoZHJvcGRvd24pLnJlbW92ZUNsYXNzKCAnc2hvdycgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCQoZHJvcGRvd25CdG4pLmhhc0NsYXNzKCAndG9nZ2xlZCcgKSkge1xyXG4gICAgICAgICAgICAkKGRyb3Bkb3duQnRuKS5yZW1vdmVDbGFzcyggJ3RvZ2dsZWQnICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoZHJvcGRvd24pLmF0dHIoIFwic3R5bGVcIiwgXCIgXCIgKTtcclxuICAgICAgICAkKG5hdmlnYXRpb24pLmF0dHIoIFwic3R5bGVcIiwgXCIgXCIgKTtcclxuICAgICAgICAkKHRvZ2dsZSkucmVtb3ZlQ2xhc3MoICdpcy1hY3RpdmUnICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT3BlbiBtb2JpbGUgbWVudVxyXG4gICAgJCh0b2dnbGUpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IFxyXG5cclxuICAgICAgICB0b2dnbGVNZW51KCk7XHJcbiAgXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBPcGVuIGRyb3Bkb3duIG1lbnVzXHJcbiAgICAkKGRyb3Bkb3duQnRuKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBcclxuXHJcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIC8gcmVtb3ZlIC50b2dnbGVkIGZyb20gZHJvcGRvd24gYnV0dG9uXHJcblx0XHRpZiAoJHRoaXMuaGFzQ2xhc3MoICd0b2dnbGVkJyApKSB7XHJcblx0XHRcdCR0aGlzLnJlbW92ZUNsYXNzKCAndG9nZ2xlZCcgKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdCR0aGlzLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoICcuZHJvcGRvd24tYnRuJyApLnJlbW92ZUNsYXNzKCAndG9nZ2xlZCcgKTtcclxuXHRcdFx0JHRoaXMudG9nZ2xlQ2xhc3MoICd0b2dnbGVkJyApO1xyXG5cdFx0fVxyXG5cclxuICAgICAgICAvLyBBZGQgLyByZW1vdmUgLnNob3cgZnJvbSBkcm9wZG93bi1tZW51XHJcbiAgICAgICAgaWYgKCR0aGlzLm5leHQoKS5oYXNDbGFzcyggJ3Nob3cnICkpIHtcclxuICAgICAgICAgICAgJHRoaXMubmV4dCgpLnJlbW92ZUNsYXNzKCAnc2hvdycgKTtcclxuICAgICAgICAgICAgJHRoaXMubmV4dCgpLnNsaWRlVXAoIDM1MCApO1xyXG4gICAgICAgICAgICAkdGhpcy5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCAnLmRyb3Bkb3duLW1lbnUnICkucmVtb3ZlQ2xhc3MoICdzaG93JyApO1xyXG4gICAgICAgICAgICAkdGhpcy5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCAnLmRyb3Bkb3duLW1lbnUnICkuc2xpZGVVcCggMzUwICk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICR0aGlzLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoICcuZHJvcGRvd24tbWVudScgKS5yZW1vdmVDbGFzcyggJ3Nob3cnICk7XHJcblx0XHRcdCR0aGlzLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoICcuZHJvcGRvd24tbWVudScgKS5zbGlkZVVwKCAzNTAgKTtcclxuXHRcdFx0JHRoaXMubmV4dCgpLnRvZ2dsZUNsYXNzKCAnc2hvdycgKTtcclxuICAgICAgICAgICAgJHRoaXMubmV4dCgpLnNsaWRlVG9nZ2xlKCAzNTAgKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDbG9zZSBhbmQgcmVzZXQgb24gd2luZG93IHdpZHRoIGNoYW5nZVxyXG4gICAgJHdpbmRvdy5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICB2YXIgd2luZG93V2lkdGggPSAkd2luZG93LndpZHRoKCk7XHJcblxyXG4gICAgICAgIGlmIChsYXN0V2luZG93V2lkdGggIT09IHdpbmRvd1dpZHRoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCQobmF2aWdhdGlvbikuaGFzQ2xhc3MoICdpcy1vcGVuJyApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlTWVudSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjbG9zZUFsbERyb3Bkb3ducygpO1xyXG4gICAgICAgICAgICAgICAgJChuYXZpZ2F0aW9uKS5yZW1vdmVBdHRyKCAnc3R5bGUnICk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAgIFxyXG59KSggalF1ZXJ5ICk7XHJcbiIsImpRdWVyeShmdW5jdGlvbiAoJCkge1xyXG5cclxuICB2YXIgJGdyaWQgPSAkKCcuZ2FsbGVyeScpLmlzb3RvcGUoe1xyXG4gICAgaXRlbVNlbGVjdG9yOiAnLmdhbGxlcnktaXRlbScsXHJcbiAgICBsYXlvdXRNb2RlOiAnbWFzb25yeScsXHJcbiAgICBtYXNvbnJ5IDoge1xyXG4gICAgICBndXR0ZXI6ICcuZ2FsbGVyeS1pdGVtLWd1dHRlcidcclxuICAgIH1cclxuICB9KTtcclxuICAvLyBmaWx0ZXIgZnVuY3Rpb25zXHJcbiAgdmFyIGZpbHRlckZucyA9IHtcclxuICAgIC8vIHNob3cgaWYgbnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiA1MFxyXG4gICAgbnVtYmVyR3JlYXRlclRoYW41MDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBudW1iZXIgPSAkKHRoaXMpLmZpbmQoJy5udW1iZXInKS50ZXh0KCk7XHJcbiAgICAgIHJldHVybiBwYXJzZUludCggbnVtYmVyLCAxMCApID4gNTA7XHJcbiAgICB9LFxyXG4gICAgLy8gc2hvdyBpZiBuYW1lIGVuZHMgd2l0aCAtaXVtXHJcbiAgICBpdW06IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgbmFtZSA9ICQodGhpcykuZmluZCgnLm5hbWUnKS50ZXh0KCk7XHJcbiAgICAgIHJldHVybiBuYW1lLm1hdGNoKCAvaXVtJC8gKTtcclxuICAgIH1cclxuICB9O1xyXG4gIC8vIGJpbmQgZmlsdGVyIGJ1dHRvbiBjbGlja1xyXG4gICQoJy5idG4tZmlsdGVyLWdyb3VwJykub24oICdjbGljaycsICdidXR0b24nLCBmdW5jdGlvbigpIHtcclxuICAgIHZhciBmaWx0ZXJWYWx1ZSA9ICQoIHRoaXMgKS5hdHRyKCdkYXRhLWZpbHRlcicpO1xyXG4gICAgLy8gdXNlIGZpbHRlckZuIGlmIG1hdGNoZXMgdmFsdWVcclxuICAgIGZpbHRlclZhbHVlID0gZmlsdGVyRm5zWyBmaWx0ZXJWYWx1ZSBdIHx8IGZpbHRlclZhbHVlO1xyXG4gICAgJGdyaWQuaXNvdG9wZSh7IGZpbHRlcjogZmlsdGVyVmFsdWUgfSk7XHJcbiAgfSk7XHJcbiAgLy8gY2hhbmdlIHNlbGVjdGVkIGNsYXNzIG9uIGJ1dHRvbnNcclxuICAkKCcuYnRuLWdyb3VwJykuZWFjaCggZnVuY3Rpb24oIGksIGJ1dHRvbkdyb3VwICkge1xyXG4gICAgdmFyICRidXR0b25Hcm91cCA9ICQoIGJ1dHRvbkdyb3VwICk7XHJcbiAgICAkYnV0dG9uR3JvdXAub24oICdjbGljaycsICdidXR0b24nLCBmdW5jdGlvbigpIHtcclxuICAgICAgJGJ1dHRvbkdyb3VwLmZpbmQoJy5zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xyXG4gICAgICAkKCB0aGlzICkuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICBcclxuICBcclxuXHJcbn0pO1xyXG5cclxuXHJcbiIsImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcblxyXG4gIC8vIFNsaWRlIGluIGNvbnRlbnQgbGVmdCB0byByaWdodFxyXG4gIC8vIEV4ZWN1dGU6IG9uIHNjcm9sbFxyXG4gIGxldCBzbGlkZUluUmlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzbGlkZS1pbi1sdHInKTtcclxuXHJcbiAgaWYgKHNsaWRlSW5SaWdodCkge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZUluUmlnaHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbmV3IFdheXBvaW50KHtcclxuICAgICAgICBlbGVtZW50OiBzbGlkZUluUmlnaHRbaV0sXHJcbiAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgYW5pbWUoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmVsZW1lbnQsXHJcbiAgICAgICAgICAgIG9wYWNpdHk6IFswLCAxXSxcclxuICAgICAgICAgICAgdHJhbnNsYXRlWDogWy0yNTAsIDBdLFxyXG4gICAgICAgICAgICBkZWxheTogYW5pbWUuc3RhZ2dlcigxMDApLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwMCxcclxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dEV4cG8nXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb2Zmc2V0OiAnODAlJ1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gU2xpZGUgaW4gY29udGVudCByaWdodCB0byBsZWZ0XHJcbiAgLy8gRXhlY3V0ZTogb24gc2Nyb2xsXHJcbiAgbGV0IHNsaWRlSW5MZWZ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2xpZGUtaW4tcnRsJyk7XHJcblxyXG4gIGlmIChzbGlkZUluTGVmdCkge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZUluTGVmdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICBuZXcgV2F5cG9pbnQoe1xyXG4gICAgICAgIGVsZW1lbnQ6IHNsaWRlSW5MZWZ0W2ldLFxyXG4gICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGFuaW1lKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5lbGVtZW50LFxyXG4gICAgICAgICAgICBvcGFjaXR5OiBbMCwgMV0sXHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZVg6IFsyNTAsIDBdLFxyXG4gICAgICAgICAgICBkZWxheTogYW5pbWUuc3RhZ2dlcigxMDApLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwMCxcclxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dEV4cG8nXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb2Zmc2V0OiAnODAlJ1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gU2xpZGUgZG93biBzaXRlIGhlYWRlclxyXG4gIC8vIEV4ZWN1dGU6IG9uIGxvYWRcclxuICBhbmltZSh7XHJcbiAgICB0YXJnZXRzOiAnLnNpdGUtaGVhZGVyJyxcclxuICAgIHRyYW5zbGF0ZVk6IFstMjUwLCAwXSxcclxuICAgIG9wYWNpdHk6IFswLCAxXSxcclxuICAgIGVhc2luZzogJ2Vhc2VPdXRFeHBvJ1xyXG4gIH0pXHJcblxyXG4gIC8vIERyb3AgdGhlIHplcm8gaW4gNDA0XHJcbiAgLy8gRXhlY3V0ZTogb24gbG9hZFxyXG4gIGFuaW1lKHtcclxuICAgIHRhcmdldHM6ICcuZm91ci16ZXJvLWZvdXI6bnRoLW9mLXR5cGUoMiknLFxyXG4gICAgcm90YXRlOiAnLjF0dXJuJyxcclxuICAgIHRyYW5zbGF0ZVk6ICcyNScsXHJcbiAgICBkdXJhdGlvbjogMjAwMCxcclxuICAgIGVhc2luZzogJ3NwcmluZygxLCA4MCwgMiwgMCknLFxyXG4gICAgZGVsYXk6IDEwMDBcclxuICB9KVxyXG5cclxuICAvLyBCbG9jayByZXZlYWwgZm9yIC5wYWdlLXRpdGVsXHJcbiAgLy8gRXhlY3V0ZTogb24gbG9hZFxyXG4gIGxldCBibG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ibG9jay1vdmVybGF5Jyk7XHJcbiAgbGV0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRpdGxlJyk7XHJcbiAgbGV0IHRpdGxlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2UtdGl0bGUnKTtcclxuXHJcbiAgdmFyIHRpdGxlUmV2ZWFsID0gZnVuY3Rpb24gKGJsb2NrLCB0aXRsZSwgdGl0bGVDb250YWluZXIpIHtcclxuXHJcbiAgICB2YXIgYmxvY2tIZWlnaHQgPSB0aXRsZS5jbGllbnRIZWlnaHQ7XHJcbiAgICB2YXIgYmxvY2tXaWR0aCA9IHRpdGxlLm9mZnNldFdpZHRoO1xyXG5cclxuICAgIGJsb2NrLnN0eWxlLmhlaWdodCA9IGJsb2NrSGVpZ2h0ICsgJ3B4JztcclxuXHJcbiAgICB0aXRsZUFuaW1hdGlvbigpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHRpdGxlQW5pbWF0aW9uKCkge1xyXG4gICAgICB2YXIgdGwgPSBhbmltZS50aW1lbGluZSh7XHJcbiAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0UXVhZCcsXHJcbiAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgfSk7XHJcbiAgICAgIHRsLmFkZCh7XHJcbiAgICAgICAgICB0YXJnZXRzOiBibG9jayxcclxuICAgICAgICAgIHdpZHRoOiBibG9ja1dpZHRoLFxyXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICh0bCkge1xyXG4gICAgICAgICAgICBibG9jay5zdHlsZS5yaWdodCA9ICcwJztcclxuICAgICAgICAgICAgdGl0bGUuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hZGQoe1xyXG4gICAgICAgICAgdGFyZ2V0czogYmxvY2ssXHJcbiAgICAgICAgICB3aWR0aDogJzAnXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcbiAgaWYgKGJsb2NrICYmIHRpdGxlICYmIHRpdGxlQ29udGFpbmVyKSB7XHJcbiAgICB0aXRsZVJldmVhbChibG9jaywgdGl0bGUsIHRpdGxlQ29udGFpbmVyKTtcclxuICB9XHJcblxyXG4gIC8vIEJsb2NrIHJldmVhbCBmb3IgLnBhZ2UtbGVhZFxyXG4gIC8vIEV4ZWN1dGU6IG9uIGxvYWRcclxuICBsZXQgbGVhZEJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxlYWQtYmxvY2stb3ZlcmxheScpO1xyXG4gIGxldCBsZWFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxlYWQnKTtcclxuICBsZXQgbGVhZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlLWxlYWQnKTtcclxuXHJcbiAgdmFyIGxlYWRSZXZlYWwgPSBmdW5jdGlvbiAobGVhZEJsb2NrLCBsZWFkLCBsZWFkQ29udGFpbmVyKSB7XHJcblxyXG4gICAgdmFyIGxlYWRCbG9ja0hlaWdodCA9IGxlYWQuY2xpZW50SGVpZ2h0O1xyXG4gICAgdmFyIGxlYWRCbG9ja1dpZHRoID0gbGVhZC5vZmZzZXRXaWR0aDtcclxuXHJcbiAgICBsZWFkQmxvY2suc3R5bGUuaGVpZ2h0ID0gbGVhZEJsb2NrSGVpZ2h0ICsgJ3B4JztcclxuXHJcbiAgICBsZWFkQW5pbWF0aW9uKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gbGVhZEFuaW1hdGlvbigpIHtcclxuICAgICAgdmFyIHRsID0gYW5pbWUudGltZWxpbmUoe1xyXG4gICAgICAgIGVhc2luZzogJ2Vhc2VJbk91dFF1YWQnLFxyXG4gICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgIH0pO1xyXG4gICAgICB0bC5hZGQoe1xyXG4gICAgICAgICAgdGFyZ2V0czogbGVhZEJsb2NrLFxyXG4gICAgICAgICAgd2lkdGg6IGxlYWRCbG9ja1dpZHRoLFxyXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICh0bCkge1xyXG4gICAgICAgICAgICBsZWFkQmxvY2suc3R5bGUucmlnaHQgPSAnMCc7XHJcbiAgICAgICAgICAgIGxlYWQuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBkZWxheTogMjUwXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYWRkKHtcclxuICAgICAgICAgIHRhcmdldHM6IGxlYWRCbG9jayxcclxuICAgICAgICAgIHdpZHRoOiAnMCdcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuICBpZiAobGVhZEJsb2NrICYmIGxlYWQgJiYgbGVhZENvbnRhaW5lcikge1xyXG4gICAgbGVhZFJldmVhbChsZWFkQmxvY2ssIGxlYWQsIGxlYWRDb250YWluZXIpO1xyXG4gIH1cclxuICBcclxuICAvLyBNb3ZlIC5uYXYtaXRlbSB1cCBhbmQgZG93blxyXG4gIC8vIEV4ZWN1dGU6IG9uIGhvdmVyXHJcbiAgbGV0IG5hdkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdi1pdGVtJyk7XHJcblxyXG4gIG5hdkl0ZW1zLmZvckVhY2goKG5hdkl0ZW0pID0+IHtcclxuICAgIG5hdkl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIChldmVudCkgPT4ge1xyXG4gICAgICBhbmltZSh7XHJcbiAgICAgICAgdGFyZ2V0czogbmF2SXRlbS5xdWVyeVNlbGVjdG9yKCcubmF2LWxpbmsnKSxcclxuICAgICAgICB0cmFuc2xhdGVZOiAtMyxcclxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0RXhwbycsXHJcbiAgICAgICAgZHVyYXRpb246IDQwMFxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIG5hdkl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIChldmVudCkgPT4ge1xyXG4gICAgICBhbmltZSh7XHJcbiAgICAgICAgdGFyZ2V0czogbmF2SXRlbS5xdWVyeVNlbGVjdG9yKCcubmF2LWxpbmsnKSxcclxuICAgICAgICB0cmFuc2xhdGVZOiAwLFxyXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRFeHBvJyxcclxuICAgICAgICBkdXJhdGlvbjogNTAwXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0pO1xyXG5cclxuICAvLyBNb3ZlIC5kcm9wZG93bi1pdGVtIHJpZ2h0IGFuZCBsZWZ0XHJcbiAgLy8gRXhlY3V0ZTogb24gaG92ZXJcclxuICBsZXQgZGRJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wZG93bi1pdGVtJyk7XHJcblxyXG4gIGRkSXRlbXMuZm9yRWFjaCgoZGRJdGVtKSA9PiB7XHJcbiAgICBkZEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIChldmVudCkgPT4ge1xyXG4gICAgICBhbmltZSh7XHJcbiAgICAgICAgdGFyZ2V0czogZGRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5uYXYtbGluaycpLFxyXG4gICAgICAgIHRyYW5zbGF0ZVg6IDMsXHJcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dEV4cG8nLFxyXG4gICAgICAgIGR1cmF0aW9uOiA0MDBcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICBkZEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIChldmVudCkgPT4ge1xyXG4gICAgICBhbmltZSh7XHJcbiAgICAgICAgdGFyZ2V0czogZGRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5uYXYtbGluaycpLFxyXG4gICAgICAgIHRyYW5zbGF0ZVg6IDAsXHJcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dEV4cG8nLFxyXG4gICAgICAgIGR1cmF0aW9uOiA1MDBcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfSk7XHJcbn0pXHJcblxyXG4gIC8vIE1vdmUgLnNvY2lhbC1saW5rIHVwIGFuZCBkb3duXHJcbiAgLy8gRXhlY3V0ZTogb24gaG92ZXJcclxuICBsZXQgc29jaWFsSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc29jaWFsLWl0ZW0nKTtcclxuXHJcbiAgc29jaWFsSXRlbXMuZm9yRWFjaCgoc29jaWFsSXRlbSkgPT4ge1xyXG4gICAgc29jaWFsSXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGFuaW1lKHtcclxuICAgICAgICB0YXJnZXRzOiBzb2NpYWxJdGVtLnF1ZXJ5U2VsZWN0b3IoJ2EnKSxcclxuICAgICAgICB0cmFuc2xhdGVZOiAtMyxcclxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0RXhwbycsXHJcbiAgICAgICAgZHVyYXRpb246IDQwMFxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIHNvY2lhbEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIChldmVudCkgPT4ge1xyXG4gICAgICBhbmltZSh7XHJcbiAgICAgICAgdGFyZ2V0czogc29jaWFsSXRlbS5xdWVyeVNlbGVjdG9yKCdhJyksXHJcbiAgICAgICAgdHJhbnNsYXRlWTogMCxcclxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0RXhwbycsXHJcbiAgICAgICAgZHVyYXRpb246IDUwMFxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9KTtcclxuXHJcbiAgLy8gTW92ZSAuc29jaWFsLWxpbmsgdXAgYW5kIGRvd25cclxuICAvLyBFeGVjdXRlOiBvbiBob3ZlclxyXG4gIGxldCBmb290ZXJJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb290ZXItbmF2IC5tZW51LWl0ZW0nKTtcclxuXHJcbiAgZm9vdGVySXRlbXMuZm9yRWFjaCgoZm9vdGVySXRlbSkgPT4ge1xyXG4gICAgZm9vdGVySXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGFuaW1lKHtcclxuICAgICAgICB0YXJnZXRzOiBmb290ZXJJdGVtLnF1ZXJ5U2VsZWN0b3IoJ2EnKSxcclxuICAgICAgICB0cmFuc2xhdGVZOiAtMyxcclxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0RXhwbycsXHJcbiAgICAgICAgZHVyYXRpb246IDQwMFxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIGZvb3Rlckl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIChldmVudCkgPT4ge1xyXG4gICAgICBhbmltZSh7XHJcbiAgICAgICAgdGFyZ2V0czogZm9vdGVySXRlbS5xdWVyeVNlbGVjdG9yKCdhJyksXHJcbiAgICAgICAgdHJhbnNsYXRlWTogMCxcclxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0RXhwbycsXHJcbiAgICAgICAgZHVyYXRpb246IDUwMFxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9KTtcclxuXHJcbi8vIFJvdGF0ZSAuY3VzdG9tLWxvZ29cclxuLy8gRXhlY3V0ZTogb24gc2Nyb2xsXHJcbmZ1bmN0aW9uIHJvdGF0ZUxvZ28oKSB7XHJcbiAgbGV0IGltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY3VzdG9tLWxvZ28nKVswXTtcclxuICBpbWFnZS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZShcIiArIHdpbmRvdy5wYWdlWU9mZnNldCAvIDQgKyBcImRlZylcIjtcclxufVxyXG5cclxud2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24gKCkge1xyXG4gIHJvdGF0ZUxvZ28oKTtcclxufTtcclxuXHJcbi8vIEV4cGFuZCB0ZXh0YXJlYSB3aGVuIHR5cGluZ1xyXG4vLyBFeGVjdXJ0ZTogb24gbGluZWJyZWFrXHJcbnZhciBhdXRvRXhwYW5kID0gZnVuY3Rpb24gKGZpZWxkKSB7XHJcblxyXG4gIGZpZWxkLnN0eWxlLmhlaWdodCA9ICdpbmhlcml0JztcclxuXHJcbiAgdmFyIGNvbXB1dGVkID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZmllbGQpO1xyXG4gIHZhciBoZWlnaHQgPSBwYXJzZUludChjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCdib3JkZXItdG9wLXdpZHRoJyksIDEwKSArXHJcbiAgICBwYXJzZUludChjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCdwYWRkaW5nLXRvcCcpLCAxMCkgK1xyXG4gICAgZmllbGQuc2Nyb2xsSGVpZ2h0ICtcclxuICAgIHBhcnNlSW50KGNvbXB1dGVkLmdldFByb3BlcnR5VmFsdWUoJ3BhZGRpbmctYm90dG9tJyksIDEwKSArXHJcbiAgICBwYXJzZUludChjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCdib3JkZXItYm90dG9tLXdpZHRoJyksIDEwKTtcclxuXHJcbiAgZmllbGQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0IC0gMTQgKyAncHgnO1xyXG5cclxufTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgaWYgKGV2ZW50LnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0YXJlYScpIHJldHVybjtcclxuICBhdXRvRXhwYW5kKGV2ZW50LnRhcmdldCk7XHJcbn0sIGZhbHNlKTtcclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy89PT09PT09PT0gSlFVRVJZID09PT09PT09PT09PVxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4oZnVuY3Rpb24gKCQpIHtcclxuXHJcbiAgLy8gQW5pbWF0ZSBmb3JtIGxhYmVsc1xyXG4gIC8vIEV4ZWN1cmUgb24gaW5wdXQgZm9jdXNcclxuICBsZXQgZm9ybUdyb3VwID0gJCgnLndwY2Y3LWZvcm0gcCcpO1xyXG5cclxuICAkKCcud3BjZjctZm9ybS1jb250cm9sJykuZm9jdXMoZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS5wYXJlbnRzKGZvcm1Hcm91cCkuYWRkQ2xhc3MoJ2ZvY3VzZWQnKTtcclxuICB9KTtcclxuXHJcbiAgJCgnLndwY2Y3LWZvcm0tY29udHJvbCcpLmJsdXIoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGlucHV0VmFsdWUgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgaWYgKGlucHV0VmFsdWUgPT0gXCJcIikge1xyXG4gICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdmaWxsZWQnKTtcclxuICAgICAgJCh0aGlzKS5wYXJlbnRzKGZvcm1Hcm91cCkucmVtb3ZlQ2xhc3MoJ2ZvY3VzZWQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2ZpbGxlZCcpO1xyXG4gICAgfVxyXG4gIH0pXHJcblxyXG59KShqUXVlcnkpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9